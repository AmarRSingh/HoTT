<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>HoTT.Factorization</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library HoTT.Factorization</h1>

<div class="code">

<br/>
</div>

<div class="doc">
<a name="lab188"></a><h1 class="section">Factorizations and factorization systems.</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="HoTT.Basics.html#"><span class="id" type="library">HoTT.Basics</span></a> <a class="idref" href="HoTT.Types.html#"><span class="id" type="library">HoTT.Types</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="HoTT.HProp.html#"><span class="id" type="library">HProp</span></a> <a class="idref" href="HoTT.UnivalenceImpliesFunext.html#"><span class="id" type="library">UnivalenceImpliesFunext</span></a> <a class="idref" href="HoTT.Extensions.html#"><span class="id" type="library">Extensions</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="HoTT.Tactics.html#"><span class="id" type="library">HoTT.Tactics</span></a>.<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">path_scope</span>.<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">equiv_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab189"></a><h2 class="section">Factorizations</h2>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Section</span> <a name="Factorization"><span class="id" type="section">Factorization</span></a>.<br/>

<br/>
</div>

<div class="doc">
It's important that these are all declared with a single <span class="inlinecode"><span class="id" type="keyword">Context</span></span> command, so that the marker <span class="inlinecode">@{<a class="idref" href="HoTT.Basics.PathGroupoids.html#i"><span class="id" type="variable">i</span></a>}</span> refers to the same universe level in all of them. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> {<span class="id" type="var">class1</span> <span class="id" type="var">class2</span> : <span class="id" type="keyword">∀</span> (<span class="id" type="var">X</span> <span class="id" type="var">Y</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}), <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" type="keyword">∀</span> (<span class="id" type="var">X</span> <span class="id" type="var">Y</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}) (<span class="id" type="var">g</span>:<a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>), <a class="idref" href="HoTT.Basics.Overture.html#IsHProp"><span class="id" type="abbreviation">IsHProp</span></a> (<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="variable">class1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" type="keyword">∀</span> (<span class="id" type="var">X</span> <span class="id" type="var">Y</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}) (<span class="id" type="var">g</span>:<a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>), <a class="idref" href="HoTT.Basics.Overture.html#IsHProp"><span class="id" type="abbreviation">IsHProp</span></a> (<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="variable">class2</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}} {<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Factorization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#B"><span class="id" type="variable">B</span></a>}.<br/>

<br/>
</div>

<div class="doc">
A factorization of <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" type="variable">f</span></a></span> into a first factor lying in <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a></span> and a second factor lying in <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Record</span> <a name="Factorization"><span class="id" type="record">Factorization</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a name="intermediate"><span class="id" type="projection">intermediate</span></a> : <span class="id" type="keyword">Type</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="factor1"><span class="id" type="projection">factor1</span></a> : <a class="idref" href="HoTT.Factorization.html#Factorization.A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="method">intermediate</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="factor2"><span class="id" type="projection">factor2</span></a> : <a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="method">intermediate</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.B"><span class="id" type="variable">B</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="fact_factors"><span class="id" type="projection">fact_factors</span></a> : <a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="method">factor2</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="method">factor1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.f"><span class="id" type="variable">f</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="inclass1"><span class="id" type="projection">inclass1</span></a> : <a class="idref" href="HoTT.Factorization.html#Factorization.class1"><span class="id" type="variable">class1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="method">factor1</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="inclass2"><span class="id" type="projection">inclass2</span></a> : <a class="idref" href="HoTT.Factorization.html#Factorization.class2"><span class="id" type="variable">class2</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="method">factor2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="issig_Factorization"><span class="id" type="lemma">issig_Factorization</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a> <span class="id" type="var">I</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <span class="id" type="keyword">Type</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a> <span class="id" type="var">g</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="var">I</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a> <span class="id" type="var">h</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <span class="id" type="var">I</span> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a> <span class="id" type="var">p</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <span class="id" type="var">h</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.f"><span class="id" type="variable">f</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a> <span class="id" type="var">gin1</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.class1"><span class="id" type="variable">class1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">g</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.class2"><span class="id" type="variable">class2</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}}}}}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">issig</span> <a class="idref" href="HoTT.Factorization.html#Build_Factorization"><span class="id" type="constructor">Build_Factorization</span></a> <a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="projection">intermediate</span></a> <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#fact_factors"><span class="id" type="projection">fact_factors</span></a> <a class="idref" href="HoTT.Factorization.html#inclass1"><span class="id" type="projection">inclass1</span></a> <a class="idref" href="HoTT.Factorization.html#inclass2"><span class="id" type="projection">inclass2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="var">Arguments</span> <a class="idref" href="HoTT.Basics.Overture.html#compose"><span class="id" type="definition">compose</span></a> / .<br/>

<br/>
</div>

<div class="doc">
A path between factorizations is equivalent to a structure of the following sort. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Record</span> <a name="PathFactorization"><span class="id" type="record">PathFactorization</span></a> {<span class="id" type="var">fact</span> <span class="id" type="var">fact'</span> : <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a>} :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a name="path_intermediate"><span class="id" type="projection">path_intermediate</span></a> : <a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="projection">intermediate</span></a> <a class="idref" href="HoTT.Factorization.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="projection">intermediate</span></a> <a class="idref" href="HoTT.Factorization.html#fact'"><span class="id" type="variable">fact'</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="path_factor1"><span class="id" type="projection">path_factor1</span></a> : <a class="idref" href="HoTT.Factorization.html#path_intermediate"><span class="id" type="method">path_intermediate</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#fact'"><span class="id" type="variable">fact'</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="path_factor2"><span class="id" type="projection">path_factor2</span></a> : <a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#fact'"><span class="id" type="variable">fact'</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#path_intermediate"><span class="id" type="method">path_intermediate</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="path_fact_factors"><span class="id" type="projection">path_fact_factors</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Factorization.html#path_factor2"><span class="id" type="method">path_factor2</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#fact'"><span class="id" type="variable">fact'</span></a>) (<a class="idref" href="HoTT.Factorization.html#path_factor1"><span class="id" type="method">path_factor1</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Factorization.html#fact_factors"><span class="id" type="projection">fact_factors</span></a> <a class="idref" href="HoTT.Factorization.html#fact'"><span class="id" type="variable">fact'</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Factorization.html#fact_factors"><span class="id" type="projection">fact_factors</span></a> <a class="idref" href="HoTT.Factorization.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
</div>

<div class="doc">
It's easy to extract such a structure from an actual path between factorizations. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="pathfactorization_path"><span class="id" type="definition">pathfactorization_path</span></a> (<span class="id" type="var">fact</span> <span class="id" type="var">fact'</span> : <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Factorization.html#fact'"><span class="id" type="variable">fact'</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> @<a class="idref" href="HoTT.Factorization.html#PathFactorization"><span class="id" type="record">PathFactorization</span></a> <a class="idref" href="HoTT.Factorization.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Factorization.html#fact'"><span class="id" type="variable">fact'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Factorization.html#Build_PathFactorization"><span class="id" type="constructor">Build_PathFactorization</span></a> <span class="id" type="var">fact</span> <span class="id" type="var">fact'</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>); <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_idmap"><span class="id" type="definition">equiv_idmap</span></a> (<a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="projection">intermediate</span></a> <span class="id" type="var">fact</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_1p"><span class="id" type="definition">concat_1p</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The converse, however, is more work. In the proof of Theorem 7.6.6, the book glosses over this theorem with the phrase "by univalence and the characterization of paths and transport in Sigma-types, function types, and path types".  Which is arguably fair informally, because it's "obvious", but it turns out to be a good deal of work to keep track of all the transport lemmas and apply naturality in the right places. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Section</span> <a name="Factorization.PathFactorization"><span class="id" type="section">PathFactorization</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Context</span> `{<a class="idref" href="HoTT.Types.Universe.html#Univalence"><span class="id" type="class">Univalence</span></a>} {<span class="id" type="var">fact</span> <span class="id" type="var">fact'</span> : <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">pf</span> : @<a class="idref" href="HoTT.Factorization.html#PathFactorization"><span class="id" type="record">PathFactorization</span></a> <a class="idref" href="HoTT.Factorization.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Factorization.html#fact'"><span class="id" type="variable">fact'</span></a>).<br/>

<br/>
</div>

<div class="doc">
Let's give short names to the fields of <span class="inlinecode"><span class="id" type="var">pf</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a> := <a class="idref" href="HoTT.Factorization.html#path_intermediate"><span class="id" type="projection">path_intermediate</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.pf"><span class="id" type="variable">pf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="Factorization.PathFactorization.ff1"><span class="id" type="variable">ff1</span></a> := <a class="idref" href="HoTT.Factorization.html#path_factor1"><span class="id" type="projection">path_factor1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.pf"><span class="id" type="variable">pf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="Factorization.PathFactorization.ff2"><span class="id" type="variable">ff2</span></a> := <a class="idref" href="HoTT.Factorization.html#path_factor2"><span class="id" type="projection">path_factor2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.pf"><span class="id" type="variable">pf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="Factorization.PathFactorization.fff"><span class="id" type="variable">fff</span></a> := <a class="idref" href="HoTT.Factorization.html#path_fact_factors"><span class="id" type="projection">path_fact_factors</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.pf"><span class="id" type="variable">pf</span></a>.<br/>

<br/>
</div>

<div class="doc">
Each of those fields now induces a corresponding (dependent) path.  The first one is easy. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="II'"><span class="id" type="definition">II'</span></a> : <a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="projection">intermediate</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="projection">intermediate</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Types.Universe.html#path_universe"><span class="id" type="definition">path_universe</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a>.<br/>

<br/>
</div>

<div class="doc">
The second is slightly harder, but at least its type is obvious. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="ff1'"><span class="id" type="definition">ff1'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="HoTT.Factorization.html#Factorization.A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a>) <a class="idref" href="HoTT.Factorization.html#II'"><span class="id" type="definition">II'</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Types.Arrow.html#path_arrow"><span class="id" type="definition">path_arrow</span></a>; <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Types.Arrow.html#transport_arrow_fromconst"><span class="id" type="definition">transport_arrow_fromconst</span></a> (<span class="id" type="var">C</span> := <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a>) <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">a</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">etransitivity</span>; [ <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Types.Universe.html#transport_path_universe"><span class="id" type="definition">transport_path_universe</span></a> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.ff1"><span class="id" type="variable">ff1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The type of the third is just like the type of the second, but its proof is a bit more complicated because the type of <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.ff2"><span class="id" type="variable">ff2</span></a></span> isn't exactly the way it appears naturally here. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="ff2'"><span class="id" type="definition">ff2'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.B"><span class="id" type="variable">B</span></a>) <a class="idref" href="HoTT.Factorization.html#II'"><span class="id" type="definition">II'</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Types.Arrow.html#path_arrow"><span class="id" type="definition">path_arrow</span></a>; <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Types.Arrow.html#transport_arrow_toconst"><span class="id" type="definition">transport_arrow_toconst</span></a> (<span class="id" type="var">B</span> := <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a>) <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">a</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">etransitivity</span>; [ <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>, <a class="idref" href="HoTT.Types.Universe.html#transport_path_universe_V"><span class="id" type="definition">transport_path_universe_V</span></a> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">etransitivity</span>; [ <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.ff2"><span class="id" type="variable">ff2</span></a> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#compose"><span class="id" type="definition">compose</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#eisretr"><span class="id" type="method">eisretr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Finally, even the type of this one is rather intimidating.  It's hard to justify this type until you get to the end of the proof of <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#path_factorization"><span class="id" type="definition">path_factorization</span></a></span>, below, and see that it's exactly what we need to complete it.  We prove it separately first so that we can make it opaque for performance reasons (roughly a 2x speedup).  Note that we can't make <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#II'"><span class="id" type="definition">II'</span></a></span>, <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#ff1'"><span class="id" type="definition">ff1'</span></a></span>, or <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#ff2'"><span class="id" type="definition">ff2'</span></a></span> opaque, since they have to be unfolded in this proof and the next. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="fff'"><span class="id" type="definition">fff'</span></a> (<span class="id" type="var">a</span> : <a class="idref" href="HoTT.Factorization.html#Factorization.A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Basics.PathGroupoids.html#transportD2"><span class="id" type="definition">transportD2</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="HoTT.Factorization.html#Factorization.A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> <span class="id" type="var">g</span> <span class="id" type="var">h</span> ⇒ <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">_</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span> : <a class="idref" href="HoTT.Factorization.html#Factorization.A"><span class="id" type="variable">A</span></a>, <a class="idref" href="HoTT.Factorization.html#h"><span class="id" type="variable">h</span></a> (<a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">_</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.class1"><span class="id" type="variable">class1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.class2"><span class="id" type="variable">class2</span></a> <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Factorization.html#h"><span class="id" type="variable">h</span></a><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Factorization.html#II'"><span class="id" type="definition">II'</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a>) (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#fact_factors"><span class="id" type="projection">fact_factors</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#inclass1"><span class="id" type="projection">inclass1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="HoTT.Factorization.html#inclass2"><span class="id" type="projection">inclass2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">))</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">).1</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.B"><span class="id" type="variable">B</span></a>) <a class="idref" href="HoTT.Factorization.html#II'"><span class="id" type="definition">II'</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Types.Arrow.html#transport_arrow_fromconst"><span class="id" type="definition">transport_arrow_fromconst</span></a> <a class="idref" href="HoTT.Factorization.html#II'"><span class="id" type="definition">II'</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a>) <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Types.Universe.html#transport_path_universe"><span class="id" type="definition">transport_path_universe</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.ff1"><span class="id" type="variable">ff1</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Types.Arrow.html#transport_arrow_toconst"><span class="id" type="definition">transport_arrow_toconst</span></a> <a class="idref" href="HoTT.Factorization.html#II'"><span class="id" type="definition">II'</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a>) (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a>) (<a class="idref" href="HoTT.Types.Universe.html#transport_path_universe_V"><span class="id" type="definition">transport_path_universe_V</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.ff2"><span class="id" type="variable">ff2</span></a> (<a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">^-1</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a>) (<a class="idref" href="HoTT.Basics.Overture.html#eisretr"><span class="id" type="method">eisretr</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Factorization.html#fact_factors"><span class="id" type="projection">fact_factors</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">long_path_scope</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="HoTT.Types.Arrow.html#ap_transport_arrow_toconst"><span class="id" type="definition">ap_transport_arrow_toconst</span></a> (<span class="id" type="var">B</span> := <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a>) (<span class="id" type="var">C</span> := <a class="idref" href="HoTT.Factorization.html#Factorization.B"><span class="id" type="variable">B</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> (@<a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_compose"><span class="id" type="definition">ap_compose</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Types.Universe.html#path_universe"><span class="id" type="definition">path_universe</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_p_pp"><span class="id" type="definition">ap_p_pp</span></a>; <span class="id" type="var">rewrite_moveL_Mp_p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_Ap"><span class="id" type="definition">concat_Ap</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.ff2"><span class="id" type="variable">ff2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_compose"><span class="id" type="definition">ap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_p_pp"><span class="id" type="definition">ap_p_pp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_pp"><span class="id" type="definition">ap_pp</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Types.Universe.html#path_universe"><span class="id" type="definition">path_universe</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_pA_p"><span class="id" type="definition">concat_pA_p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_pp"><span class="id" type="definition">ap_pp</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- (<a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_compose"><span class="id" type="definition">ap_compose</span></a> (<a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">^-1</span></a>) <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a>); <span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#compose"><span class="id" type="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_pA1_p"><span class="id" type="definition">concat_pA1_p</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#eisretr"><span class="id" type="method">eisretr</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a>) (<a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.ff1"><span class="id" type="variable">ff1</span></a> <span class="id" type="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_pp"><span class="id" type="definition">ap_pp</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#compose"><span class="id" type="definition">compose</span></a>; <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.Overture.html#eisadj"><span class="id" type="method">eisadj</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_p_pp"><span class="id" type="definition">concat_p_pp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_pp"><span class="id" type="definition">ap_pp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_compose"><span class="id" type="definition">ap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> &lt;- (<a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_Ap"><span class="id" type="definition">concat_Ap</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.ff2"><span class="id" type="variable">ff2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rewrite_moveL_Mp_p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fff"><span class="id" type="variable">fff</span></a> <span class="id" type="var">a</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">do</span> 2 <span class="id" type="var">rewrite_moveR_Vp_p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_pp"><span class="id" type="definition">ap_pp</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Types.Universe.html#path_universe"><span class="id" type="definition">path_universe</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">with_rassoc</span> <span class="id" type="keyword">ltac</span>:(<span class="id" type="tactic">rewrite</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_pp"><span class="id" type="definition">ap_pp</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Factorization.html#II'"><span class="id" type="definition">II'</span></a>; <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Types.Universe.html#transport_path_universe_Vp"><span class="id" type="definition">transport_path_universe_Vp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">fold</span> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a>. <span class="id" type="tactic">set</span> (<span class="id" type="var">p</span> := <a class="idref" href="HoTT.Types.Universe.html#path_universe"><span class="id" type="definition">path_universe</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a>); <span class="id" type="var">clearbody</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">case</span> <span class="id" type="var">p</span>; <span class="id" type="var">cbn</span>. <span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">path_hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Close</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">long_path_scope</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Finally, we're ready to prove the main theorem. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="path_factorization"><span class="id" type="definition">path_factorization</span></a> : <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> <a class="idref" href="HoTT.Factorization.html#issig_Factorization"><span class="id" type="lemma">issig_Factorization</span></a><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">^-1)^-1</span></a>); <span class="id" type="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sigma.html#path_sigma'"><span class="id" type="definition">path_sigma'</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Factorization.html#II'"><span class="id" type="definition">II'</span></a> <span class="id" type="var">_</span>); <span class="id" type="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sigma.html#transport_sigma_'"><span class="id" type="definition">transport_sigma_'</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>); <span class="id" type="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sigma.html#path_sigma'"><span class="id" type="definition">path_sigma'</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Factorization.html#ff1'"><span class="id" type="definition">ff1'</span></a> <span class="id" type="var">_</span>); <span class="id" type="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sigma.html#transport_sigma'"><span class="id" type="definition">transport_sigma'</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>); <span class="id" type="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sigma.html#path_sigma'"><span class="id" type="definition">path_sigma'</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Factorization.html#ff2'"><span class="id" type="definition">ff2'</span></a> <span class="id" type="var">_</span>); <span class="id" type="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sigma.html#transport_sigma"><span class="id" type="definition">transport_sigma</span></a> (<span class="id" type="var">A</span> := <a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="projection">intermediate</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">B</span> := <span class="id" type="keyword">fun</span> <span class="id" type="var">g</span> ⇒ <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.f"><span class="id" type="variable">f</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>); <span class="id" type="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sigma.html#path_sigma'"><span class="id" type="definition">path_sigma'</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>); <span class="id" type="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#path_ishprop"><span class="id" type="lemma">path_ishprop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" type="definition">path_forall</span></a>; <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#pointwise_paths"><span class="id" type="definition">pointwise_paths</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Types.Forall.html#transport_forall_constant"><span class="id" type="definition">transport_forall_constant</span></a>, <a class="idref" href="HoTT.Types.Paths.html#transport_paths_Fl"><span class="id" type="definition">transport_paths_Fl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Factorization.html#II'"><span class="id" type="definition">II'</span></a>, <a class="idref" href="HoTT.Factorization.html#ff1'"><span class="id" type="definition">ff1'</span></a>, <a class="idref" href="HoTT.Factorization.html#ff2'"><span class="id" type="definition">ff2'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Types.Arrow.html#ap_apply_l"><span class="id" type="definition">ap_apply_l</span></a>, <a class="idref" href="HoTT.Types.Arrow.html#ap10_path_arrow"><span class="id" type="definition">ap10_path_arrow</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Types.Sigma.html#transport_sigma_'"><span class="id" type="definition">transport_sigma_'</span></a>; <span class="id" type="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Types.Forall.html#transport_forall_constant"><span class="id" type="definition">transport_forall_constant</span></a>, <a class="idref" href="HoTT.Types.Paths.html#transport_paths_Fl"><span class="id" type="definition">transport_paths_Fl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> (@<a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_compose"><span class="id" type="definition">ap_compose</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">g</span>:<a class="idref" href="HoTT.Factorization.html#Factorization.A"><span class="id" type="variable">A</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="projection">intermediate</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact'"><span class="id" type="variable">fact'</span></a> ⇒ <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a> <span class="id" type="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.B"><span class="id" type="variable">B</span></a>) (<a class="idref" href="HoTT.Types.Universe.html#path_universe"><span class="id" type="definition">path_universe</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.II"><span class="id" type="variable">II</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization.fact"><span class="id" type="variable">fact</span></a>) <a class="idref" href="HoTT.Factorization.html#x"><span class="id" type="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Types.Arrow.html#ap_apply_l"><span class="id" type="definition">ap_apply_l</span></a>, <a class="idref" href="HoTT.Types.Arrow.html#ap10_path_arrow"><span class="id" type="definition">ap10_path_arrow</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">do</span> 2 <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#moveR_Vp"><span class="id" type="definition">moveR_Vp</span></a>; <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_p_pp"><span class="id" type="definition">concat_p_pp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Factorization.html#fff'"><span class="id" type="definition">fff'</span></a> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization"><span class="id" type="section">PathFactorization</span></a>.<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="section">Factorization</span></a>.<br/>

<br/>
<span class="id" type="var">Arguments</span> <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a> <span class="id" type="var">class1</span> <span class="id" type="var">class2</span> {<span class="id" type="var">A</span> <span class="id" type="var">B</span>} <span class="id" type="var">f</span>.<br/>
<span class="id" type="var">Arguments</span> <a class="idref" href="HoTT.Factorization.html#PathFactorization"><span class="id" type="record">PathFactorization</span></a> {<span class="id" type="var">class1</span> <span class="id" type="var">class2</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">f</span>} <span class="id" type="var">fact</span> <span class="id" type="var">fact'</span>.<br/>

<br/>
<span class="id" type="keyword">Coercion</span> <a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="projection">intermediate</span></a> : <span class="id" type="var">Factorization</span> &gt;-&gt; <span class="id" type="var">Sortclass</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab190"></a><h2 class="section">Factorization Systems</h2>

<div class="paragraph"> </div>

 A ("unique" or "orthogonal") factorization system consists of a couple of classes of maps, closed under composition, such that every map admits a unique factorization. 
</div>
<div class="code">
<span class="id" type="keyword">Record</span> <a name="FactorizationSystem"><span class="id" type="record">FactorizationSystem</span></a> :=<br/>
&nbsp;&nbsp;{ <a name="class1"><span class="id" type="projection">class1</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}}, <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="ishprop_class1"><span class="id" type="projection">ishprop_class1</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}} (<span class="id" type="var">g</span>:<a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>), <a class="idref" href="HoTT.Basics.Overture.html#IsHProp"><span class="id" type="abbreviation">IsHProp</span></a> (<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="method">class1</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="class1_isequiv"><span class="id" type="projection">class1_isequiv</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}} (<span class="id" type="var">g</span>:<a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>) {<span class="id" type="var">geq</span>:<a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a>}, <a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="method">class1</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="class1_compose"><span class="id" type="projection">class1_compose</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">Z</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}} (<span class="id" type="var">g</span>:<a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>) (<span class="id" type="var">h</span>:<a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#Z"><span class="id" type="variable">Z</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="method">class1</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="method">class1</span></a> <a class="idref" href="HoTT.Factorization.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="method">class1</span></a> (<a class="idref" href="HoTT.Factorization.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="class2"><span class="id" type="projection">class2</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}}, <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="ishprop_class2"><span class="id" type="projection">ishprop_class2</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}} (<span class="id" type="var">g</span>:<a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>), <a class="idref" href="HoTT.Basics.Overture.html#IsHProp"><span class="id" type="abbreviation">IsHProp</span></a> (<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="method">class2</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="class2_isequiv"><span class="id" type="projection">class2_isequiv</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}} (<span class="id" type="var">g</span>:<a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>) {<span class="id" type="var">geq</span>:<a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a>}, <a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="method">class2</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="class2_compose"><span class="id" type="projection">class2_compose</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">Z</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}} (<span class="id" type="var">g</span>:<a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>) (<span class="id" type="var">h</span>:<a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#Z"><span class="id" type="variable">Z</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="method">class2</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="method">class2</span></a> <a class="idref" href="HoTT.Factorization.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="method">class2</span></a> (<a class="idref" href="HoTT.Factorization.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a>) ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Morally, the uniqueness of factorizations says that <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" type="variable">f</span></a></span> is contractible.  However, in practice we always *prove* that by way of <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#path_factorization"><span class="id" type="definition">path_factorization</span></a></span>, and we frequently want to *use* the components of a <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization"><span class="id" type="section">PathFactorization</span></a></span> as well.  Thus, as data we store the canonical factorization and a <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#Factorization.PathFactorization"><span class="id" type="section">PathFactorization</span></a></span> between any two such, and prove in a moment that this implies contractibility of the space of factorizations. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<a name="factor"><span class="id" type="projection">factor</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}} (<span class="id" type="var">f</span>:<a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>), <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization@</span></a>{<span class="id" type="var">i</span> <span class="id" type="var">i</span>} (@<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="method">class1</span></a>) (@<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="method">class2</span></a>) <a class="idref" href="HoTT.Factorization.html#f"><span class="id" type="variable">f</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="path_factor"><span class="id" type="projection">path_factor</span></a> : <span class="id" type="keyword">∀</span> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}} (<span class="id" type="var">f</span>:<a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a><a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">fact</span> : <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization@</span></a>{<span class="id" type="var">i</span> <span class="id" type="var">i</span>} (@<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="method">class1</span></a>) (@<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="method">class2</span></a>) <a class="idref" href="HoTT.Factorization.html#f"><span class="id" type="variable">f</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">fact'</span> : <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization@</span></a>{<span class="id" type="var">i</span> <span class="id" type="var">i</span>} (@<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="method">class1</span></a>) (@<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="method">class2</span></a>) <a class="idref" href="HoTT.Factorization.html#f"><span class="id" type="variable">f</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Factorization.html#PathFactorization"><span class="id" type="record">PathFactorization@</span></a>{<span class="id" type="var">i</span> <span class="id" type="var">i</span> <span class="id" type="var">i</span>} <a class="idref" href="HoTT.Factorization.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Factorization.html#fact'"><span class="id" type="variable">fact'</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" type="keyword">Global</span>&nbsp;<span class="id" type="var">Existing</span> <span class="id" type="var">Instances</span> <span class="id" type="var">ishprop_class1</span> <span class="id" type="var">ishprop_class2</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="FactSys"><span class="id" type="section">FactSys</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> `{<a class="idref" href="HoTT.Types.Universe.html#Univalence"><span class="id" type="class">Univalence</span></a>} (<span class="id" type="var">factsys</span> : <a class="idref" href="HoTT.Factorization.html#FactorizationSystem"><span class="id" type="record">FactorizationSystem</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="Build_Factorization'"><span class="id" type="definition">Build_Factorization'</span></a> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= @<a class="idref" href="HoTT.Factorization.html#Build_Factorization"><span class="id" type="constructor">Build_Factorization</span></a> (@<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) (@<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="Build_PathFactorization'"><span class="id" type="definition">Build_PathFactorization'</span></a> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= @<a class="idref" href="HoTT.Factorization.html#Build_PathFactorization"><span class="id" type="constructor">Build_PathFactorization</span></a> (@<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) (@<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>.<br/>

<br/>
</div>

<div class="doc">
The type of factorizations is, as promised, contractible. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Theorem</span> <a name="contr_factor"><span class="id" type="lemma">contr_factor</span></a> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#Contr"><span class="id" type="abbreviation">Contr</span></a> (<a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a> (@<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) (@<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) <a class="idref" href="HoTT.Factorization.html#f"><span class="id" type="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#contr_inhabited_hprop"><span class="id" type="lemma">contr_inhabited_hprop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#hprop_allpath"><span class="id" type="lemma">hprop_allpath</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">fact</span> <span class="id" type="var">fact'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Factorization.html#path_factorization"><span class="id" type="definition">path_factorization</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Factorization.html#path_factor"><span class="id" type="projection">path_factor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
It follows that the left class is right-cancellable and the right class is left-cancellable. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="cancelR_class1"><span class="id" type="definition">cancelR_class1</span></a> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">Z</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>) (<span class="id" type="var">g</span> : <a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Z"><span class="id" type="variable">Z</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> (<a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#f"><span class="id" type="variable">f</span></a>) <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">c1f</span> <span class="id" type="var">c1gf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <span class="id" type="var">g</span>) <span class="id" type="keyword">as</span> [<span class="id" type="var">I</span> <span class="id" type="var">g1</span> <span class="id" type="var">g2</span> <span class="id" type="var">gf</span> <span class="id" type="var">c1g1</span> <span class="id" type="var">c2g2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">fact</span>  := <a class="idref" href="HoTT.Factorization.html#Build_Factorization'"><span class="id" type="definition">Build_Factorization'</span></a> (<span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">f</span>) <span class="id" type="var">Z</span> (<span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">f</span>) (<a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ 1) <span class="id" type="var">c1gf</span> (<a class="idref" href="HoTT.Factorization.html#class2_isequiv"><span class="id" type="projection">class2_isequiv</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">fact'</span> := <a class="idref" href="HoTT.Factorization.html#Build_Factorization'"><span class="id" type="definition">Build_Factorization'</span></a> (<span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">f</span>) <span class="id" type="var">I</span> (<span class="id" type="var">g1</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">f</span>) <span class="id" type="var">g2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ <span class="id" type="var">gf</span> (<span class="id" type="var">f</span> <a class="idref" href="HoTT.Factorization.html#x"><span class="id" type="variable">x</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#class1_compose"><span class="id" type="projection">class1_compose</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <span class="id" type="var">f</span> <span class="id" type="var">g1</span> <span class="id" type="var">c1f</span> <span class="id" type="var">c1g1</span>) <span class="id" type="var">c2g2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="HoTT.Factorization.html#path_factor"><span class="id" type="projection">path_factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> (<span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">f</span>) <span class="id" type="var">fact</span> <span class="id" type="var">fact'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> [<span class="id" type="var">q</span> <span class="id" type="var">q1</span> <span class="id" type="var">q2</span> <span class="id" type="var">qf</span>]; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> (<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) (<a class="idref" href="HoTT.Types.Arrow.html#path_arrow"><span class="id" type="definition">path_arrow</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">gf</span>) <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Factorization.html#class1_compose"><span class="id" type="projection">class1_compose</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <span class="id" type="var">g1</span> <span class="id" type="var">g2</span> <span class="id" type="var">c1g1</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> (<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) (<a class="idref" href="HoTT.Types.Arrow.html#path_arrow"><span class="id" type="definition">path_arrow</span></a> <span class="id" type="var">q</span><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">^-1</span></a> <span class="id" type="var">g2</span> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#class1_isequiv"><span class="id" type="projection">class1_isequiv</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <span class="id" type="var">q</span><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">^-1</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#pointwise_paths"><span class="id" type="definition">pointwise_paths</span></a>; <span class="id" type="var">equiv_intro</span> <span class="id" type="var">q</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#eissect"><span class="id" type="method">eissect</span></a> <span class="id" type="var">q</span> <span class="id" type="var">x</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">q2</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="cancelL_class2"><span class="id" type="definition">cancelL_class2</span></a> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">Z</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>) (<span class="id" type="var">g</span> : <a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Z"><span class="id" type="variable">Z</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> (<a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#f"><span class="id" type="variable">f</span></a>) <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#f"><span class="id" type="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">c2g</span> <span class="id" type="var">c2gf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <span class="id" type="var">f</span>) <span class="id" type="keyword">as</span> [<span class="id" type="var">I</span> <span class="id" type="var">f1</span> <span class="id" type="var">f2</span> <span class="id" type="var">ff</span> <span class="id" type="var">c1f1</span> <span class="id" type="var">c2f2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">fact</span>  := <a class="idref" href="HoTT.Factorization.html#Build_Factorization'"><span class="id" type="definition">Build_Factorization'</span></a> (<span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">f</span>) <span class="id" type="var">X</span> (<a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a>) (<span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ 1) (<a class="idref" href="HoTT.Factorization.html#class1_isequiv"><span class="id" type="projection">class1_isequiv</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a>) <span class="id" type="var">c2gf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">fact'</span> := <a class="idref" href="HoTT.Factorization.html#Build_Factorization'"><span class="id" type="definition">Build_Factorization'</span></a> (<span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">f</span>) <span class="id" type="var">I</span> <span class="id" type="var">f1</span> (<span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">f2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> <span class="id" type="var">g</span> (<span class="id" type="var">ff</span> <a class="idref" href="HoTT.Factorization.html#x"><span class="id" type="variable">x</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">c1f1</span> (<a class="idref" href="HoTT.Factorization.html#class2_compose"><span class="id" type="projection">class2_compose</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <span class="id" type="var">f2</span> <span class="id" type="var">g</span> <span class="id" type="var">c2f2</span> <span class="id" type="var">c2g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="HoTT.Factorization.html#path_factor"><span class="id" type="projection">path_factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> (<span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">f</span>) <span class="id" type="var">fact</span> <span class="id" type="var">fact'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> [<span class="id" type="var">q</span> <span class="id" type="var">q1</span> <span class="id" type="var">q2</span> <span class="id" type="var">qf</span>]; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> (<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) (<a class="idref" href="HoTT.Types.Arrow.html#path_arrow"><span class="id" type="definition">path_arrow</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">ff</span>) <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Factorization.html#class2_compose"><span class="id" type="projection">class2_compose</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <span class="id" type="var">f1</span> <span class="id" type="var">f2</span> <span class="id" type="var">_</span> <span class="id" type="var">c2f2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> (<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) (<a class="idref" href="HoTT.Types.Arrow.html#path_arrow"><span class="id" type="definition">path_arrow</span></a> <span class="id" type="var">q</span> <span class="id" type="var">f1</span> <span class="id" type="var">q1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#class2_isequiv"><span class="id" type="projection">class2_isequiv</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <span class="id" type="var">q</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The two classes of maps are automatically orthogonal, i.e. any commutative square from a <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a></span> map to a <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a></span> map has a unique diagonal filler.  For now, we only bother to define the lift; in principle we ought to show that the type of lifts is contractible. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">i</span>}}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">i</span> : <a class="idref" href="HoTT.Factorization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#B"><span class="id" type="variable">B</span></a>) (<span class="id" type="var">c1i</span> : <a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#i"><span class="id" type="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p</span> : <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>) (<span class="id" type="var">c2p</span> : <a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#p"><span class="id" type="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Factorization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#X"><span class="id" type="variable">X</span></a>) (<span class="id" type="var">g</span> : <a class="idref" href="HoTT.Factorization.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#Y"><span class="id" type="variable">Y</span></a>) (<span class="id" type="var">h</span> : <a class="idref" href="HoTT.Factorization.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Factorization.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#i"><span class="id" type="variable">i</span></a>).<br/>

<br/>
</div>

<div class="doc">
First we factor <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" type="variable">f</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.C"><span class="id" type="variable">C</span></a>  : <span class="id" type="keyword">Type</span>         := <a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="projection">intermediate</span></a> (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.f1"><span class="id" type="variable">f1</span></a> : <a class="idref" href="HoTT.Factorization.html#FactSys.A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.C"><span class="id" type="variable">C</span></a>       := <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a>      (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.f2"><span class="id" type="variable">f2</span></a> : <a class="idref" href="HoTT.Factorization.html#FactSys.C"><span class="id" type="variable">C</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.X"><span class="id" type="variable">X</span></a>       := <a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a>      (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.ff"><span class="id" type="variable">ff</span></a> : <a class="idref" href="HoTT.Factorization.html#FactSys.f2"><span class="id" type="variable">f2</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f1"><span class="id" type="variable">f1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a> := <a class="idref" href="HoTT.Factorization.html#fact_factors"><span class="id" type="projection">fact_factors</span></a> (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>).<br/>

<br/>
</div>

<div class="doc">
and <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.g"><span class="id" type="variable">g</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.D"><span class="id" type="variable">D</span></a>  : <span class="id" type="keyword">Type</span>         := <a class="idref" href="HoTT.Factorization.html#intermediate"><span class="id" type="projection">intermediate</span></a> (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g"><span class="id" type="variable">g</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.g1"><span class="id" type="variable">g1</span></a> : <a class="idref" href="HoTT.Factorization.html#FactSys.B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.D"><span class="id" type="variable">D</span></a>       := <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a>      (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g"><span class="id" type="variable">g</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.g2"><span class="id" type="variable">g2</span></a> : <a class="idref" href="HoTT.Factorization.html#FactSys.D"><span class="id" type="variable">D</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.Y"><span class="id" type="variable">Y</span></a>       := <a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a>      (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g"><span class="id" type="variable">g</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.gf"><span class="id" type="variable">gf</span></a> : <a class="idref" href="HoTT.Factorization.html#FactSys.g2"><span class="id" type="variable">g2</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g1"><span class="id" type="variable">g1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g"><span class="id" type="variable">g</span></a> := <a class="idref" href="HoTT.Factorization.html#fact_factors"><span class="id" type="projection">fact_factors</span></a> (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g"><span class="id" type="variable">g</span></a>).<br/>

<br/>
</div>

<div class="doc">
Now we observe that <span class="inlinecode"><a class="idref" href="HoTT.categories.KanExtensions.Functors.html#kan_extension_functors.p"><span class="id" type="variable">p</span></a></span> <span class="inlinecode"><span class="id" type="var">o</span></span> <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#FactSys.f2"><span class="id" type="variable">f2</span></a></span> and <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#FactSys.f1"><span class="id" type="variable">f1</span></a></span>, and <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#FactSys.g2"><span class="id" type="variable">g2</span></a></span> and <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#FactSys.g1"><span class="id" type="variable">g1</span></a></span> <span class="inlinecode"><span class="id" type="var">o</span></span> <span class="inlinecode"><a class="idref" href="HoTT.Basics.PathGroupoids.html#i"><span class="id" type="variable">i</span></a></span>, are both factorizations of the common diagonal of the commutative square (for which we use <span class="inlinecode"><a class="idref" href="HoTT.categories.KanExtensions.Functors.html#kan_extension_functors.p"><span class="id" type="variable">p</span></a></span> <span class="inlinecode"><span class="id" type="var">o</span></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" type="variable">f</span></a></span>, but we could equally well use <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.g"><span class="id" type="variable">g</span></a></span> <span class="inlinecode"><span class="id" type="var">o</span></span> <span class="inlinecode"><a class="idref" href="HoTT.Basics.PathGroupoids.html#i"><span class="id" type="variable">i</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.fact"><span class="id" type="variable">fact</span></a>  : <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a> (@<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) (@<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) (<a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Factorization.html#Build_Factorization'"><span class="id" type="definition">Build_Factorization'</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>) <a class="idref" href="HoTT.Factorization.html#FactSys.C"><span class="id" type="variable">C</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f1"><span class="id" type="variable">f1</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f2"><span class="id" type="variable">f2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.ff"><span class="id" type="variable">ff</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#inclass1"><span class="id" type="projection">inclass1</span></a> (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#class2_compose"><span class="id" type="projection">class2_compose</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f2"><span class="id" type="variable">f2</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#inclass2"><span class="id" type="projection">inclass2</span></a> (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Factorization.html#FactSys.c2p"><span class="id" type="variable">c2p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.fact'"><span class="id" type="variable">fact'</span></a> : <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a> (@<a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) (@<a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a>) (<a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Factorization.html#Build_Factorization'"><span class="id" type="definition">Build_Factorization'</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>) <a class="idref" href="HoTT.Factorization.html#FactSys.D"><span class="id" type="variable">D</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.g1"><span class="id" type="variable">g1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.i"><span class="id" type="variable">i</span></a>) <a class="idref" href="HoTT.Factorization.html#FactSys.g2"><span class="id" type="variable">g2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Factorization.html#FactSys.gf"><span class="id" type="variable">gf</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.i"><span class="id" type="variable">i</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#FactSys.h"><span class="id" type="variable">h</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#class1_compose"><span class="id" type="projection">class1_compose</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.i"><span class="id" type="variable">i</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g1"><span class="id" type="variable">g1</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.c1i"><span class="id" type="variable">c1i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#inclass1"><span class="id" type="projection">inclass1</span></a> (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g"><span class="id" type="variable">g</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#inclass2"><span class="id" type="projection">inclass2</span></a> (<a class="idref" href="HoTT.Factorization.html#factor"><span class="id" type="projection">factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g"><span class="id" type="variable">g</span></a>)).<br/>

<br/>
</div>

<div class="doc">
Therefore, by the uniqueness of factorizations, we have an equivalence <span class="inlinecode"><a class="idref" href="HoTT.Factorization.html#FactSys.q"><span class="id" type="variable">q</span></a></span> relating them. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.q"><span class="id" type="variable">q</span></a>  : <a class="idref" href="HoTT.Factorization.html#FactSys.C"><span class="id" type="variable">C</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.D"><span class="id" type="variable">D</span></a>          := <a class="idref" href="HoTT.Factorization.html#path_intermediate"><span class="id" type="projection">path_intermediate</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#path_factor"><span class="id" type="projection">path_factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>) <a class="idref" href="HoTT.Factorization.html#FactSys.fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.fact'"><span class="id" type="variable">fact'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.q1"><span class="id" type="variable">q1</span></a> : <a class="idref" href="HoTT.Factorization.html#FactSys.q"><span class="id" type="variable">q</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f1"><span class="id" type="variable">f1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g1"><span class="id" type="variable">g1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.i"><span class="id" type="variable">i</span></a> := <a class="idref" href="HoTT.Factorization.html#path_factor1"><span class="id" type="projection">path_factor1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#path_factor"><span class="id" type="projection">path_factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>) <a class="idref" href="HoTT.Factorization.html#FactSys.fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.fact'"><span class="id" type="variable">fact'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="FactSys.q2"><span class="id" type="variable">q2</span></a> : <a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f2"><span class="id" type="variable">f2</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g2"><span class="id" type="variable">g2</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.q"><span class="id" type="variable">q</span></a> := <a class="idref" href="HoTT.Factorization.html#path_factor2"><span class="id" type="projection">path_factor2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#path_factor"><span class="id" type="projection">path_factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>) <a class="idref" href="HoTT.Factorization.html#FactSys.fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.fact'"><span class="id" type="variable">fact'</span></a>).<br/>

<br/>
</div>

<div class="doc">
Using this, we can define the lift. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="lift_factsys"><span class="id" type="definition">lift_factsys</span></a> : <a class="idref" href="HoTT.Factorization.html#FactSys.B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.X"><span class="id" type="variable">X</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Factorization.html#FactSys.f2"><span class="id" type="variable">f2</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.q"><span class="id" type="variable">q</span></a><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">^-1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g1"><span class="id" type="variable">g1</span></a>.<br/>

<br/>
</div>

<div class="doc">
And the commutative triangles making it a lift 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="lift_factsys_tri1"><span class="id" type="definition">lift_factsys_tri1</span></a> : <a class="idref" href="HoTT.Factorization.html#lift_factsys"><span class="id" type="definition">lift_factsys</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.i"><span class="id" type="variable">i</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.f2"><span class="id" type="variable">f2</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.q"><span class="id" type="variable">q</span></a><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">^-1</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#FactSys.q1"><span class="id" type="variable">q1</span></a> <span class="id" type="var">x</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>); <span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#compose"><span class="id" type="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> (<a class="idref" href="HoTT.Factorization.html#FactSys.f2"><span class="id" type="variable">f2</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.f1"><span class="id" type="variable">f1</span></a> <span class="id" type="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>, <a class="idref" href="HoTT.Basics.Overture.html#eissect"><span class="id" type="method">eissect</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Factorization.html#FactSys.ff"><span class="id" type="variable">ff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="lift_factsys_tri2"><span class="id" type="definition">lift_factsys_tri2</span></a> : <a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#lift_factsys"><span class="id" type="definition">lift_factsys</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g"><span class="id" type="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Factorization.html#FactSys.q2"><span class="id" type="variable">q2</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>); <span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#compose"><span class="id" type="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> (<a class="idref" href="HoTT.Factorization.html#FactSys.g2"><span class="id" type="variable">g2</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.g1"><span class="id" type="variable">g1</span></a> <span class="id" type="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>, <a class="idref" href="HoTT.Basics.Overture.html#eisretr"><span class="id" type="method">eisretr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Factorization.html#FactSys.gf"><span class="id" type="variable">gf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="var">Arguments</span> <a class="idref" href="HoTT.Basics.Overture.html#compose"><span class="id" type="definition">compose</span></a> / .<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="var">Arguments</span> <a class="idref" href="HoTT.Factorization.html#lift_factsys"><span class="id" type="definition">lift_factsys</span></a> / .<br/>

<br/>
</div>

<div class="doc">
And finally prove that these two triangles compose to the given commutative square. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="lift_factsys_square"><span class="id" type="definition">lift_factsys_square</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="HoTT.Factorization.html#FactSys.A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#lift_factsys_tri1"><span class="id" type="definition">lift_factsys_tri1</span></a> <a class="idref" href="HoTT.Factorization.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Factorization.html#lift_factsys_tri2"><span class="id" type="definition">lift_factsys_tri2</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.i"><span class="id" type="variable">i</span></a> <a class="idref" href="HoTT.Factorization.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.h"><span class="id" type="variable">h</span></a> <a class="idref" href="HoTT.Factorization.html#x"><span class="id" type="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Factorization.html#lift_factsys_tri1"><span class="id" type="definition">lift_factsys_tri1</span></a>, <a class="idref" href="HoTT.Factorization.html#lift_factsys_tri2"><span class="id" type="definition">lift_factsys_tri2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">long_path_scope</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">r</span> := <a class="idref" href="HoTT.Factorization.html#path_fact_factors"><span class="id" type="projection">path_fact_factors</span></a> (<a class="idref" href="HoTT.Factorization.html#path_factor"><span class="id" type="projection">path_factor</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.factsys"><span class="id" type="variable">factsys</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.f"><span class="id" type="variable">f</span></a>) <a class="idref" href="HoTT.Factorization.html#FactSys.fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.fact'"><span class="id" type="variable">fact'</span></a>) <span class="id" type="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Factorization.html#FactSys.q2"><span class="id" type="variable">q2</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.f1"><span class="id" type="variable">f1</span></a> <span class="id" type="var">x</span>) <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.g2"><span class="id" type="variable">g2</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.q1"><span class="id" type="variable">q1</span></a> <span class="id" type="var">x</span>) <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#FactSys.gf"><span class="id" type="variable">gf</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.i"><span class="id" type="variable">i</span></a> <span class="id" type="var">x</span>) <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#FactSys.h"><span class="id" type="variable">h</span></a> <span class="id" type="var">x</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.p"><span class="id" type="variable">p</span></a> (<a class="idref" href="HoTT.Factorization.html#FactSys.ff"><span class="id" type="variable">ff</span></a> <span class="id" type="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_p_pp"><span class="id" type="definition">concat_p_pp</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#moveL_pM"><span class="id" type="definition">moveL_pM</span></a>, <a class="idref" href="HoTT.Basics.PathGroupoids.html#moveR_Vp"><span class="id" type="definition">moveR_Vp</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">r</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#inv_pp"><span class="id" type="definition">inv_pp</span></a>; <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_pp"><span class="id" type="definition">ap_pp</span></a>; <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_V"><span class="id" type="definition">ap_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_pp_p"><span class="id" type="definition">concat_pp_p</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#whiskerL"><span class="id" type="definition">whiskerL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_p_pp"><span class="id" type="definition">concat_p_pp</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#whiskerR"><span class="id" type="definition">whiskerR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_compose"><span class="id" type="definition">ap_compose</span></a>, &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_pp"><span class="id" type="definition">ap_pp</span></a>, &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#inv_pp"><span class="id" type="definition">inv_pp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_pp"><span class="id" type="definition">ap_pp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_V"><span class="id" type="definition">ap_V</span></a>, &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_compose"><span class="id" type="definition">ap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_Ap"><span class="id" type="definition">concat_Ap</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.q2"><span class="id" type="variable">q2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_pp_p"><span class="id" type="definition">concat_pp_p</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#whiskerL"><span class="id" type="definition">whiskerL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_compose"><span class="id" type="definition">ap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_pp"><span class="id" type="definition">ap_pp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#inv_pp"><span class="id" type="definition">inv_pp</span></a>, <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_pp"><span class="id" type="definition">ap_pp</span></a>, <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_V"><span class="id" type="definition">ap_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="HoTT.Basics.Overture.html#eisadj"><span class="id" type="method">eisadj</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_pp_p"><span class="id" type="definition">concat_pp_p</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#moveR_Vp"><span class="id" type="definition">moveR_Vp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_V"><span class="id" type="definition">ap_V</span></a>, <a class="idref" href="HoTT.Basics.PathGroupoids.html#inv_V"><span class="id" type="definition">inv_V</span></a>, &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_compose"><span class="id" type="definition">ap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_A1p"><span class="id" type="definition">concat_A1p</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#eisretr"><span class="id" type="method">eisretr</span></a> <a class="idref" href="HoTT.Factorization.html#FactSys.q"><span class="id" type="variable">q</span></a>) (<a class="idref" href="HoTT.Factorization.html#FactSys.q1"><span class="id" type="variable">q1</span></a> <span class="id" type="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Close</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">long_path_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Factorization.html#FactSys"><span class="id" type="section">FactSys</span></a>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="FactsysExtensions"><span class="id" type="section">FactsysExtensions</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> {<span class="id" type="var">factsys</span> : <a class="idref" href="HoTT.Factorization.html#FactorizationSystem"><span class="id" type="record">FactorizationSystem</span></a>} {<span class="id" type="var">ua</span> : <a class="idref" href="HoTT.Types.Universe.html#Univalence"><span class="id" type="class">Univalence</span></a>}.<br/>

<br/>
</div>

<div class="doc">
We can deduce the lifting property in terms of extensions fairly easily from the version in terms of commutative squares. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="extension_factsys"><span class="id" type="definition">extension_factsys</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Factorization.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Factorization.html#B"><span class="id" type="variable">B</span></a>) {<span class="id" type="var">c1f</span> : <a class="idref" href="HoTT.Factorization.html#class1"><span class="id" type="projection">class1</span></a> <a class="idref" href="HoTT.Factorization.html#FactsysExtensions.factsys"><span class="id" type="variable">factsys</span></a> <a class="idref" href="HoTT.Factorization.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">P</span> : <a class="idref" href="HoTT.Factorization.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>) (<span class="id" type="var">c2P</span> : <a class="idref" href="HoTT.Factorization.html#class2"><span class="id" type="projection">class2</span></a> <a class="idref" href="HoTT.Factorization.html#FactsysExtensions.factsys"><span class="id" type="variable">factsys</span></a> (@<a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" type="abbreviation">pr1</span></a> <a class="idref" href="HoTT.Factorization.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Factorization.html#P"><span class="id" type="variable">P</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">d</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>:<a class="idref" href="HoTT.Factorization.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="HoTT.Factorization.html#P"><span class="id" type="variable">P</span></a> (<a class="idref" href="HoTT.Factorization.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Extensions.html#ExtensionAlong"><span class="id" type="definition">ExtensionAlong</span></a> <a class="idref" href="HoTT.Factorization.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Factorization.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Factorization.html#d"><span class="id" type="variable">d</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">e</span> := <a class="idref" href="HoTT.Factorization.html#lift_factsys"><span class="id" type="definition">lift_factsys</span></a> <a class="idref" href="HoTT.Factorization.html#FactsysExtensions.factsys"><span class="id" type="variable">factsys</span></a> <span class="id" type="var">f</span> <span class="id" type="var">c1f</span> <a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" type="abbreviation">pr1</span></a> <span class="id" type="var">c2P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">f</span> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">d</span> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">e2</span> := <a class="idref" href="HoTT.Factorization.html#lift_factsys_tri2"><span class="id" type="definition">lift_factsys_tri2</span></a> <a class="idref" href="HoTT.Factorization.html#FactsysExtensions.factsys"><span class="id" type="variable">factsys</span></a> <span class="id" type="var">f</span> <span class="id" type="var">c1f</span> <a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" type="abbreviation">pr1</span></a> <span class="id" type="var">c2P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">f</span> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">d</span> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'#'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e2</span> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'#'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'#'_x"><span class="id" type="notation">#</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.2'"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.2'"><span class="id" type="notation">).2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">e1</span> := <a class="idref" href="HoTT.Factorization.html#lift_factsys_tri1"><span class="id" type="definition">lift_factsys_tri1</span></a> <a class="idref" href="HoTT.Factorization.html#FactsysExtensions.factsys"><span class="id" type="variable">factsys</span></a> <span class="id" type="var">f</span> <span class="id" type="var">c1f</span> <a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" type="abbreviation">pr1</span></a> <span class="id" type="var">c2P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">f</span> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">d</span> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ 1) <span class="id" type="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">e</span> (<span class="id" type="var">f</span> <span class="id" type="var">a</span>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">f</span> <span class="id" type="var">a</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">d</span> <span class="id" type="var">a</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">e3</span> := <a class="idref" href="HoTT.Basics.PathGroupoids.html#moveL_M1"><span class="id" type="definition">moveL_M1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_V"><span class="id" type="definition">ap_V</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a> <a class="idref" href="HoTT.Basics.PathGroupoids.html#:path_scope:x_'@@'_x"><span class="id" type="notation">@@</span></a> 1<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Factorization.html#lift_factsys_square"><span class="id" type="definition">lift_factsys_square</span></a> <a class="idref" href="HoTT.Factorization.html#FactsysExtensions.factsys"><span class="id" type="variable">factsys</span></a> <span class="id" type="var">f</span> <span class="id" type="var">c1f</span> <a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" type="abbreviation">pr1</span></a> <span class="id" type="var">c2P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">f</span> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">d</span> <a class="idref" href="HoTT.Factorization.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ 1) <span class="id" type="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">e2</span> (<span class="id" type="var">f</span> <span class="id" type="var">a</span>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Types.Sigma.html#pr1_path"><span class="id" type="definition">pr1_path</span></a> <span class="id" type="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">p</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> <span class="id" type="var">P</span> <a class="idref" href="HoTT.Factorization.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.2'"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span> (<span class="id" type="var">f</span> <span class="id" type="var">a</span>)<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.2'"><span class="id" type="notation">).2</span></a>) <span class="id" type="var">e3</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Types.Sigma.html#pr2_path"><span class="id" type="definition">pr2_path</span></a> <span class="id" type="var">e1</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Factorization.html#FactsysExtensions"><span class="id" type="section">FactsysExtensions</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>