<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>HoTT.Modality</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library HoTT.Modality</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="HoTT.Basics.html#"><span class="id" type="library">HoTT.Basics</span></a> <a class="idref" href="HoTT.Types.html#"><span class="id" type="library">HoTT.Types</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="HoTT.Fibrations.html#"><span class="id" type="library">Fibrations</span></a> <a class="idref" href="HoTT.EquivalenceVarieties.html#"><span class="id" type="library">EquivalenceVarieties</span></a> <a class="idref" href="HoTT.Extensions.html#"><span class="id" type="library">Extensions</span></a> <a class="idref" href="HoTT.Factorization.html#"><span class="id" type="library">Factorization</span></a> <a class="idref" href="HoTT.NullHomotopy.html#"><span class="id" type="library">NullHomotopy</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#"><span class="id" type="library">ReflectiveSubuniverse</span></a>. <span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="HoTT.Tactics.html#"><span class="id" type="library">HoTT.Tactics</span></a>.<br/>

<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">path_scope</span>.<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">equiv_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab174"></a><h1 class="section">Modalities</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Record</span> <a name="Modality"><span class="id" type="record">Modality</span></a> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="msubu"><span class="id" type="projection">msubu</span></a> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#UnitSubuniverse"><span class="id" type="record">UnitSubuniverse@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span>} ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="O_ind"><span class="id" type="projection">O_ind</span></a> : <span class="id" type="keyword">∀</span> (<span class="id" type="var">A</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">sm</span>}) (<span class="id" type="var">B</span> : <a class="idref" href="HoTT.Modality.html#msubu"><span class="id" type="method">msubu</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="var">Type@</span>{<span class="id" type="var">lg</span>}) (<span class="id" type="var">B_inO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">oa</span>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#msubu"><span class="id" type="method">msubu</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#msubu"><span class="id" type="method">msubu</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="O_ind_beta"><span class="id" type="projection">O_ind_beta</span></a> : <span class="id" type="keyword">∀</span> (<span class="id" type="var">A</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">sm</span>}) (<span class="id" type="var">B</span> : <a class="idref" href="HoTT.Modality.html#msubu"><span class="id" type="method">msubu</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="var">Type@</span>{<span class="id" type="var">lg</span>}) <span class="id" type="var">B_inO</span> (<span class="id" type="var">f</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#msubu"><span class="id" type="method">msubu</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)) <span class="id" type="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="method">O_ind</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#B_inO"><span class="id" type="variable">B_inO</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#msubu"><span class="id" type="method">msubu</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="minO_paths"><span class="id" type="projection">minO_paths</span></a> : <span class="id" type="keyword">∀</span> (<span class="id" type="var">A</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">lg</span>}) (<span class="id" type="var">A_inO</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#msubu"><span class="id" type="method">msubu</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>) (<span class="id" type="var">z</span> <span class="id" type="var">z'</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>), <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#msubu"><span class="id" type="method">msubu</span></a> (<a class="idref" href="HoTT.Modality.html#z"><span class="id" type="variable">z</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#z'"><span class="id" type="variable">z'</span></a>)<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" type="var">Arguments</span> <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a> {<span class="id" type="var">O</span>} {<span class="id" type="var">A</span>} <span class="id" type="var">B</span> {<span class="id" type="var">B_inO</span>} <span class="id" type="var">f</span> <span class="id" type="var">a</span> : <span class="id" type="tactic">rename</span>.<br/>
<span class="id" type="var">Arguments</span> <a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="projection">O_ind_beta</span></a> {<span class="id" type="var">O</span>} {<span class="id" type="var">A</span>} <span class="id" type="var">B</span> {<span class="id" type="var">B_inO</span>} <span class="id" type="var">f</span> <span class="id" type="var">a</span> : <span class="id" type="tactic">rename</span>.<br/>

<br/>
<span class="id" type="keyword">Global</span>&nbsp;<span class="id" type="var">Existing</span> <span class="id" type="keyword">Instance</span> <span class="id" type="var">minO_paths</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab175"></a><h2 class="section">Easy modalities</h2>

<div class="paragraph"> </div>

 Our definition of modality is slightly different from the one in the book, which requires an induction principle only into families of the form <span class="inlinecode"><span class="id" type="keyword">fun</span></span> <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> <span class="inlinecode">(<a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.B"><span class="id" type="variable">B</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>)</span>, and similarly only that path-spaces of types <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" type="variable">A</span></a></span> are modal, where "modal" means that the unit is an equivalence.  This is equivalent, roughly since every modal type <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" type="variable">A</span></a></span> (in this sense) is equivalent to <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" type="variable">A</span></a></span>.

<div class="paragraph"> </div>

However, our definition is more convenient in formalized applications because in some examples (such as <span class="inlinecode"><a class="idref" href="HoTT.hit.Truncations.html#Trunc.Trunc"><span class="id" type="inductive">Trunc</span></a></span> and closed modalities), there is a naturally occurring <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a></span> into all modal types that is not judgmentally equal to the one that can be constructed by passing through <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> and back again.  Thus, when we apply general theorems about modalities to a particular modality such as <span class="inlinecode"><a class="idref" href="HoTT.hit.Truncations.html#Trunc.Trunc"><span class="id" type="inductive">Trunc</span></a></span>, the proofs will reduce definitionally to "the way we would have proved them directly" if we didn't know about general modalities.

<div class="paragraph"> </div>

On the other hand, in other examples (such as <span class="inlinecode">~~</span> and open modalities) it is easier to construct the latter weaker induction principle.  Thus, we now show how to get from that to our definition of modality. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Section</span> <a name="EasyModality"><span class="id" type="section">EasyModality</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">O'</span> : <span class="id" type="keyword">Type</span> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">to_O</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">T</span>, <a class="idref" href="HoTT.Modality.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <a class="idref" href="HoTT.Modality.html#T"><span class="id" type="variable">T</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="EasyModality.inO'"><span class="id" type="variable">inO'</span></a> <span class="id" type="var">A</span> := <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">O_indO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> (<span class="id" type="var">B</span> : <a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">∀</span> <span class="id" type="var">z</span>, <a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#z"><span class="id" type="variable">z</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">O_indO_beta</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> (<span class="id" type="var">f</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))) <span class="id" type="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Modality.html#EasyModality.O_indO"><span class="id" type="variable">O_indO</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">inO_pathsO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> (<span class="id" type="var">z</span> <span class="id" type="var">z'</span> : <a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>), <a class="idref" href="HoTT.Modality.html#EasyModality.inO'"><span class="id" type="variable">inO'</span></a> (<a class="idref" href="HoTT.Modality.html#z"><span class="id" type="variable">z</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#z'"><span class="id" type="variable">z'</span></a>)).<br/>

<br/>
</div>

<div class="doc">
Here is the defined more general induction principle. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="O_ind'"><span class="id" type="definition">O_ind'</span></a> <span class="id" type="var">A</span> (<span class="id" type="var">B</span> : <a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">B_inO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">oa</span>, <a class="idref" href="HoTT.Modality.html#EasyModality.inO'"><span class="id" type="variable">inO'</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">oa</span> : <a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>) : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">H</span> := <span class="id" type="var">B_inO</span> <span class="id" type="var">oa</span>); <span class="id" type="tactic">unfold</span> <span class="id" type="var">inO'</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> (<span class="id" type="var">B</span> <span class="id" type="var">oa</span>)<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">)^-1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#EasyModality.O_indO"><span class="id" type="variable">O_indO</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a>, <span class="id" type="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="O_ind_beta'"><span class="id" type="definition">O_ind_beta'</span></a> <span class="id" type="var">A</span> <span class="id" type="var">B</span> {<span class="id" type="var">B_inO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">oa</span>, <a class="idref" href="HoTT.Modality.html#EasyModality.inO'"><span class="id" type="variable">inO'</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)) <span class="id" type="var">a</span><br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#B_inO"><span class="id" type="variable">B_inO</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#moveR_equiv_V"><span class="id" type="definition">moveR_equiv_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> @<a class="idref" href="HoTT.Modality.html#EasyModality.O_indO_beta"><span class="id" type="variable">O_indO_beta</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">f</span> := <span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ <a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <span class="id" type="var">_</span> (<span class="id" type="var">f</span> <a class="idref" href="HoTT.Modality.html#x"><span class="id" type="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We start by building a <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#UnitSubuniverse"><span class="id" type="record">UnitSubuniverse</span></a></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="O_inO'"><span class="id" type="definition">O_inO'</span></a> <span class="id" type="var">A</span> : <a class="idref" href="HoTT.Modality.html#EasyModality.inO'"><span class="id" type="variable">inO'</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#isequiv_adjointify"><span class="id" type="definition">isequiv_adjointify</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <span class="id" type="var">A</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Modality.html#EasyModality.O_indO"><span class="id" type="variable">O_indO</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <span class="id" type="var">A</span>) (<a class="idref" href="HoTT.Basics.Overture.html#const"><span class="id" type="definition">const</span></a> <span class="id" type="var">A</span>) <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a>) <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">pattern</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">oa</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#EasyModality.inO_pathsO"><span class="id" type="variable">inO_pathsO</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_indO_beta"><span class="id" type="variable">O_indO_beta</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <span class="id" type="var">A</span>) (<a class="idref" href="HoTT.Basics.Overture.html#const"><span class="id" type="definition">const</span></a> <span class="id" type="var">A</span>) <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_indO_beta"><span class="id" type="variable">O_indO_beta</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <span class="id" type="var">A</span>) (<a class="idref" href="HoTT.Basics.Overture.html#const"><span class="id" type="definition">const</span></a> <span class="id" type="var">A</span>) <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
It seems to be surprisingly hard to show (without univalence) that this <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#UnitSubuniverse"><span class="id" type="record">UnitSubuniverse</span></a></span> is replete.  We basically have to manually develop enough functoriality of <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> and naturality of <span class="inlinecode"><span class="id" type="var">to_O</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="O"><span class="id" type="definition">O</span></a> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#UnitSubuniverse"><span class="id" type="record">UnitSubuniverse</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#Build_UnitSubuniverse"><span class="id" type="constructor">Build_UnitSubuniverse</span></a> <a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">T</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <a class="idref" href="HoTT.Modality.html#T"><span class="id" type="variable">T</span></a>)) <a class="idref" href="HoTT.Modality.html#O_inO'"><span class="id" type="definition">O_inO'</span></a> <a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> ? <span class="id" type="var">f</span> ?; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#isequiv_commsq"><span class="id" type="definition">isequiv_commsq</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <span class="id" type="var">A</span>) (<a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <span class="id" type="var">B</span>) <span class="id" type="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a> <span class="id" type="var">A</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <span class="id" type="var">B</span>) <span class="id" type="var">_</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <span class="id" type="var">B</span> (<span class="id" type="var">f</span> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))) <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_inO'"><span class="id" type="definition">O_inO'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#O_ind_beta'"><span class="id" type="definition">O_ind_beta'</span></a> <span class="id" type="var">A</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <span class="id" type="var">B</span>) <span class="id" type="var">_</span> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#isequiv_adjointify"><span class="id" type="definition">isequiv_adjointify</span></a> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a> <span class="id" type="var">B</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Modality.html#EasyModality.O'"><span class="id" type="variable">O'</span></a> <span class="id" type="var">A</span>) <span class="id" type="var">_</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">b</span> ⇒ <a class="idref" href="HoTT.Modality.html#EasyModality.to_O"><span class="id" type="variable">to_O</span></a> <span class="id" type="var">A</span> (<span class="id" type="var">f</span><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">^-1</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>))) <span class="id" type="var">_</span> <span class="id" type="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_inO'"><span class="id" type="definition">O_inO'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">pattern</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a> <span class="id" type="var">B</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">x</span>); <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#EasyModality.inO_pathsO"><span class="id" type="variable">inO_pathsO</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#compose"><span class="id" type="definition">compose</span></a>; <span class="id" type="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">abstract</span> (<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Modality.html#O_ind_beta'"><span class="id" type="definition">O_ind_beta'</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>, <a class="idref" href="HoTT.Basics.Overture.html#eisretr"><span class="id" type="method">eisretr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">pattern</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a> <span class="id" type="var">A</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">x</span>); <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#EasyModality.inO_pathsO"><span class="id" type="variable">inO_pathsO</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#compose"><span class="id" type="definition">compose</span></a>; <span class="id" type="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">abstract</span> (<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Modality.html#O_ind_beta'"><span class="id" type="definition">O_ind_beta'</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>, <a class="idref" href="HoTT.Basics.Overture.html#eissect"><span class="id" type="method">eissect</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="Build_Modality_easy"><span class="id" type="definition">Build_Modality_easy</span></a> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#Build_Modality"><span class="id" type="constructor">Build_Modality</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a> <a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a> <a class="idref" href="HoTT.Modality.html#O_ind_beta'"><span class="id" type="definition">O_ind_beta'</span></a> <span class="id" type="var">_</span>); <span class="id" type="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">A_inO</span> <span class="id" type="var">a</span> <span class="id" type="var">a'</span>; <span class="id" type="tactic">change</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a> (<span class="id" type="var">a</span> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">a'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO_equiv_inO"><span class="id" type="definition">inO_equiv_inO</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a> <span class="id" type="var">A</span> <span class="id" type="var">a</span> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a> <span class="id" type="var">A</span> <span class="id" type="var">a'</span>) <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">(</span></a>@<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a> <span class="id" type="var">A</span>) <span class="id" type="var">a</span> <span class="id" type="var">a'</span><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">)^-1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#EasyModality.inO_pathsO"><span class="id" type="variable">inO_pathsO</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#EasyModality"><span class="id" type="section">EasyModality</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab176"></a><h2 class="section">Modalities are reflective subuniverses</h2>

<div class="paragraph"> </div>

 We show that modalities have underlying reflective subuniverses.  It is important in some applications, such as <span class="inlinecode"><a class="idref" href="HoTT.hit.Truncations.html#Trunc.Trunc"><span class="id" type="inductive">Trunc</span></a></span>, that this construction uses the general <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a></span> given as part of the modality data, and not one constructed out of <span class="inlinecode"><span class="id" type="var">O_indO</span></span> as we did when proving <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#Build_Modality_easy"><span class="id" type="definition">Build_Modality_easy</span></a></span>.  For instance, this ensures that <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_functor"><span class="id" type="definition">O_functor</span></a></span> reduces to simply an application of <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a></span>.

<div class="paragraph"> </div>

 Note also that our choice of how to define reflective subuniverses differently from the book enables us to prove this without using funext. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="O_extendable"><span class="id" type="definition">O_extendable</span></a> (<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">B</span> : <a class="idref" href="HoTT.Modality.html#msubu"><span class="id" type="projection">msubu</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> (<a class="idref" href="HoTT.Modality.html#msubu"><span class="id" type="projection">msubu</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a>) (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)} (<span class="id" type="var">n</span> : <a class="idref" href="Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)<br/>
: <a class="idref" href="HoTT.Extensions.html#ExtendableAlong"><span class="id" type="definition">ExtendableAlong</span></a> <a class="idref" href="HoTT.Modality.html#n"><span class="id" type="variable">n</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> (<a class="idref" href="HoTT.Modality.html#msubu"><span class="id" type="projection">msubu</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a>) <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>) <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">n</span> <span class="id" type="keyword">as</span> [|<span class="id" type="var">n</span>].<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a> <span class="id" type="var">B</span> <span class="id" type="var">g</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="projection">O_ind_beta</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">h</span> <span class="id" type="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">O_extendable</span>; <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#minO_paths"><span class="id" type="projection">minO_paths</span></a>; <span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Corollary 7.7.8, part 1 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="modality_to_reflective_subuniverse"><span class="id" type="definition">modality_to_reflective_subuniverse</span></a> (<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span>})<br/>
: <a class="idref" href="HoTT.ReflectiveSubuniverse.html#ReflectiveSubuniverse"><span class="id" type="record">ReflectiveSubuniverse@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span>}<br/>
:= <a class="idref" href="HoTT.ReflectiveSubuniverse.html#Build_ReflectiveSubuniverse"><span class="id" type="constructor">Build_ReflectiveSubuniverse</span></a> (<a class="idref" href="HoTT.Modality.html#msubu"><span class="id" type="projection">msubu</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">B_inO</span> <span class="id" type="var">n</span> ⇒ <a class="idref" href="HoTT.Modality.html#O_extendable"><span class="id" type="definition">O_extendable</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) <a class="idref" href="HoTT.Modality.html#n"><span class="id" type="variable">n</span></a>).<br/>

<br/>
<span class="id" type="keyword">Coercion</span> <a class="idref" href="HoTT.Modality.html#modality_to_reflective_subuniverse"><span class="id" type="definition">modality_to_reflective_subuniverse</span></a> : <span class="id" type="var">Modality</span> &gt;-&gt; <span class="id" type="var">ReflectiveSubuniverse</span>.<br/>

<br/>
<span class="id" type="keyword">Global</span>&nbsp;<span class="id" type="var">Arguments</span> <a class="idref" href="HoTT.Modality.html#modality_to_reflective_subuniverse"><span class="id" type="definition">modality_to_reflective_subuniverse</span></a> / .<br/>

<br/>
</div>

<div class="doc">
Corollary 7.7.8, part 2 
</div>
<div class="code">
<span class="id" type="keyword">Global Instance</span> <a name="inO_sigma"><span class="id" type="instance">inO_sigma</span></a> {<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality</span></a>} (<span class="id" type="var">A</span>:<span class="id" type="keyword">Type</span>) (<span class="id" type="var">B</span>:<a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>} `{<span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)}<br/>
: <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a><a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="Coq.Init.Datatypes.html#snd"><span class="id" type="projection">snd</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO_sigma_iff"><span class="id" type="definition">inO_sigma_iff</span></a> <span class="id" type="var">_</span>) <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> ? <span class="id" type="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a> <span class="id" type="var">B</span> <span class="id" type="var">g</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="projection">O_ind_beta</span></a>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Conversely, if a reflective subuniverse is closed under sigmas, it is a modality. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Theorem</span> <a name="reflective_subuniverse_to_modality"><span class="id" type="lemma">reflective_subuniverse_to_modality</span></a><br/>
&nbsp;&nbsp;(<span class="id" type="var">O</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#ReflectiveSubuniverse"><span class="id" type="record">ReflectiveSubuniverse</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">H</span> : <span class="id" type="keyword">∀</span> (<span class="id" type="var">A</span>:<span class="id" type="keyword">Type</span>) (<span class="id" type="var">B</span>:<a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>} `{<span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> (<a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a><a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>)))<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">K</span> := <a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" type="projection">fst</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO_sigma_iff"><span class="id" type="definition">inO_sigma_iff</span></a> <span class="id" type="var">_</span>) <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#Build_Modality"><span class="id" type="constructor">Build_Modality</span></a> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">B_inO</span> <span class="id" type="var">g</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" type="abbreviation">pr1</span></a> (<span class="id" type="var">K</span> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#B_inO"><span class="id" type="variable">B_inO</span></a> <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">B_inO</span> <span class="id" type="var">g</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#pr2"><span class="id" type="abbreviation">pr2</span></a> (<span class="id" type="var">K</span> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#B_inO"><span class="id" type="variable">B_inO</span></a> <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">_</span>).<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 7.3.9: The reflector <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> can be discarded inside a reflected sum. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="equiv_O_sigma_O"><span class="id" type="definition">equiv_O_sigma_O</span></a> {<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality</span></a>} {<span class="id" type="var">A</span>} (<span class="id" type="var">P</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>)<br/>
: <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a><a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <span class="id" type="var">x</span>)<a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a><a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_adjointify"><span class="id" type="definition">equiv_adjointify</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec"><span class="id" type="definition">O_rec</span></a>; <span class="id" type="tactic">intros</span> [<span class="id" type="var">a</span> <span class="id" type="var">op</span>]; <span class="id" type="var">revert</span> <span class="id" type="var">op</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec"><span class="id" type="definition">O_rec</span></a>; <span class="id" type="tactic">intros</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <span class="id" type="var">O</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">a</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a><span class="id" type="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec"><span class="id" type="definition">O_rec</span></a>; <span class="id" type="tactic">intros</span> [<span class="id" type="var">a</span> <span class="id" type="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <span class="id" type="var">O</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">a</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <span class="id" type="var">O</span> <span class="id" type="var">_</span> <span class="id" type="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#Sect"><span class="id" type="definition">Sect</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">a</span> <span class="id" type="var">p</span>]; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">abstract</span> (<span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> @<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec_beta"><span class="id" type="definition">O_rec_beta</span></a>); <span class="id" type="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#Sect"><span class="id" type="definition">Sect</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">a</span> <span class="id" type="var">op</span>]; <span class="id" type="var">revert</span> <span class="id" type="var">op</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>; <span class="id" type="tactic">intros</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">abstract</span> (<span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> @<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec_beta"><span class="id" type="definition">O_rec_beta</span></a>); <span class="id" type="tactic">reflexivity</span>).<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Corollary 7.3.10 
</div>
<div class="code">
<span class="id" type="keyword">Corollary</span> <a name="equiv_sigma_inO_O"><span class="id" type="lemma">equiv_sigma_inO_O</span></a> {<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality</span></a>} {<span class="id" type="var">A</span>} `{<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>} (<span class="id" type="var">P</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>)<br/>
: <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a><a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <span class="id" type="var">x</span>)<a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a><a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> (<span class="id" type="var">O</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a><span class="id" type="var">A</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <span class="id" type="var">O</span> (<span class="id" type="var">P</span> <span class="id" type="var">x</span>)<a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#equiv_to_O"><span class="id" type="definition">equiv_to_O</span></a>; <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#equiv_O_sigma_O"><span class="id" type="definition">equiv_O_sigma_O</span></a>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab177"></a><h2 class="section">The induction principle <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a></span>, like most induction principles, is an equivalence.</h2>

</div>
<div class="code">
<span class="id" type="keyword">Section</span> <a name="OIndEquiv"><span class="id" type="section">OIndEquiv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> {<span class="id" type="var">fs</span> : <a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" type="class">Funext</span></a>} (<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span>}).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Section</span> <a name="OIndEquiv.OIndEquivData"><span class="id" type="section">OIndEquivData</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Context</span> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">B</span> : <a class="idref" href="HoTT.Modality.html#OIndEquiv.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>) `{<span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="isequiv_O_ind"><span class="id" type="instance">isequiv_O_ind</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#isequiv_adjointify"><span class="id" type="definition">isequiv_adjointify</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">g</span> := <span class="id" type="keyword">fun</span> <span class="id" type="var">h</span> ⇒ <a class="idref" href="HoTT.Modality.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'oD'_x"><span class="id" type="notation">oD</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.A"><span class="id" type="variable">A</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">h</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" type="definition">path_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">oa</span> ⇒ <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a> (<span class="id" type="var">h</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'oD'_x"><span class="id" type="notation">oD</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.A"><span class="id" type="variable">A</span></a>) <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">h</span> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>) <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="projection">O_ind_beta</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a> (<span class="id" type="var">h</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'oD'_x"><span class="id" type="notation">oD</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.A"><span class="id" type="variable">A</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">f</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" type="definition">path_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="projection">O_ind_beta</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a> <span class="id" type="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="equiv_O_ind"><span class="id" type="definition">equiv_O_ind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">∀</span> <span class="id" type="var">oa</span>, <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Basics.Overture.html#BuildEquiv"><span class="id" type="constructor">BuildEquiv</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a>) <span class="id" type="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 7.7.7 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="isequiv_oD_to_O"><span class="id" type="definition">isequiv_oD_to_O</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<span class="id" type="keyword">fun</span> (<span class="id" type="var">h</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">oa</span>, <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>) ⇒ <a class="idref" href="HoTT.Modality.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'oD'_x"><span class="id" type="notation">oD</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Basics.Overture.html#equiv_isequiv"><span class="id" type="projection">equiv_isequiv</span></a> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_inverse"><span class="id" type="lemma">equiv_inverse</span></a> <a class="idref" href="HoTT.Modality.html#equiv_O_ind"><span class="id" type="definition">equiv_O_ind</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData"><span class="id" type="section">OIndEquivData</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="isequiv_o_to_O"><span class="id" type="definition">isequiv_o_to_O</span></a> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">B_inO</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<span class="id" type="keyword">fun</span> (<span class="id" type="var">h</span> : <a class="idref" href="HoTT.Modality.html#OIndEquiv.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) ⇒ <a class="idref" href="HoTT.Modality.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Modality.html#isequiv_oD_to_O"><span class="id" type="definition">isequiv_oD_to_O</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>).<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#OIndEquiv"><span class="id" type="section">OIndEquiv</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab178"></a><h2 class="section">Modally connected types</h2>

<div class="paragraph"> </div>

 Connectedness of a type, relative to a modality, can be defined in two equivalent ways: quantifying over all maps into modal types, or by considering just the universal case, the modal reflection of the type itself.  The former requires only core Coq, but blows up the size (universe level) of <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="record">IsConnected</span></a></span>, since it quantifies over types; moreover, it is not even quite correct since (at least with a polymorphic modality) it should really be quantified over all universes.  Thus, we use the latter, although in most examples it requires HITs to define the modal reflection.

<div class="paragraph"> </div>

Question: is there a definition of connectedness (say, for n-types) that neither blows up the universe level, nor requires HIT's? 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="IsConnected"><span class="id" type="record">IsConnected</span></a> (<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span>}) (<span class="id" type="var">A</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">sm</span>})<br/>
&nbsp;&nbsp;:= <a name="isconnected_contr_O"><span class="id" type="projection">isconnected_contr_O</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#Contr"><span class="id" type="abbreviation">Contr</span></a> (<a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>).<br/>

<br/>
<span class="id" type="keyword">Global</span>&nbsp;<span class="id" type="var">Existing</span> <span class="id" type="keyword">Instance</span> <span class="id" type="var">isconnected_contr_O</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="ConnectedTypes"><span class="id" type="section">ConnectedTypes</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span>}).<br/>

<br/>
</div>

<div class="doc">
Being connected is an hprop 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="ishprop_isconnected"><span class="id" type="instance">ishprop_isconnected</span></a> `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" type="class">Funext</span></a>} <span class="id" type="var">A</span><br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsHProp"><span class="id" type="abbreviation">IsHProp</span></a> (<a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a>; <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Anything equivalent to a connected type is connected. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="isconnected_equiv"><span class="id" type="definition">isconnected_equiv</span></a> (<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>) {<span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) `{<a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> ?; <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#contr_equiv"><span class="id" type="lemma">contr_equiv</span></a> (<a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">A</span>) (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_functor"><span class="id" type="definition">O_functor</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">f</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="isconnected_equiv'"><span class="id" type="definition">isconnected_equiv'</span></a> (<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>) {<span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Modality.html#isconnected_equiv"><span class="id" type="definition">isconnected_equiv</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>.<br/>

<br/>
</div>

<div class="doc">
Connectedness of a type <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" type="variable">A</span></a></span> can equivalently be characterized by the fact that any map to an <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span>-type <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.C"><span class="id" type="variable">C</span></a></span> is nullhomotopic.  Here is one direction of that equivalence. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="isconnected_elim"><span class="id" type="definition">isconnected_elim</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} `{<a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>} (<span class="id" type="var">C</span> : <span class="id" type="keyword">Type</span>) `{<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#C"><span class="id" type="variable">C</span></a>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#C"><span class="id" type="variable">C</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.NullHomotopy.html#NullHomotopy"><span class="id" type="definition">NullHomotopy</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">set</span> (<span class="id" type="var">ff</span> := @<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec"><span class="id" type="definition">O_rec</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<span class="id" type="var">ff</span> (<a class="idref" href="HoTT.Basics.Overture.html#center"><span class="id" type="method">center</span></a> <span class="id" type="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> <span class="id" type="var">ff</span> (<a class="idref" href="HoTT.Basics.Overture.html#contr"><span class="id" type="method">contr</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">a</span>)) <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec_beta"><span class="id" type="definition">O_rec_beta</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
For the other direction of the equivalence, it's sufficient to consider the case when <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.C"><span class="id" type="variable">C</span></a></span> is <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" type="variable">A</span></a></span>.  We include universe annotations to make this sufficiently polymorphic. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="isconnected_from_elim_to_O"><span class="id" type="definition">isconnected_from_elim_to_O</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.NullHomotopy.html#NullHomotopy"><span class="id" type="definition">NullHomotopy@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span> <span class="id" type="var">lg</span>} (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>) <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span>} <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">nh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<span class="id" type="var">nh</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">.1</span></a>).<br/>
</div>

<div class="doc">
This apparent no-op is also necessary to prevent the universe parameters from getting collapsed. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> <a class="idref" href="HoTT.Basics.UniverseLevel.html#lower'"><span class="id" type="definition">lower'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">apply</span> (<span class="id" type="var">nh</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.2'"><span class="id" type="notation">.2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Now the general case follows. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="isconnected_from_elim"><span class="id" type="definition">isconnected_from_elim</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>}<br/>
&nbsp;&nbsp;: <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">∀</span> (<span class="id" type="var">C</span> : <span class="id" type="keyword">Type</span>) `{<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#C"><span class="id" type="variable">C</span></a>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#C"><span class="id" type="variable">C</span></a>), <a class="idref" href="HoTT.NullHomotopy.html#NullHomotopy"><span class="id" type="definition">NullHomotopy</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#isconnected_from_elim_to_O"><span class="id" type="definition">isconnected_from_elim_to_O</span></a> (<span class="id" type="var">H</span> (<a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">A</span>) (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_inO"><span class="id" type="instance">O_inO</span></a> <span class="id" type="var">A</span>) (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">A</span>))).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
A type which is both connected and truncated is contractible. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="contr_trunc_conn"><span class="id" type="definition">contr_trunc_conn</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} `{<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>} `{<a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#Contr"><span class="id" type="abbreviation">Contr</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#contr_equiv"><span class="id" type="lemma">contr_equiv</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">A</span><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">)^-1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Here's another way of stating the universal property for mapping out of connected types into modal ones. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="ooextendable_const_isconnected_inO"><span class="id" type="definition">ooextendable_const_isconnected_inO</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>) `{<a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>} (<span class="id" type="var">C</span> : <span class="id" type="keyword">Type</span>) `{<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#C"><span class="id" type="variable">C</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Extensions.html#ooExtendableAlong"><span class="id" type="definition">ooExtendableAlong</span></a> (@<a class="idref" href="HoTT.Basics.Overture.html#const"><span class="id" type="definition">const</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" type="inductive">Unit</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Modality.html#C"><span class="id" type="variable">C</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">C</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span> <span class="id" type="keyword">as</span> [|<span class="id" type="var">n</span> <span class="id" type="var">IHn</span>]; <span class="id" type="tactic">intros</span> <span class="id" type="var">C</span> ?;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" type="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a> | <span class="id" type="tactic">split</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Modality.html#isconnected_elim"><span class="id" type="definition">isconnected_elim</span></a> <span class="id" type="var">C</span> <span class="id" type="var">f</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">).1</span></a>); <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">apply</span> (<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.2'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Modality.html#isconnected_elim"><span class="id" type="definition">isconnected_elim</span></a> <span class="id" type="var">C</span> <span class="id" type="var">f</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.2'"><span class="id" type="notation">).2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">h</span> <span class="id" type="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Extensions.html#extendable_postcompose'"><span class="id" type="definition">extendable_postcompose'</span></a> <span class="id" type="var">n</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<span class="id" type="var">IHn</span> (<span class="id" type="var">h</span> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">k</span> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a>) <span class="id" type="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> []; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#equiv_idmap"><span class="id" type="definition">equiv_idmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="isequiv_const_isconnected_inO"><span class="id" type="definition">isequiv_const_isconnected_inO</span></a> `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" type="class">Funext</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} `{<a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>} (<span class="id" type="var">C</span> : <span class="id" type="keyword">Type</span>) `{<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedTypes.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#C"><span class="id" type="variable">C</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (@<a class="idref" href="HoTT.Basics.Overture.html#const"><span class="id" type="definition">const</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#C"><span class="id" type="variable">C</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (@<a class="idref" href="HoTT.Basics.Equivalences.html#isequiv_compose"><span class="id" type="instance">isequiv_compose</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">c</span> <span class="id" type="var">u</span> ⇒ <a class="idref" href="HoTT.Modality.html#c"><span class="id" type="variable">c</span></a>) <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Extensions.html#isequiv_ooextendable"><span class="id" type="definition">isequiv_ooextendable</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <span class="id" type="var">C</span>) (@<a class="idref" href="HoTT.Basics.Overture.html#const"><span class="id" type="definition">const</span></a> <span class="id" type="var">A</span> <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" type="inductive">Unit</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Modality.html#ooextendable_const_isconnected_inO"><span class="id" type="definition">ooextendable_const_isconnected_inO</span></a> <span class="id" type="var">A</span> <span class="id" type="var">C</span>))).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#ConnectedTypes"><span class="id" type="section">ConnectedTypes</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab179"></a><h2 class="section">Modally truncated maps</h2>

<div class="paragraph"> </div>

 A map is "in <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span>" if each of its fibers is. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="MapIn"><span class="id" type="record">MapIn</span></a> (<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span>}) {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">lg</span>}} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;:= <a name="inO_hfiber_ino_map"><span class="id" type="projection">inO_hfiber_ino_map</span></a> : <span class="id" type="keyword">∀</span> (<span class="id" type="var">b</span>:<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>), <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>).<br/>

<br/>
<span class="id" type="keyword">Global</span>&nbsp;<span class="id" type="var">Existing</span> <span class="id" type="keyword">Instance</span> <span class="id" type="var">inO_hfiber_ino_map</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="ModalMaps"><span class="id" type="section">ModalMaps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span>}).<br/>

<br/>
</div>

<div class="doc">
Any equivalence is modal 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="mapinO_isequiv"><span class="id" type="instance">mapinO_isequiv</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) `{<a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<a class="idref" href="HoTT.EquivalenceVarieties.html#fcontr_isequiv"><span class="id" type="definition">fcontr_isequiv</span></a> <span class="id" type="var">f</span> <span class="id" type="var">_</span> <span class="id" type="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Any map between modal types is modal. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="mapinO_between_inO"><span class="id" type="definition">mapinO_between_inO</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ModalMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>} `{<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ModalMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">b</span>; <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Anything homotopic to a modal map is modal. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="mapinO_homotopic"><span class="id" type="definition">mapinO_homotopic</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) {<span class="id" type="var">g</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p</span> : <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a>) `{<a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO_equiv_inO"><span class="id" type="definition">inO_equiv_inO</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">f</span> <span class="id" type="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Fibrations.html#equiv_hfiber_homotopic"><span class="id" type="definition">equiv_hfiber_homotopic</span></a> <span class="id" type="var">f</span> <span class="id" type="var">g</span> <span class="id" type="var">p</span> <span class="id" type="var">b</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Being modal is an hprop 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="ishprop_mapinO"><span class="id" type="instance">ishprop_mapinO</span></a> `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" type="class">Funext</span></a>} {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsHProp"><span class="id" type="abbreviation">IsHProp</span></a> (<a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Types.Forall.html#trunc_forall"><span class="id" type="instance">trunc_forall</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The composite of modal maps is modal 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="mapinO_compose"><span class="id" type="instance">mapinO_compose</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) (<span class="id" type="var">g</span> : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#C"><span class="id" type="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>} `{<a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO_equiv_inO"><span class="id" type="definition">inO_equiv_inO</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Fibrations.html#hfiber_compose"><span class="id" type="definition">hfiber_compose</span></a> <span class="id" type="var">f</span> <span class="id" type="var">g</span> <span class="id" type="var">c</span><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">)^-1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#ModalMaps"><span class="id" type="section">ModalMaps</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab180"></a><h2 class="section">Modally connected maps</h2>

<div class="paragraph"> </div>

 Connectedness of a map can again be defined in two equivalent ways: by connectedness of its fibers (as types), or by the lifting property/elimination principle against truncated types.  We use the former; the equivalence with the latter is given below in <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#conn_map_elim"><span class="id" type="definition">conn_map_elim</span></a></span>, <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#conn_map_comp"><span class="id" type="definition">conn_map_comp</span></a></span>, and <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#conn_map_from_extension_elim"><span class="id" type="lemma">conn_map_from_extension_elim</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="IsConnMap"><span class="id" type="record">IsConnMap</span></a> (<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span>}) {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="var">Type@</span>{<span class="id" type="var">sm</span>}} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;:= <a name="isconnected_hfiber_conn_map"><span class="id" type="projection">isconnected_hfiber_conn_map</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">b</span>:<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>, <a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>).<br/>

<br/>
<span class="id" type="keyword">Global</span>&nbsp;<span class="id" type="var">Existing</span> <span class="id" type="keyword">Instance</span> <span class="id" type="var">isconnected_hfiber_conn_map</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="ConnectedMaps"><span class="id" type="section">ConnectedMaps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> `{<a class="idref" href="HoTT.Types.Universe.html#Univalence"><span class="id" type="class">Univalence</span></a>} `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" type="class">Funext</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span>}).<br/>

<br/>
</div>

<div class="doc">
Any equivalence is connected 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="conn_map_isequiv"><span class="id" type="instance">conn_map_isequiv</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) `{<a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<a class="idref" href="HoTT.EquivalenceVarieties.html#fcontr_isequiv"><span class="id" type="definition">fcontr_isequiv</span></a> <span class="id" type="var">f</span> <span class="id" type="var">_</span> <span class="id" type="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a>; <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Anything homotopic to a connected map is connected. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="conn_map_homotopic"><span class="id" type="definition">conn_map_homotopic</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> <span class="id" type="var">g</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) (<span class="id" type="var">h</span> : <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> ? <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#isconnected_equiv"><span class="id" type="definition">isconnected_equiv</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">f</span> <span class="id" type="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Fibrations.html#equiv_hfiber_homotopic"><span class="id" type="definition">equiv_hfiber_homotopic</span></a> <span class="id" type="var">f</span> <span class="id" type="var">g</span> <span class="id" type="var">h</span> <span class="id" type="var">b</span>) <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Being connected is an hprop 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="ishprop_isconnmap"><span class="id" type="instance">ishprop_isconnmap</span></a> `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" type="class">Funext</span></a>} {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsHProp"><span class="id" type="abbreviation">IsHProp</span></a> (<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Types.Forall.html#trunc_forall"><span class="id" type="instance">trunc_forall</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
n-connected maps are orthogonal to n-truncated maps (i.e. familes of n-truncated types). 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="conn_map_elim"><span class="id" type="definition">conn_map_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) `{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">P</span> : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>) `{<span class="id" type="keyword">∀</span> <span class="id" type="var">b</span>:<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">d</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>:<a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> (<a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" type="keyword">∀</span> <span class="id" type="var">b</span>:<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>, <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" type="abbreviation">pr1</span></a> (<a class="idref" href="HoTT.Modality.html#isconnected_elim"><span class="id" type="definition">isconnected_elim</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:<span class="id" type="tactic">exact</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">a</span> <span class="id" type="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> <span class="id" type="var">P</span> <span class="id" type="var">p</span> (<span class="id" type="var">d</span> <span class="id" type="var">a</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="conn_map_comp"><span class="id" type="definition">conn_map_comp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) `{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">P</span> : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>) `{<span class="id" type="keyword">∀</span> <span class="id" type="var">b</span>:<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">d</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>:<a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> (<a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>:<a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="HoTT.Modality.html#conn_map_elim"><span class="id" type="definition">conn_map_elim</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#d"><span class="id" type="variable">d</span></a> (<a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Modality.html#conn_map_elim"><span class="id" type="definition">conn_map_elim</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">set</span> (<span class="id" type="var">fibermap</span> := (<span class="id" type="keyword">fun</span> <span class="id" type="var">a0p</span> : <a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">f</span> (<span class="id" type="var">f</span> <span class="id" type="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" type="keyword">let</span> (<span class="id" type="var">a0</span>, <span class="id" type="var">p</span>) := <a class="idref" href="HoTT.Modality.html#a0p"><span class="id" type="variable">a0p</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> <span class="id" type="var">P</span> <a class="idref" href="HoTT.Modality.html#p"><span class="id" type="variable">p</span></a> (<span class="id" type="var">d</span> <a class="idref" href="HoTT.Modality.html#a0"><span class="id" type="variable">a0</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="HoTT.Modality.html#isconnected_elim"><span class="id" type="definition">isconnected_elim</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<span class="id" type="var">P</span> (<span class="id" type="var">f</span> <span class="id" type="var">a</span>)) <span class="id" type="var">fibermap</span>) <span class="id" type="keyword">as</span> [<span class="id" type="var">x</span> <span class="id" type="var">e</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">change</span> (<span class="id" type="var">d</span> <span class="id" type="var">a</span>) <span class="id" type="keyword">with</span> (<span class="id" type="var">fibermap</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">a</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a>1<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#inverse"><span class="id" type="definition">inverse</span></a>, <span class="id" type="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="isequiv_conn_ino_map"><span class="id" type="definition">isequiv_conn_ino_map</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>} `{<a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.EquivalenceVarieties.html#isequiv_fcontr"><span class="id" type="definition">isequiv_fcontr</span></a>. <span class="id" type="tactic">intros</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="HoTT.Modality.html#contr_trunc_conn"><span class="id" type="definition">contr_trunc_conn</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We can re-express this in terms of extensions. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="extension_conn_map_elim"><span class="id" type="lemma">extension_conn_map_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) `{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">P</span> : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>) `{<span class="id" type="keyword">∀</span> <span class="id" type="var">b</span>:<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">d</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>:<a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> (<a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Extensions.html#ExtensionAlong"><span class="id" type="definition">ExtensionAlong</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#d"><span class="id" type="variable">d</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="HoTT.Modality.html#conn_map_elim"><span class="id" type="definition">conn_map_elim</span></a> <span class="id" type="var">f</span> <span class="id" type="var">P</span> <span class="id" type="var">d</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#conn_map_comp"><span class="id" type="definition">conn_map_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="allpath_extension_conn_map"><span class="id" type="lemma">allpath_extension_conn_map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) `{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">P</span> : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>) `{<span class="id" type="keyword">∀</span> <span class="id" type="var">b</span>:<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">d</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>:<a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> (<a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">e</span> <span class="id" type="var">e'</span> : <a class="idref" href="HoTT.Extensions.html#ExtensionAlong"><span class="id" type="definition">ExtensionAlong</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#d"><span class="id" type="variable">d</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#e'"><span class="id" type="variable">e'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Extensions.html#path_extension"><span class="id" type="definition">path_extension</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#extension_conn_map_elim"><span class="id" type="lemma">extension_conn_map_elim</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
It follows that <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#conn_map_elim"><span class="id" type="definition">conn_map_elim</span></a></span> is actually an equivalence. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Theorem</span> <a name="isequiv_o_conn_map"><span class="id" type="lemma">isequiv_o_conn_map</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) `{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">P</span> : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>) `{<span class="id" type="keyword">∀</span> <span class="id" type="var">b</span>:<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>)}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<span class="id" type="keyword">fun</span> (<span class="id" type="var">g</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">b</span>:<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>, <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>) ⇒ <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'oD'_x"><span class="id" type="notation">oD</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.EquivalenceVarieties.html#isequiv_fcontr"><span class="id" type="definition">isequiv_fcontr</span></a>; <span class="id" type="tactic">intros</span> <span class="id" type="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#contr_inhabited_hprop"><span class="id" type="lemma">contr_inhabited_hprop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">refine</span> (@<a class="idref" href="HoTT.Basics.Trunc.html#trunc_equiv'"><span class="id" type="definition">trunc_equiv'</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">g</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <span class="id" type="keyword">∀</span> <span class="id" type="var">b</span>, <span class="id" type="var">P</span> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'oD'_x"><span class="id" type="notation">oD</span></a> <span class="id" type="var">f</span> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'=='_x"><span class="id" type="notation">==</span></a> <span class="id" type="var">d</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sigma.html#equiv_functor_sigma'"><span class="id" type="definition">equiv_functor_sigma'</span></a> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_idmap"><span class="id" type="definition">equiv_idmap</span></a> <span class="id" type="var">_</span>) <span class="id" type="var">_</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Types.Forall.html#equiv_path_forall"><span class="id" type="definition">equiv_path_forall</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#hprop_allpath"><span class="id" type="lemma">hprop_allpath</span></a>. <span class="id" type="tactic">intros</span> <span class="id" type="var">g</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#allpath_extension_conn_map"><span class="id" type="lemma">allpath_extension_conn_map</span></a> <span class="id" type="var">f</span> <span class="id" type="var">P</span> <span class="id" type="var">d</span> <span class="id" type="var">g</span> <span class="id" type="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">∃</span> (<a class="idref" href="HoTT.Modality.html#conn_map_elim"><span class="id" type="definition">conn_map_elim</span></a> <span class="id" type="var">f</span> <span class="id" type="var">P</span> <span class="id" type="var">d</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" type="definition">path_forall</span></a>; <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#conn_map_comp"><span class="id" type="definition">conn_map_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Conversely, if a map satisfies this elimination principle (expressed via extensions), then it is connected.  This completes the proof of Lemma 7.5.7 from the book. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="conn_map_from_extension_elim"><span class="id" type="lemma">conn_map_from_extension_elim</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">∀</span> (<span class="id" type="var">P</span> : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>) {<span class="id" type="var">P_inO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">b</span>:<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">d</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>:<a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> (<a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Extensions.html#ExtensionAlong"><span class="id" type="definition">ExtensionAlong</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#d"><span class="id" type="variable">d</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">Hf</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#isconnected_from_elim_to_O"><span class="id" type="definition">isconnected_from_elim_to_O</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">e</span> := <span class="id" type="var">Hf</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">b</span> ⇒ <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">f</span> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>)) <span class="id" type="var">_</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a>1<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<span class="id" type="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">.1</span></a> <span class="id" type="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">a</span> <span class="id" type="var">p</span>]. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">apply</span> (<span class="id" type="var">e</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.2'"><span class="id" type="notation">.2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Corollary 7.5.8: It follows that the unit maps <span class="inlinecode"><a class="idref" href="HoTT.categories.IndiscreteCategory.html#Functors.to"><span class="id" type="definition">to</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" type="variable">A</span></a></span> are connected. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="conn_map_to_O"><span class="id" type="instance">conn_map_to_O</span></a> (<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>) : <a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#conn_map_from_extension_elim"><span class="id" type="lemma">conn_map_from_extension_elim</span></a>; <span class="id" type="tactic">intros</span> <span class="id" type="var">P</span> ? <span class="id" type="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a> <span class="id" type="var">P</span> <span class="id" type="var">d</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="projection">O_ind_beta</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 7.5.6: Connected maps compose and cancel on the right. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="conn_map_compose"><span class="id" type="instance">conn_map_compose</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) (<span class="id" type="var">g</span> : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#C"><span class="id" type="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>} `{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#conn_map_from_extension_elim"><span class="id" type="lemma">conn_map_from_extension_elim</span></a>; <span class="id" type="tactic">intros</span> <span class="id" type="var">P</span> ? <span class="id" type="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="HoTT.Modality.html#conn_map_elim"><span class="id" type="definition">conn_map_elim</span></a> <span class="id" type="var">g</span> <span class="id" type="var">P</span> (<a class="idref" href="HoTT.Modality.html#conn_map_elim"><span class="id" type="definition">conn_map_elim</span></a> <span class="id" type="var">f</span> (<span class="id" type="var">P</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">g</span>) <span class="id" type="var">d</span>)); <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#conn_map_comp"><span class="id" type="definition">conn_map_comp</span></a> <span class="id" type="var">g</span> <span class="id" type="var">P</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Modality.html#conn_map_comp"><span class="id" type="definition">conn_map_comp</span></a> <span class="id" type="var">f</span> (<span class="id" type="var">P</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">g</span>) <span class="id" type="var">d</span> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="cancelR_conn_map"><span class="id" type="definition">cancelR_conn_map</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) (<span class="id" type="var">g</span> : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#C"><span class="id" type="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>} `{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>)}<br/>
&nbsp;&nbsp;:  <a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#conn_map_from_extension_elim"><span class="id" type="lemma">conn_map_from_extension_elim</span></a>; <span class="id" type="tactic">intros</span> <span class="id" type="var">P</span> ? <span class="id" type="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="HoTT.Modality.html#conn_map_elim"><span class="id" type="definition">conn_map_elim</span></a> (<span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">f</span>) <span class="id" type="var">P</span> (<span class="id" type="var">d</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'oD'_x"><span class="id" type="notation">oD</span></a> <span class="id" type="var">f</span>)); <span class="id" type="tactic">intros</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pattern</span> <span class="id" type="var">b</span>; <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#conn_map_elim"><span class="id" type="definition">conn_map_elim</span></a> <span class="id" type="var">f</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">b</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#conn_map_comp"><span class="id" type="definition">conn_map_comp</span></a> (<span class="id" type="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <span class="id" type="var">f</span>) <span class="id" type="var">P</span> (<span class="id" type="var">d</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'oD'_x"><span class="id" type="notation">oD</span></a> <span class="id" type="var">f</span>) <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="isequiv_O_rec_conn_map"><span class="id" type="definition">isequiv_O_rec_conn_map</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} `{<a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) `{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec"><span class="id" type="definition">O_rec</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#isequiv_conn_ino_map"><span class="id" type="definition">isequiv_conn_ino_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#cancelR_conn_map"><span class="id" type="definition">cancelR_conn_map</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">A</span>) (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec"><span class="id" type="definition">O_rec</span></a> <span class="id" type="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#conn_map_homotopic"><span class="id" type="definition">conn_map_homotopic</span></a> <span class="id" type="var">f</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec_beta"><span class="id" type="definition">O_rec_beta</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#mapinO_between_inO"><span class="id" type="definition">mapinO_between_inO</span></a>; <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 7.5.12 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Section</span> <a name="ConnectedMaps.ConnMapFunctorSigma"><span class="id" type="section">ConnMapFunctorSigma</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Context</span> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} {<span class="id" type="var">P</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>} {<span class="id" type="var">Q</span> : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) (<span class="id" type="var">g</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#Q"><span class="id" type="variable">Q</span></a> (<a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="equiv_O_hfiber_functor_sigma"><span class="id" type="definition">equiv_O_hfiber_functor_sigma</span></a> (<span class="id" type="var">b</span>:<a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.B"><span class="id" type="variable">B</span></a>) (<span class="id" type="var">v</span>:<a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.Q"><span class="id" type="variable">Q</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> (<a class="idref" href="HoTT.Types.Sigma.html#functor_sigma"><span class="id" type="definition">functor_sigma</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.g"><span class="id" type="variable">g</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a><a class="idref" href="HoTT.Modality.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">equiv_via</span> (<a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">w</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.f"><span class="id" type="variable">f</span></a> <span class="id" type="var">b</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> (<a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.g"><span class="id" type="variable">g</span></a> <span class="id" type="var">w</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">.1</span></a>) (<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><span class="id" type="var">w</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.2'"><span class="id" type="notation">.2</span></a><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'#'_x"><span class="id" type="notation">#</span></a> <span class="id" type="var">v</span>)<a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#equiv_O_functor"><span class="id" type="definition">equiv_O_functor</span></a>, <a class="idref" href="HoTT.Fibrations.html#hfiber_functor_sigma"><span class="id" type="definition">hfiber_functor_sigma</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">equiv_via</span> (<a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">w</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.f"><span class="id" type="variable">f</span></a> <span class="id" type="var">b</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> (<a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.g"><span class="id" type="variable">g</span></a> <span class="id" type="var">w</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">.1</span></a>) (<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><span class="id" type="var">w</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.2'"><span class="id" type="notation">.2</span></a><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'#'_x"><span class="id" type="notation">#</span></a> <span class="id" type="var">v</span>))<a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#equiv_O_sigma_O"><span class="id" type="definition">equiv_O_sigma_O</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#equiv_O_functor"><span class="id" type="definition">equiv_O_functor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Types.Sigma.html#equiv_sigma_contr"><span class="id" type="definition">equiv_sigma_contr</span></a>; <span class="id" type="tactic">intros</span> [<span class="id" type="var">a</span> <span class="id" type="var">p</span>]; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="conn_map_functor_sigma"><span class="id" type="instance">conn_map_functor_sigma</span></a> `{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Types.Sigma.html#functor_sigma"><span class="id" type="definition">functor_sigma</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.g"><span class="id" type="variable">g</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">b</span> <span class="id" type="var">v</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#contr_equiv"><span class="id" type="lemma">contr_equiv</span></a> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_inverse"><span class="id" type="lemma">equiv_inverse</span></a> (<a class="idref" href="HoTT.Modality.html#equiv_O_hfiber_functor_sigma"><span class="id" type="definition">equiv_O_hfiber_functor_sigma</span></a> <span class="id" type="var">b</span> <span class="id" type="var">v</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="conn_map_base_inhabited"><span class="id" type="definition">conn_map_base_inhabited</span></a> (<span class="id" type="var">inh</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">b</span>, <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.Q"><span class="id" type="variable">Q</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.Types.Sigma.html#functor_sigma"><span class="id" type="definition">functor_sigma</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.g"><span class="id" type="variable">g</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma.f"><span class="id" type="variable">f</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#contr_equiv"><span class="id" type="lemma">contr_equiv</span></a> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.Modality.html#equiv_O_hfiber_functor_sigma"><span class="id" type="definition">equiv_O_hfiber_functor_sigma</span></a> <span class="id" type="var">b</span> (<span class="id" type="var">inh</span> <span class="id" type="var">b</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.ConnMapFunctorSigma"><span class="id" type="section">ConnMapFunctorSigma</span></a>.<br/>

<br/>
</div>

<div class="doc">
Lemma 7.5.13.  The "if" direction is a special case of <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#conn_map_functor_sigma"><span class="id" type="instance">conn_map_functor_sigma</span></a></span>, so we prove only the "only if" direction. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="conn_map_fiber"><span class="id" type="definition">conn_map_fiber</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} {<span class="id" type="var">P</span> <span class="id" type="var">Q</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#Q"><span class="id" type="variable">Q</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.Types.Sigma.html#functor_sigma"><span class="id" type="definition">functor_sigma</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>)}<br/>
&nbsp;&nbsp;: <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#isconnected_equiv'"><span class="id" type="definition">isconnected_equiv'</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> (<a class="idref" href="HoTT.Types.Sigma.html#functor_sigma"><span class="id" type="definition">functor_sigma</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a> <span class="id" type="var">f</span>) <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">a</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a><span class="id" type="var">q</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>) <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Fibrations.html#hfiber_functor_sigma_idmap"><span class="id" type="definition">hfiber_functor_sigma_idmap</span></a> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> <span class="id" type="var">f</span> <span class="id" type="var">a</span> <span class="id" type="var">q</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 7.5.14: Connected maps are inverted by <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="O_inverts_conn_map"><span class="id" type="instance">O_inverts_conn_map</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_functor"><span class="id" type="definition">O_functor</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#isequiv_adjointify"><span class="id" type="definition">isequiv_adjointify</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec"><span class="id" type="definition">O_rec</span></a>; <span class="id" type="tactic">intros</span> <span class="id" type="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_functor"><span class="id" type="definition">O_functor</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" type="abbreviation">pr1</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#center"><span class="id" type="method">center</span></a> (<a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">f</span> <span class="id" type="var">y</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#Sect"><span class="id" type="definition">Sect</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>; <span class="id" type="tactic">intros</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_functor"><span class="id" type="definition">O_functor</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">f</span>) (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec_beta"><span class="id" type="definition">O_rec_beta</span></a> <span class="id" type="var">_</span> <span class="id" type="var">b</span>) <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_functor_compose"><span class="id" type="definition">O_functor_compose</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">set</span> (<span class="id" type="var">x</span> := (<a class="idref" href="HoTT.Basics.Overture.html#center"><span class="id" type="method">center</span></a> (<a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">f</span> <span class="id" type="var">b</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">clearbody</span> <span class="id" type="var">x</span>; <span class="id" type="var">revert</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>; <span class="id" type="tactic">intros</span> [<span class="id" type="var">a</span> <span class="id" type="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec_beta"><span class="id" type="definition">O_rec_beta</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">B</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">f</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" type="abbreviation">pr1</span></a><a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">)</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">a</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a><span class="id" type="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">B</span>) <span class="id" type="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#Sect"><span class="id" type="definition">Sect</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>; <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec"><span class="id" type="definition">O_rec</span></a> <span class="id" type="var">_</span>) (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to_O_natural"><span class="id" type="definition">to_O_natural</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">f</span> <span class="id" type="var">a</span>) <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#compose"><span class="id" type="definition">compose</span></a>; <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec_beta"><span class="id" type="definition">O_rec_beta</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_functor"><span class="id" type="definition">O_functor</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" type="abbreviation">pr1</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ConnectedMaps.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">f</span> (<span class="id" type="var">f</span> <span class="id" type="var">a</span>)) <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">a</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a>1<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>, <a class="idref" href="HoTT.Basics.Overture.html#contr"><span class="id" type="method">contr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to_O_natural"><span class="id" type="definition">to_O_natural</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#ConnectedMaps"><span class="id" type="section">ConnectedMaps</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab181"></a><h2 class="section">The modal factorization system</h2>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Section</span> <a name="ModalFact"><span class="id" type="section">ModalFact</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> `{<span class="id" type="var">fs</span> : <a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" type="class">Funext</span></a>} (<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality@</span></a>{<span class="id" type="var">sm</span> <span class="id" type="var">lg</span>}).<br/>

<br/>
</div>

<div class="doc">
Lemma 7.6.4 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="image"><span class="id" type="definition">image</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a> (@<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a>) (@<a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a>) <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Factorization.html#Build_Factorization"><span class="id" type="constructor">Build_Factorization</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">b</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <span class="id" type="var">B</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">f</span> <span class="id" type="var">b</span>)<a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">f</span> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a>1<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">))</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" type="abbreviation">pr1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ 1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#conn_map_compose"><span class="id" type="instance">conn_map_compose</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Fibrations.html#equiv_fibration_replacement"><span class="id" type="definition">equiv_fibration_replacement</span></a> <span class="id" type="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Types.Sigma.html#functor_sigma"><span class="id" type="definition">functor_sigma</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">b</span> ⇒ <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">f</span> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO_equiv_inO"><span class="id" type="definition">inO_equiv_inO</span></a> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.Fibrations.html#hfiber_fibration"><span class="id" type="definition">hfiber_fibration</span></a> <span class="id" type="var">b</span> (<a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">f</span><a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">)</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
This is the composite of the three displayed equivalences at the beginning of the proof of Lemma 7.6.5.  Note that it involves only a single factorization of <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" type="variable">f</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="O_hfiber_O_fact"><span class="id" type="lemma">O_hfiber_O_fact</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} {<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">fact</span> : <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a> (@<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a>) (@<a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a>) <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Modality.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Modality.html#fact"><span class="id" type="variable">fact</span></a>) <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Modality.html#fact"><span class="id" type="variable">fact</span></a>) <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_compose'"><span class="id" type="definition">equiv_compose'</span></a> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.ReflectiveSubuniverse.html#equiv_O_functor"><span class="id" type="definition">equiv_O_functor</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Fibrations.html#hfiber_compose"><span class="id" type="definition">hfiber_compose</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <span class="id" type="var">fact</span>) (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <span class="id" type="var">fact</span>) <span class="id" type="var">b</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_compose'"><span class="id" type="definition">equiv_compose'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Types.Sigma.html#equiv_sigma_contr"><span class="id" type="definition">equiv_sigma_contr</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">w</span> ⇒ <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <span class="id" type="var">fact</span>) <a class="idref" href="HoTT.Modality.html#w"><span class="id" type="variable">w</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">.1</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">w</span>; <span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Factorization.html#inclass1"><span class="id" type="projection">inclass1</span></a> <span class="id" type="var">fact</span> <span class="id" type="var">w</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">.1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_inverse"><span class="id" type="lemma">equiv_inverse</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Modality.html#equiv_sigma_inO_O"><span class="id" type="lemma">equiv_sigma_inO_O</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">w</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <span class="id" type="var">fact</span>) <a class="idref" href="HoTT.Modality.html#w"><span class="id" type="variable">w</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">.1</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Factorization.html#inclass2"><span class="id" type="projection">inclass2</span></a> <span class="id" type="var">fact</span> <span class="id" type="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
This is the corresponding first three of the displayed "mapsto"s in proof of Lemma 7.6.5, and also the last three in reverse order, generalized to an arbitrary path <span class="inlinecode"><a class="idref" href="HoTT.categories.KanExtensions.Functors.html#kan_extension_functors.p"><span class="id" type="variable">p</span></a></span>.  Note that it is much harder to prove than in the book, because we are working in the extra generality of a modality where <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="projection">O_ind_beta</span></a></span> is only propositional. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="O_hfiber_O_fact_inverse_beta"><span class="id" type="lemma">O_hfiber_O_fact_inverse_beta</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} {<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">fact</span> : <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a> (@<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a>) (@<a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a>) <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">a</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) (<span class="id" type="var">p</span> : <a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Modality.html#fact"><span class="id" type="variable">fact</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Modality.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Modality.html#O_hfiber_O_fact"><span class="id" type="lemma">O_hfiber_O_fact</span></a> <a class="idref" href="HoTT.Modality.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">)^-1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Modality.html#fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="HoTT.Modality.html#p"><span class="id" type="variable">p</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="HoTT.Modality.html#p"><span class="id" type="variable">p</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">set</span> (<span class="id" type="var">g</span> := <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <span class="id" type="var">fact</span>); <span class="id" type="tactic">set</span> (<span class="id" type="var">h</span> := <a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <span class="id" type="var">fact</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#moveR_equiv_V"><span class="id" type="definition">moveR_equiv_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Modality.html#O_hfiber_O_fact"><span class="id" type="lemma">O_hfiber_O_fact</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">ev_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#moveL_equiv_M"><span class="id" type="definition">moveL_equiv_M</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> (<a class="idref" href="Coq.Init.Specif.html#existT"><span class="id" type="abbreviation">existT</span></a> (<span class="id" type="keyword">fun</span> (<span class="id" type="var">w</span> : <a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">h</span> <span class="id" type="var">b</span>) ⇒ <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">g</span> <a class="idref" href="HoTT.Modality.html#w"><span class="id" type="variable">w</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">.1</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">g</span> <span class="id" type="var">a</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">g</span> (<span class="id" type="var">g</span> <span class="id" type="var">a</span>)) <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">a</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> 1<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#moveR_equiv_V"><span class="id" type="definition">moveR_equiv_V</span></a>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#moveL_equiv_V"><span class="id" type="definition">moveL_equiv_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> (<a class="idref" href="Coq.Init.Specif.html#existT"><span class="id" type="abbreviation">existT</span></a> (<span class="id" type="keyword">fun</span> (<span class="id" type="var">w</span> : <a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">h</span> <span class="id" type="var">b</span>) ⇒ (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> <span class="id" type="var">g</span> <a class="idref" href="HoTT.Modality.html#w"><span class="id" type="variable">w</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.1'"><span class="id" type="notation">.1</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">g</span> <span class="id" type="var">a</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <span class="id" type="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">a</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> 1<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#compose"><span class="id" type="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">simpl</span> <span class="id" type="tactic">rewrite</span> @<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_rec_beta"><span class="id" type="definition">O_rec_beta</span></a>); <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to_O_natural"><span class="id" type="definition">to_O_natural</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Section</span> <a name="ModalFact.TwoFactorizations"><span class="id" type="section">TwoFactorizations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Context</span> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">fact</span> <span class="id" type="var">fact'</span> : <a class="idref" href="HoTT.Factorization.html#Factorization"><span class="id" type="record">Factorization</span></a> (@<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a>) (@<a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a>) <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="ModalFact.TwoFactorizations.H"><span class="id" type="variable">H</span></a> := <span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ <a class="idref" href="HoTT.Factorization.html#fact_factors"><span class="id" type="projection">fact_factors</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Modality.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#fact_factors"><span class="id" type="projection">fact_factors</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact'"><span class="id" type="variable">fact'</span></a> <a class="idref" href="HoTT.Modality.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a>.<br/>

<br/>
</div>

<div class="doc">
Lemma 7.6.5, part 1. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="equiv_O_factor_hfibers"><span class="id" type="definition">equiv_O_factor_hfibers</span></a> (<span class="id" type="var">b</span>:<a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact"><span class="id" type="variable">fact</span></a>) <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact'"><span class="id" type="variable">fact'</span></a>) <a class="idref" href="HoTT.Modality.html#b"><span class="id" type="variable">b</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_compose'"><span class="id" type="definition">equiv_compose'</span></a> (<a class="idref" href="HoTT.Modality.html#O_hfiber_O_fact"><span class="id" type="lemma">O_hfiber_O_fact</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact'"><span class="id" type="variable">fact'</span></a> <span class="id" type="var">b</span>) <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_compose'"><span class="id" type="definition">equiv_compose'</span></a> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_inverse"><span class="id" type="lemma">equiv_inverse</span></a> (<a class="idref" href="HoTT.Modality.html#O_hfiber_O_fact"><span class="id" type="lemma">O_hfiber_O_fact</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact"><span class="id" type="variable">fact</span></a> <span class="id" type="var">b</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#equiv_O_functor"><span class="id" type="definition">equiv_O_functor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Fibrations.html#equiv_hfiber_homotopic"><span class="id" type="definition">equiv_hfiber_homotopic</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.H"><span class="id" type="variable">H</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 7.6.5, part 2. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="equiv_O_factor_hfibers_beta"><span class="id" type="definition">equiv_O_factor_hfibers_beta</span></a> (<span class="id" type="var">a</span> : <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#equiv_O_factor_hfibers"><span class="id" type="definition">equiv_O_factor_hfibers</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact"><span class="id" type="variable">fact</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> 1<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact'"><span class="id" type="variable">fact'</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.H"><span class="id" type="variable">H</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Modality.html#equiv_O_factor_hfibers"><span class="id" type="definition">equiv_O_factor_hfibers</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">ev_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#moveR_equiv_M"><span class="id" type="definition">moveR_equiv_M</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">do</span> 2 <span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Modality.html#O_hfiber_O_fact_inverse_beta"><span class="id" type="lemma">O_hfiber_O_fact_inverse_beta</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#equiv_fun"><span class="id" type="projection">equiv_fun</span></a>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#equiv_O_functor"><span class="id" type="definition">equiv_O_functor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Fibrations.html#equiv_hfiber_homotopic"><span class="id" type="definition">equiv_hfiber_homotopic</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact"><span class="id" type="variable">fact</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact"><span class="id" type="variable">fact</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact'"><span class="id" type="variable">fact'</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact'"><span class="id" type="variable">fact'</span></a>) <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.H"><span class="id" type="variable">H</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact"><span class="id" type="variable">fact</span></a> (<a class="idref" href="HoTT.Factorization.html#factor1"><span class="id" type="projection">factor1</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations.fact"><span class="id" type="variable">fact</span></a> <span class="id" type="var">a</span>)) <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">a</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a>1<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to_O_natural"><span class="id" type="definition">to_O_natural</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>; <span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">path_hints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#ModalFact.TwoFactorizations"><span class="id" type="section">TwoFactorizations</span></a>.<br/>

<br/>
</div>

<div class="doc">
Theorem 7.6.6.  Recall that a lot of hard work was done in <span class="inlinecode"><span class="id" type="var">Factorization.path_factorization</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="O_factsys"><span class="id" type="definition">O_factsys</span></a> : <a class="idref" href="HoTT.Factorization.html#FactorizationSystem"><span class="id" type="record">FactorizationSystem</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Factorization.html#Build_FactorizationSystem"><span class="id" type="constructor">Build_FactorizationSystem</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="HoTT.Modality.html#IsConnMap"><span class="id" type="class">IsConnMap</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a>) <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="HoTT.Modality.html#MapIn"><span class="id" type="class">MapIn</span></a> <a class="idref" href="HoTT.Modality.html#ModalFact.O"><span class="id" type="variable">O</span></a>) <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="HoTT.Modality.html#image"><span class="id" type="definition">image</span></a>) <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">f</span> <span class="id" type="var">fact</span> <span class="id" type="var">fact'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Factorization.html#Build_PathFactorization"><span class="id" type="constructor">Build_PathFactorization</span></a> <span class="id" type="var">fact</span> <span class="id" type="var">fact'</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_compose'"><span class="id" type="definition">equiv_compose'</span></a> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.Fibrations.html#equiv_fibration_replacement"><span class="id" type="definition">equiv_fibration_replacement</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <span class="id" type="var">fact</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_compose'"><span class="id" type="definition">equiv_compose'</span></a> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_inverse"><span class="id" type="lemma">equiv_inverse</span></a> (<a class="idref" href="HoTT.Fibrations.html#equiv_fibration_replacement"><span class="id" type="definition">equiv_fibration_replacement</span></a> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <span class="id" type="var">fact'</span>))) <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Types.Sigma.html#equiv_functor_sigma'"><span class="id" type="definition">equiv_functor_sigma'</span></a> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_idmap"><span class="id" type="definition">equiv_idmap</span></a> <span class="id" type="var">B</span>) <span class="id" type="var">_</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">b</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#equiv_O_factor_hfibers"><span class="id" type="definition">equiv_O_factor_hfibers</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Types.Sigma.html#pr1_path"><span class="id" type="definition">pr1_path</span></a> (<a class="idref" href="HoTT.Modality.html#equiv_O_factor_hfibers_beta"><span class="id" type="definition">equiv_O_factor_hfibers_beta</span></a> <span class="id" type="var">f</span> <span class="id" type="var">fact</span> <span class="id" type="var">fact'</span> <span class="id" type="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.2'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Modality.html#equiv_O_factor_hfibers"><span class="id" type="definition">equiv_O_factor_hfibers</span></a> <span class="id" type="var">f</span> <span class="id" type="var">fact</span> <span class="id" type="var">fact'</span> (<a class="idref" href="HoTT.Factorization.html#factor2"><span class="id" type="projection">factor2</span></a> <span class="id" type="var">fact</span> <span class="id" type="var">x</span>) <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">x</span> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a> 1<a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:x_'.2'"><span class="id" type="notation">).2</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">^</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#moveR_pM"><span class="id" type="definition">moveR_pM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Basics.PathGroupoids.html#inv_V"><span class="id" type="definition">inv_V</span></a> <span class="id" type="var">_</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.PathGroupoids.html#inv_V"><span class="id" type="definition">inv_V</span></a> <span class="id" type="var">_</span>); <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#inverse2"><span class="id" type="definition">inverse2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Types.Sigma.html#pr2_path"><span class="id" type="definition">pr2_path</span></a> (<a class="idref" href="HoTT.Modality.html#equiv_O_factor_hfibers_beta"><span class="id" type="definition">equiv_O_factor_hfibers_beta</span></a> <span class="id" type="var">f</span> <span class="id" type="var">fact</span> <span class="id" type="var">fact'</span> <span class="id" type="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Types.Paths.html#transport_paths_Fl"><span class="id" type="definition">transport_paths_Fl</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a>).<br/>
</div>

<div class="doc">
Apparently Coq needs a little help to see that these paths are the same. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">((?</span></a><span class="id" type="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">q</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">_</span> ⇒ <span class="id" type="tactic">change</span> (<a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">(</span></a><span class="id" type="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">q</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">)^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">q</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'^'"><span class="id" type="notation">^</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#inv_pp"><span class="id" type="definition">inv_pp</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">@</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">(</span></a>1 <a class="idref" href="HoTT.Basics.PathGroupoids.html#:path_scope:x_'@@'_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="HoTT.Basics.PathGroupoids.html#inv_V"><span class="id" type="definition">inv_V</span></a> <span class="id" type="var">_</span><a class="idref" href="HoTT.Basics.Overture.html#:path_scope:x_'@'_x"><span class="id" type="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#ModalFact"><span class="id" type="section">ModalFact</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab182"></a><h2 class="section">Accessible modalities</h2>

<div class="paragraph"> </div>

 A modality is accessible just when its underlying reflective (or unit-) subuniverse is accessible.  However, for modalities, we have a simpler characterization of accessibility in terms of families of generating connected objects rather than families of generating inverted maps. 
<div class="paragraph"> </div>

 We make this notation local so that no one outside of this file will use it.  It will be redefined in <span class="inlinecode"><span class="id" type="var">hit</span>/<a class="idref" href="HoTT.hit.Localization.html#Localization"><span class="id" type="section">Localization</span></a></span> to refer to the localization modality, which is judgmentally the same but will also pick up typeclass inference for <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="record">In</span></a></span>. 
</div>
<div class="code">
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Notation</span> <a name="IsNull"><span class="id" type="abbreviation">IsNull</span></a> <span class="id" type="var">S</span> <span class="id" type="var">X</span> :=<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">∀</span> <span class="id" type="var">i</span>, <a class="idref" href="HoTT.Extensions.html#ooExtendableAlong"><span class="id" type="definition">ooExtendableAlong</span></a> (@<a class="idref" href="HoTT.Basics.Overture.html#const"><span class="id" type="definition">const</span></a> (<span class="id" type="var">S</span> <a class="idref" href="HoTT.Modality.html#i"><span class="id" type="variable">i</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" type="inductive">Unit</span></a> <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <span class="id" type="var">X</span>)).<br/>

<br/>
</div>

<div class="doc">
We will now show that if the underlying reflective subuniverse of a modality <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> is accessible, then the <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span>-modal types are the null ones for some family of types (not just the local ones for some family of morphisms). 
</div>
<div class="code">
<span class="id" type="keyword">Section</span> <a name="AccessibleModality"><span class="id" type="section">AccessibleModality</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> {<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality</span></a>} {<span class="id" type="var">acc</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#Accessible"><span class="id" type="class">Accessible</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a>}.<br/>

<br/>
</div>

<div class="doc">
The idea is as follows.  By <span class="inlinecode"><a class="idref" href="HoTT.Extensions.html#ooextendable_isnull_fibers"><span class="id" type="definition">ooextendable_isnull_fibers</span></a></span>, we can detect locality with respect to a map by nullity with respect to its fibers.  Therefore, our first thought might be to just consider all the fibers of all the maps that we are localizing at.  However, this doesn't quite work because <span class="inlinecode"><a class="idref" href="HoTT.Extensions.html#ooextendable_isnull_fibers"><span class="id" type="definition">ooextendable_isnull_fibers</span></a></span> is not an if-and-only-if, so not every modal type would necessarily be null for that type family.

<div class="paragraph"> </div>

   We do know, however, that if <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" type="variable">f</span></a></span> is an <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span>-connected map, then any <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span>-modal type is null for its fibers (since they are <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span>-connected types).  There is no *a priori* reason why all the maps we localize at should end up being connected for the modality; they will always be inverted, but not every inverted map is connected (unless the modality is lex).  But if <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" type="variable">f</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" type="variable">A</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.B"><span class="id" type="variable">B</span></a></span> is <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span>-inverted, then the <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span>-connected map <span class="inlinecode"><a class="idref" href="HoTT.categories.IndiscreteCategory.html#Functors.to"><span class="id" type="definition">to</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" type="variable">A</span></a></span> is (up to equivalence) the composite of <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" type="variable">f</span></a></span> with the <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span>-connected map <span class="inlinecode"><a class="idref" href="HoTT.categories.IndiscreteCategory.html#Functors.to"><span class="id" type="definition">to</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.B"><span class="id" type="variable">B</span></a></span>.  Thus, if <span class="inlinecode"><a class="idref" href="HoTT.categories.UniversalProperties.html#UniversalMorphism.TerminalMorphism.X"><span class="id" type="variable">X</span></a></span> is null for the fibers of <span class="inlinecode"><a class="idref" href="HoTT.categories.IndiscreteCategory.html#Functors.to"><span class="id" type="definition">to</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" type="variable">A</span></a></span> and <span class="inlinecode"><a class="idref" href="HoTT.categories.IndiscreteCategory.html#Functors.to"><span class="id" type="definition">to</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.B"><span class="id" type="variable">B</span></a></span>, it will be <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" type="variable">f</span></a></span>-local and hence <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span>-modal, while all <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O"><span class="id" type="definition">O</span></a></span>-modal types will be null for these fibers since they are connected. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="acc_conn_indices"><span class="id" type="definition">acc_conn_indices</span></a> : <span class="id" type="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=   <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a> <span class="id" type="var">i</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#acc_gen_indices"><span class="id" type="method">acc_gen_indices</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Modality.html#AccessibleModality.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#acc_gen_domain"><span class="id" type="method">acc_gen_domain</span></a> <span class="id" type="var">i</span>) <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#:type_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a> <span class="id" type="var">i</span> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#acc_gen_indices"><span class="id" type="method">acc_gen_indices</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Modality.html#AccessibleModality.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#acc_gen_codomain"><span class="id" type="method">acc_gen_codomain</span></a> <span class="id" type="var">i</span>) <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="acc_conn_types"><span class="id" type="definition">acc_conn_types</span></a> : <a class="idref" href="HoTT.Modality.html#acc_conn_indices"><span class="id" type="definition">acc_conn_indices</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [ [<span class="id" type="var">i</span> <span class="id" type="var">x</span>] | [<span class="id" type="var">i</span> <span class="id" type="var">x</span>] ]; <span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" type="definition">hfiber</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#AccessibleModality.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span>) <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="isconnected_acc_conn_types"><span class="id" type="instance">isconnected_acc_conn_types</span></a> (<span class="id" type="var">i</span> : <a class="idref" href="HoTT.Modality.html#acc_conn_indices"><span class="id" type="definition">acc_conn_indices</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#IsConnected"><span class="id" type="class">IsConnected</span></a> <a class="idref" href="HoTT.Modality.html#AccessibleModality.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#acc_conn_types"><span class="id" type="definition">acc_conn_types</span></a> <a class="idref" href="HoTT.Modality.html#i"><span class="id" type="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">i</span> <span class="id" type="keyword">as</span> [ [<span class="id" type="var">i</span> <span class="id" type="var">x</span> ] | [<span class="id" type="var">i</span> <span class="id" type="var">x</span> ] ]; <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="inO_iff_orth_acc"><span class="id" type="definition">inO_iff_orth_acc</span></a> `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" type="class">Funext</span></a>} (<span class="id" type="var">X</span> : <span class="id" type="keyword">Type</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#AccessibleModality.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Datatypes.html#:type_scope:x_'<->'_x"><span class="id" type="notation">↔</span></a> <a class="idref" href="HoTT.Modality.html#IsNull"><span class="id" type="abbreviation">IsNull</span></a> <a class="idref" href="HoTT.Modality.html#acc_conn_types"><span class="id" type="definition">acc_conn_types</span></a> <a class="idref" href="HoTT.Modality.html#X"><span class="id" type="variable">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> ? [ [<span class="id" type="var">i</span> <span class="id" type="var">x</span>] | [<span class="id" type="var">i</span> <span class="id" type="var">x</span>] ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#ooextendable_const_isconnected_inO"><span class="id" type="definition">ooextendable_const_isconnected_inO</span></a> <a class="idref" href="HoTT.Modality.html#AccessibleModality.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">Xnull</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="Coq.Init.Datatypes.html#snd"><span class="id" type="projection">snd</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO_iff_islocal"><span class="id" type="method">inO_iff_islocal</span></a> <span class="id" type="var">X</span>)); <span class="id" type="tactic">intros</span> <span class="id" type="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Extensions.html#cancelL_ooextendable"><span class="id" type="definition">cancelL_ooextendable</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <span class="id" type="var">X</span>) (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#acc_generator"><span class="id" type="method">acc_generator</span></a> <span class="id" type="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#AccessibleModality.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#acc_gen_codomain"><span class="id" type="method">acc_gen_codomain</span></a> <span class="id" type="var">i</span>)) <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Extensions.html#ooextendable_isnull_fibers"><span class="id" type="definition">ooextendable_isnull_fibers</span></a>; <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<span class="id" type="var">Xnull</span> (<a class="idref" href="Coq.Init.Datatypes.html#inr"><span class="id" type="constructor">inr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">i</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a><span class="id" type="var">x</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Extensions.html#ooextendable_homotopic"><span class="id" type="definition">ooextendable_homotopic</span></a> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_functor"><span class="id" type="definition">O_functor</span></a> <a class="idref" href="HoTT.Modality.html#AccessibleModality.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#acc_generator"><span class="id" type="method">acc_generator</span></a> <span class="id" type="var">i</span>) <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to"><span class="id" type="projection">to</span></a> <a class="idref" href="HoTT.Modality.html#AccessibleModality.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#acc_gen_domain"><span class="id" type="method">acc_gen_domain</span></a> <span class="id" type="var">i</span>)) <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#to_O_natural"><span class="id" type="definition">to_O_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Extensions.html#ooextendable_compose"><span class="id" type="definition">ooextendable_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Extensions.html#ooextendable_equiv"><span class="id" type="definition">ooextendable_equiv</span></a>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_inverts_generators"><span class="id" type="definition">O_inverts_generators</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Extensions.html#ooextendable_isnull_fibers"><span class="id" type="definition">ooextendable_isnull_fibers</span></a>; <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<span class="id" type="var">Xnull</span> (<a class="idref" href="Coq.Init.Datatypes.html#inl"><span class="id" type="constructor">inl</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">i</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">;</span></a><span class="id" type="var">x</span><a class="idref" href="HoTT.Basics.Overture.html#:fibration_scope:'('_x_';'_x_')'"><span class="id" type="notation">)</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#AccessibleModality"><span class="id" type="section">AccessibleModality</span></a>.<br/>

<br/>
</div>

<div class="doc">
Here's a corresponding easier way to define accessibility for a modality. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Build_Accessible_Modality"><span class="id" type="definition">Build_Accessible_Modality</span></a> (<span class="id" type="var">O</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">acc_gen_indices</span> : <span class="id" type="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">acc_gen_types</span> : <a class="idref" href="HoTT.Modality.html#acc_gen_indices"><span class="id" type="variable">acc_gen_indices</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>)<br/>
: <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">∀</span> <span class="id" type="var">X</span> : <span class="id" type="keyword">Type</span>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#In"><span class="id" type="class">In</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="Coq.Init.Datatypes.html#:type_scope:x_'<->'_x"><span class="id" type="notation">↔</span></a> <a class="idref" href="HoTT.Modality.html#IsNull"><span class="id" type="abbreviation">IsNull</span></a> <a class="idref" href="HoTT.Modality.html#acc_gen_types"><span class="id" type="variable">acc_gen_types</span></a> <a class="idref" href="HoTT.Modality.html#X"><span class="id" type="variable">X</span></a><a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#Accessible"><span class="id" type="class">Accessible</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a><br/>
:= <a class="idref" href="HoTT.ReflectiveSubuniverse.html#Build_Accessible"><span class="id" type="constructor">Build_Accessible</span></a> <a class="idref" href="HoTT.Modality.html#O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#acc_gen_indices"><span class="id" type="variable">acc_gen_indices</span></a> <a class="idref" href="HoTT.Modality.html#acc_gen_types"><span class="id" type="variable">acc_gen_types</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" type="inductive">Unit</span></a>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a>).<br/>

<br/>
</div>

<div class="doc">
The construction of the nullification modality for any family of types will be in <span class="inlinecode"><span class="id" type="var">hit</span>/<a class="idref" href="HoTT.hit.Localization.html#Localization"><span class="id" type="section">Localization</span></a></span>. 
<div class="paragraph"> </div>

<a name="lab183"></a><h2 class="section">Examples</h2>

<div class="paragraph"> </div>

 Finally, we give one nontrivial example of a modality.  This is Exercise 7.12 in the book.  Note that it is (apparently) *not* accessible unless we assume propositional resizing. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="notnot"><span class="id" type="definition">notnot</span></a> `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" type="class">Funext</span></a>} : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#Build_Modality_easy"><span class="id" type="definition">Build_Modality_easy</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:'~'_x"><span class="id" type="notation">~~</span></a><a class="idref" href="HoTT.Modality.html#X"><span class="id" type="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> <span class="id" type="var">x</span> <span class="id" type="var">nx</span> ⇒ <a class="idref" href="HoTT.Modality.html#nx"><span class="id" type="variable">nx</span></a> <a class="idref" href="HoTT.Modality.html#x"><span class="id" type="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">f</span> <span class="id" type="var">z</span> <span class="id" type="var">nBz</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Modality.html#z"><span class="id" type="variable">z</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:'~'_x"><span class="id" type="notation">¬</span></a><a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#x"><span class="id" type="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Basics.Trunc.html#path_ishprop"><span class="id" type="lemma">path_ishprop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Modality.html#nBz"><span class="id" type="variable">nBz</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#path_ishprop"><span class="id" type="lemma">path_ishprop</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Trunc.html#isequiv_iff_hprop"><span class="id" type="definition">isequiv_iff_hprop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#path_ishprop"><span class="id" type="lemma">path_ishprop</span></a>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Of course, there is also the trivial example. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="purely"><span class="id" type="definition">purely</span></a> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Modality.html#Build_Modality"><span class="id" type="constructor">Build_Modality</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.ReflectiveSubuniverse.html#Build_UnitSubuniverse"><span class="id" type="constructor">Build_UnitSubuniverse</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" type="inductive">Unit</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">T</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">T</span> <span class="id" type="var">U</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">_</span> <span class="id" type="var">f</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">_</span> <span class="id" type="var">f</span> <span class="id" type="var">a</span> ⇒ 1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">_</span> <span class="id" type="var">z</span> <span class="id" type="var">z'</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a>).<br/>

<br/>
<span class="id" type="keyword">Global Instance</span> <a name="accessible_purely"><span class="id" type="instance">accessible_purely</span></a> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#Accessible"><span class="id" type="class">Accessible</span></a> <a class="idref" href="HoTT.Modality.html#purely"><span class="id" type="definition">purely</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#Build_Accessible"><span class="id" type="constructor">Build_Accessible</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#Empty"><span class="id" type="inductive">Empty</span></a> <a class="idref" href="HoTT.Types.Empty.html#Empty_rec"><span class="id" type="lemma">Empty_rec</span></a> <a class="idref" href="HoTT.Types.Empty.html#Empty_rec"><span class="id" type="lemma">Empty_rec</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#Empty_ind"><span class="id" type="definition">Empty_ind</span></a> <span class="id" type="var">_</span>) <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">X</span>; <span class="id" type="tactic">refine</span> <a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span> <a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">_</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#Empty_ind"><span class="id" type="definition">Empty_ind</span></a>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
For more examples of modalities, see hit/Truncations.v, hit/PropositionalFracture.v, and hit/Localization.v. 
</div>
<div class="code">
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>