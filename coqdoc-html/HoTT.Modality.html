<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>HoTT.Modality</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library HoTT.Modality</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="HoTT.Basics.html#"><span class="id" type="library">HoTT.Basics</span></a> <a class="idref" href="HoTT.Types.html#"><span class="id" type="library">HoTT.Types</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#"><span class="id" type="library">ReflectiveSubuniverse</span></a>.<br/>

<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">path_scope</span>.<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">equiv_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab165"></a><h1 class="section">Modalities</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Class</span> <a name="Modality"><span class="id" type="record">Modality</span></a> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="mod_usubu"><span class="id" type="projection">mod_usubu</span></a> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#UnitSubuniverse"><span class="id" type="class">UnitSubuniverse</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="mod_replete"><span class="id" type="projection">mod_replete</span></a> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#Replete"><span class="id" type="class">Replete</span></a> <a class="idref" href="HoTT.Modality.html#mod_usubu"><span class="id" type="method">mod_usubu</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="O_ind"><span class="id" type="projection">O_ind</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> (<span class="id" type="var">B</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O"><span class="id" type="method">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>) (<span class="id" type="var">B_inO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">oa</span>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO"><span class="id" type="class">inO</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_unit"><span class="id" type="method">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="O_ind_beta"><span class="id" type="projection">O_ind_beta</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">B_inO</span> (<span class="id" type="var">f</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_unit"><span class="id" type="method">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)) <span class="id" type="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="method">O_ind</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#B_inO"><span class="id" type="variable">B_inO</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_unit"><span class="id" type="method">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="inO_paths"><span class="id" type="projection">inO_paths</span></a> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> (<span class="id" type="var">A_inO</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO"><span class="id" type="class">inO</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>) (<span class="id" type="var">z</span> <span class="id" type="var">z'</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>), <a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO"><span class="id" type="class">inO</span></a> (<a class="idref" href="HoTT.Modality.html#z"><span class="id" type="variable">z</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#z'"><span class="id" type="variable">z'</span></a>)<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" type="var">Arguments</span> <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="method">O_ind</span></a> {<span class="id" type="var">Modality</span>} {<span class="id" type="var">A</span>} <span class="id" type="var">B</span> {<span class="id" type="var">B_inO</span>} <span class="id" type="var">f</span> <span class="id" type="var">a</span>.<br/>
<span class="id" type="var">Arguments</span> <a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="method">O_ind_beta</span></a> {<span class="id" type="var">Modality</span>} {<span class="id" type="var">A</span>} <span class="id" type="var">B</span> {<span class="id" type="var">B_inO</span>} <span class="id" type="var">f</span> <span class="id" type="var">a</span>.<br/>

<br/>
</div>

<div class="doc">
See ReflectiveSubuniverse.v for explanation of how to use (and how not to use) <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="record">Modality</span></a></span> as a typeclass. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Global</span>&nbsp;<span class="id" type="var">Existing</span> <span class="id" type="keyword">Instance</span> <span class="id" type="var">mod_usubu</span>.<br/>
<span class="id" type="keyword">Global</span>&nbsp;<span class="id" type="var">Existing</span> <span class="id" type="keyword">Instance</span> <span class="id" type="var">mod_replete</span>.<br/>
<span class="id" type="keyword">Global</span>&nbsp;<span class="id" type="var">Existing</span> <span class="id" type="keyword">Instance</span> <span class="id" type="var">inO_paths</span>.<br/>

<br/>
</div>

<div class="doc">
Our definition of modality is slightly different from the one in the book, which requires an induction principle only into families of the form <span class="inlinecode"><span class="id" type="keyword">fun</span></span> <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#O"><span class="id" type="projection">O</span></a></span> <span class="inlinecode">(<a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.B"><span class="id" type="variable">B</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>)</span>, and similarly only that path-spaces of types <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#O"><span class="id" type="projection">O</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" type="variable">A</span></a></span> are modal, where "modal" means that the unit is an equivalence.  This is equivalent, roughly since every modal type <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" type="variable">A</span></a></span> (in this sense) is equivalent to <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#O"><span class="id" type="projection">O</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" type="variable">A</span></a></span>.

<div class="paragraph"> </div>

However, our definition is more convenient in formalized applications because in some examples (such as <span class="inlinecode"><a class="idref" href="HoTT.hit.Truncations.html#Trunc.Trunc"><span class="id" type="inductive">Trunc</span></a></span> and closed modalities), there is a naturally occurring <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a></span> into all modal types that is not judgmentally equal to the one that can be constructed by passing through <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#O"><span class="id" type="projection">O</span></a></span> and back again.  Thus, when we apply general theorems about modalities to a particular modality such as <span class="inlinecode"><a class="idref" href="HoTT.hit.Truncations.html#Trunc.Trunc"><span class="id" type="inductive">Trunc</span></a></span>, the proofs will reduce definitionally to "the way we would have proved them directly" if we didn't know about general modalities.

<div class="paragraph"> </div>

On the other hand, in other examples (such as <span class="inlinecode">~~</span> and open modalities) it is easier to construct the latter weaker induction principle.  Thus, we now show how to get from that to our definition of modality. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Section</span> <a name="EasyModality"><span class="id" type="section">EasyModality</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">O</span> : <span class="id" type="keyword">Type</span> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">O_unit</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">T</span>, <a class="idref" href="HoTT.Modality.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#T"><span class="id" type="variable">T</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Let</span> <a name="EasyModality.inO'"><span class="id" type="variable">inO'</span></a> <span class="id" type="var">A</span> := <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">O_indO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> (<span class="id" type="var">B</span> : <a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">∀</span> <span class="id" type="var">z</span>, <a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#z"><span class="id" type="variable">z</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">O_indO_beta</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> (<span class="id" type="var">f</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))) <span class="id" type="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Modality.html#EasyModality.O_indO"><span class="id" type="variable">O_indO</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> (<span class="id" type="var">inO_pathsO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">A</span> (<span class="id" type="var">z</span> <span class="id" type="var">z'</span> : <a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>), <a class="idref" href="HoTT.Modality.html#EasyModality.inO'"><span class="id" type="variable">inO'</span></a> (<a class="idref" href="HoTT.Modality.html#z"><span class="id" type="variable">z</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#z'"><span class="id" type="variable">z'</span></a>)).<br/>

<br/>
</div>

<div class="doc">
Here is the defined more general induction principle. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="O_ind'"><span class="id" type="definition">O_ind'</span></a> <span class="id" type="var">A</span> (<span class="id" type="var">B</span> : <a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">B_inO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">oa</span>, <a class="idref" href="HoTT.Modality.html#EasyModality.inO'"><span class="id" type="variable">inO'</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">oa</span> : <a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>) : <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">H</span> := <span class="id" type="var">B_inO</span> <span class="id" type="var">oa</span>); <span class="id" type="tactic">unfold</span> <span class="id" type="var">inO'</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> (<span class="id" type="var">B</span> <span class="id" type="var">oa</span>)<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">)^-1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#EasyModality.O_indO"><span class="id" type="variable">O_indO</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a>, <span class="id" type="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="O_ind_beta'"><span class="id" type="definition">O_ind_beta'</span></a> <span class="id" type="var">A</span> <span class="id" type="var">B</span> {<span class="id" type="var">B_inO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">oa</span>, <a class="idref" href="HoTT.Modality.html#EasyModality.inO'"><span class="id" type="variable">inO'</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span> : <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)) <span class="id" type="var">a</span><br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#B_inO"><span class="id" type="variable">B_inO</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#moveR_equiv_V"><span class="id" type="definition">moveR_equiv_V</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> @<a class="idref" href="HoTT.Modality.html#EasyModality.O_indO_beta"><span class="id" type="variable">O_indO_beta</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">f</span> := <span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ <a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <span class="id" type="var">_</span> (<span class="id" type="var">f</span> <a class="idref" href="HoTT.Modality.html#x"><span class="id" type="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We start by building a <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#UnitSubuniverse"><span class="id" type="record">UnitSubuniverse</span></a></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="O_inO'"><span class="id" type="definition">O_inO'</span></a> <span class="id" type="var">A</span> : <a class="idref" href="HoTT.Modality.html#EasyModality.inO'"><span class="id" type="variable">inO'</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#isequiv_adjointify"><span class="id" type="definition">isequiv_adjointify</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">A</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Modality.html#EasyModality.O_indO"><span class="id" type="variable">O_indO</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">A</span>) (<a class="idref" href="HoTT.Basics.Overture.html#const"><span class="id" type="definition">const</span></a> <span class="id" type="var">A</span>) <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a>) <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">pattern</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">oa</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#EasyModality.inO_pathsO"><span class="id" type="variable">inO_pathsO</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_indO_beta"><span class="id" type="variable">O_indO_beta</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">A</span>) (<a class="idref" href="HoTT.Basics.Overture.html#const"><span class="id" type="definition">const</span></a> <span class="id" type="var">A</span>) <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_indO_beta"><span class="id" type="variable">O_indO_beta</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> <span class="id" type="var">A</span>) (<a class="idref" href="HoTT.Basics.Overture.html#const"><span class="id" type="definition">const</span></a> <span class="id" type="var">A</span>) <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Instance</span> <a name="usubU"><span class="id" type="instance">usubU</span></a> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#UnitSubuniverse"><span class="id" type="class">UnitSubuniverse</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.ReflectiveSubuniverse.html#Build_UnitSubuniverse"><span class="id" type="constructor">Build_UnitSubuniverse</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">T</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#T"><span class="id" type="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Modality.html#EasyModality.O"><span class="id" type="variable">O</span></a> <a class="idref" href="HoTT.Modality.html#O_inO'"><span class="id" type="definition">O_inO'</span></a> <a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <span class="id" type="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
However, it seems to be surprisingly hard to show (without univalence) that this <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#UnitSubuniverse"><span class="id" type="record">UnitSubuniverse</span></a></span> is replete.  We basically have to develop enough functoriality of <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#O"><span class="id" type="projection">O</span></a></span> and naturality of <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_unit"><span class="id" type="projection">O_unit</span></a></span>.  We could do that directly, but instead we piggyback by showing that it is a reflective subuniverse.  This is why we excluded repleteness from the basic definition of <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#ReflectiveSubuniverse"><span class="id" type="record">ReflectiveSubuniverse</span></a></span> and the proofs of functoriality. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Instance</span> <a name="rsubU"><span class="id" type="instance">rsubU</span></a> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#ReflectiveSubuniverse"><span class="id" type="class">ReflectiveSubuniverse</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#Build_ReflectiveSubuniverse"><span class="id" type="constructor">Build_ReflectiveSubuniverse</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">f</span>. <span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a> <span class="id" type="var">P</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <span class="id" type="var">Q</span>) (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <span class="id" type="var">Q_inO</span>) <span class="id" type="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">f</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#O_ind_beta'"><span class="id" type="definition">O_ind_beta'</span></a> <span class="id" type="var">P</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <span class="id" type="var">Q</span>) <span class="id" type="var">f</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">g</span> <span class="id" type="var">h</span> <span class="id" type="var">p</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">cbn</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Q_inO</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <span class="id" type="var">Q</span>)<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">)^-1</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a> <span class="id" type="var">P</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">y</span> ⇒ <a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <span class="id" type="var">Q</span> (<span class="id" type="var">g</span> <a class="idref" href="HoTT.Modality.html#y"><span class="id" type="variable">y</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <span class="id" type="var">Q</span> (<span class="id" type="var">h</span> <a class="idref" href="HoTT.Modality.html#y"><span class="id" type="variable">y</span></a>)) <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">y</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#EasyModality.inO_pathsO"><span class="id" type="variable">inO_pathsO</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a>, <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">g</span> <span class="id" type="var">h</span> <span class="id" type="var">p</span> <span class="id" type="var">x</span>; <span class="id" type="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Modality.html#O_ind_beta'"><span class="id" type="definition">O_ind_beta'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_pp_p"><span class="id" type="definition">concat_pp_p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.PathGroupoids.html#moveR_Vp"><span class="id" type="definition">moveR_Vp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="HoTT.Basics.PathGroupoids.html#ap_compose"><span class="id" type="definition">ap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Basics.PathGroupoids.html#concat_A1p"><span class="id" type="definition">concat_A1p</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#eissect"><span class="id" type="method">eissect</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <span class="id" type="var">Q</span>)) (<span class="id" type="var">p</span> <span class="id" type="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
It is now automatically replete, since in our case <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO"><span class="id" type="record">inO</span></a></span> means by definition that <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_unit"><span class="id" type="projection">O_unit</span></a></span> is an equivalence. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Instance</span> <a name="replete_rsubU"><span class="id" type="instance">replete_rsubU</span></a> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#Replete"><span class="id" type="class">Replete</span></a> <a class="idref" href="HoTT.Modality.html#rsubU"><span class="id" type="instance">rsubU</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.ReflectiveSubuniverse.html#replete_inO_isequiv_O_unit"><span class="id" type="instance">replete_inO_isequiv_O_unit</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span> ⇒ <a class="idref" href="HoTT.Modality.html#H"><span class="id" type="variable">H</span></a>).<br/>

<br/>
</div>

<div class="doc">
Finally, we can build a modality. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="Build_Modality_easy"><span class="id" type="definition">Build_Modality_easy</span></a> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="class">Modality</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#Build_Modality"><span class="id" type="constructor">Build_Modality</span></a> <a class="idref" href="HoTT.Modality.html#usubU"><span class="id" type="instance">usubU</span></a> <span class="id" type="var">_</span> <a class="idref" href="HoTT.Modality.html#O_ind'"><span class="id" type="definition">O_ind'</span></a> <a class="idref" href="HoTT.Modality.html#O_ind_beta'"><span class="id" type="definition">O_ind_beta'</span></a> <span class="id" type="var">_</span>); <span class="id" type="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">A_inO</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO_equiv_inO"><span class="id" type="definition">inO_equiv_inO</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <span class="id" type="var">A</span> <span class="id" type="var">x</span> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <span class="id" type="var">A</span> <span class="id" type="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">(</span></a><a class="idref" href="HoTT.Basics.Overture.html#ap"><span class="id" type="definition">ap</span></a> (<a class="idref" href="HoTT.Modality.html#EasyModality.O_unit"><span class="id" type="variable">O_unit</span></a> <span class="id" type="var">A</span>)<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'^-1'"><span class="id" type="notation">)^-1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#EasyModality"><span class="id" type="section">EasyModality</span></a>.<br/>

<br/>
</div>

<div class="doc">
The induction principle <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a></span>, like most induction principles, is an equivalence. 
</div>
<div class="code">
<span class="id" type="keyword">Section</span> <a name="OIndEquiv"><span class="id" type="section">OIndEquiv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> {<span class="id" type="var">fs</span> : <a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" type="class">Funext</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Context</span> {<span class="id" type="var">mod</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="class">Modality</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Section</span> <a name="OIndEquiv.OIndEquivData"><span class="id" type="section">OIndEquivData</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Context</span> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">B</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O"><span class="id" type="method">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>) {<span class="id" type="var">B_inO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO"><span class="id" type="class">inO</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Global Instance</span> <a name="isequiv_O_ind"><span class="id" type="instance">isequiv_O_ind</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="method">O_ind</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Equivalences.html#isequiv_adjointify"><span class="id" type="definition">isequiv_adjointify</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">g</span> := <span class="id" type="keyword">fun</span> <span class="id" type="var">h</span> ⇒ <a class="idref" href="HoTT.Modality.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'oD'_x"><span class="id" type="notation">oD</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_unit"><span class="id" type="method">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.A"><span class="id" type="variable">A</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">h</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" type="definition">path_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="method">O_ind</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">oa</span> ⇒ <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="method">O_ind</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a> (<span class="id" type="var">h</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'oD'_x"><span class="id" type="notation">oD</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_unit"><span class="id" type="method">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.A"><span class="id" type="variable">A</span></a>) <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">h</span> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>) <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="method">O_ind_beta</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a> (<span class="id" type="var">h</span> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'oD'_x"><span class="id" type="notation">oD</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_unit"><span class="id" type="method">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.A"><span class="id" type="variable">A</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">f</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" type="definition">path_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="method">O_ind_beta</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a> <span class="id" type="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="equiv_O_ind"><span class="id" type="definition">equiv_O_ind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a> (<a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_unit"><span class="id" type="method">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)<a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">∀</span> <span class="id" type="var">oa</span>, <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a><a class="idref" href="HoTT.Basics.Overture.html#:equiv_scope:x_'<~>'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Basics.Overture.html#BuildEquiv"><span class="id" type="constructor">BuildEquiv</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="method">O_ind</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a>) <span class="id" type="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 7.7.7 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="isequiv_oD_O_unit"><span class="id" type="definition">isequiv_oD_O_unit</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<span class="id" type="keyword">fun</span> (<span class="id" type="var">h</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">oa</span>, <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#oa"><span class="id" type="variable">oa</span></a>) ⇒ <a class="idref" href="HoTT.Modality.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'oD'_x"><span class="id" type="notation">oD</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_unit"><span class="id" type="method">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData.A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Basics.Overture.html#equiv_isequiv"><span class="id" type="projection">equiv_isequiv</span></a> (<a class="idref" href="HoTT.Basics.Equivalences.html#equiv_inverse"><span class="id" type="lemma">equiv_inverse</span></a> <a class="idref" href="HoTT.Modality.html#equiv_O_ind"><span class="id" type="definition">equiv_O_ind</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#OIndEquiv.OIndEquivData"><span class="id" type="section">OIndEquivData</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <a name="isequiv_o_O_unit"><span class="id" type="definition">isequiv_o_O_unit</span></a> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">B_inO</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO"><span class="id" type="class">inO</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" type="class">IsEquiv</span></a> (<span class="id" type="keyword">fun</span> (<span class="id" type="var">h</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O"><span class="id" type="method">O</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>) ⇒ <a class="idref" href="HoTT.Modality.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:function_scope:x_'o'_x"><span class="id" type="notation">o</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_unit"><span class="id" type="method">O_unit</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Modality.html#isequiv_oD_O_unit"><span class="id" type="definition">isequiv_oD_O_unit</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a>).<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="HoTT.Modality.html#OIndEquiv"><span class="id" type="section">OIndEquiv</span></a>.<br/>

<br/>
</div>

<div class="doc">
We show that modalities have underlying reflective subuniverses.  It is important in some applications, such as <span class="inlinecode"><a class="idref" href="HoTT.hit.Truncations.html#Trunc.Trunc"><span class="id" type="inductive">Trunc</span></a></span>, that this construction uses the general <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a></span> given as part of the modality data, and not one constructed out of <span class="inlinecode"><span class="id" type="var">O_indO</span></span> as we did when proving <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#Build_Modality_easy"><span class="id" type="definition">Build_Modality_easy</span></a></span>.  For instance, this ensures that <span class="inlinecode"><a class="idref" href="HoTT.ReflectiveSubuniverse.html#O_functor"><span class="id" type="definition">O_functor</span></a></span> reduces to simply an application of <span class="inlinecode"><a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="projection">O_ind</span></a></span>.

<div class="paragraph"> </div>

 Note also that our choice of how to define reflective subuniverses differently from the book enables us to prove this without using funext. 
<div class="paragraph"> </div>

 Corollary 7.7.8, part 1 
</div>
<div class="code">
<span class="id" type="keyword">Global Instance</span> <a name="modality_to_reflective_subuniverse"><span class="id" type="instance">modality_to_reflective_subuniverse</span></a> (<span class="id" type="var">mod</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="class">Modality</span></a>)<br/>
: <a class="idref" href="HoTT.ReflectiveSubuniverse.html#ReflectiveSubuniverse"><span class="id" type="class">ReflectiveSubuniverse</span></a><br/>
:= <a class="idref" href="HoTT.ReflectiveSubuniverse.html#Build_ReflectiveSubuniverse"><span class="id" type="constructor">Build_ReflectiveSubuniverse</span></a> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> <span class="id" type="var">H</span> ⇒ <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="method">O_ind</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Modality.html#Q"><span class="id" type="variable">Q</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> <span class="id" type="var">H</span> ⇒ <a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="method">O_ind_beta</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Modality.html#Q"><span class="id" type="variable">Q</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> <span class="id" type="var">H</span> <span class="id" type="var">g</span> <span class="id" type="var">h</span> ⇒ <a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="method">O_ind</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">y</span> ⇒ <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="HoTT.Modality.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="HoTT.Modality.html#y"><span class="id" type="variable">y</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">P</span> <span class="id" type="var">Q</span> <span class="id" type="var">H</span> <span class="id" type="var">g</span> <span class="id" type="var">h</span> ⇒ <a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="method">O_ind_beta</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">y</span> ⇒ <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="HoTT.Modality.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="HoTT.Modality.html#h"><span class="id" type="variable">h</span></a> <a class="idref" href="HoTT.Modality.html#y"><span class="id" type="variable">y</span></a>)).<br/>

<br/>
<span class="id" type="keyword">Coercion</span> <a class="idref" href="HoTT.Modality.html#modality_to_reflective_subuniverse"><span class="id" type="instance">modality_to_reflective_subuniverse</span></a> : <span class="id" type="var">Modality</span> &gt;-&gt; <span class="id" type="var">ReflectiveSubuniverse</span>.<br/>

<br/>
</div>

<div class="doc">
Corollary 7.7.8, part 2 
</div>
<div class="code">
<span class="id" type="keyword">Global Instance</span> <a name="inO_sigma"><span class="id" type="instance">inO_sigma</span></a> {<span class="id" type="var">mod</span> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="class">Modality</span></a>} (<span class="id" type="var">A</span>:<span class="id" type="keyword">Type</span>) (<span class="id" type="var">B</span>:<a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" type="var">A_inO</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO"><span class="id" type="class">inO</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>} {<span class="id" type="var">B_inO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO"><span class="id" type="class">inO</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)}<br/>
: <a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO"><span class="id" type="class">inO</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a><a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="Coq.Init.Datatypes.html#snd"><span class="id" type="projection">snd</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO_sigma_iff"><span class="id" type="definition">inO_sigma_iff</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> ? <span class="id" type="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">∃</span> (<a class="idref" href="HoTT.Modality.html#O_ind"><span class="id" type="method">O_ind</span></a> <span class="id" type="var">B</span> <span class="id" type="var">g</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Modality.html#O_ind_beta"><span class="id" type="method">O_ind_beta</span></a>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Conversely, if a reflective subuniverse is closed under sigmas, it is a modality. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Theorem</span> <a name="reflective_subuniverse_to_modality"><span class="id" type="lemma">reflective_subuniverse_to_modality</span></a><br/>
&nbsp;&nbsp;(<span class="id" type="var">subU</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#ReflectiveSubuniverse"><span class="id" type="class">ReflectiveSubuniverse</span></a>) {<span class="id" type="var">rep</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#Replete"><span class="id" type="class">Replete</span></a> <a class="idref" href="HoTT.Modality.html#subU"><span class="id" type="variable">subU</span></a>}<br/>
&nbsp;&nbsp;(<span class="id" type="var">H</span> : <span class="id" type="keyword">∀</span> (<span class="id" type="var">A</span>:<span class="id" type="keyword">Type</span>) (<span class="id" type="var">B</span>:<a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">→</span></a> <span class="id" type="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" type="var">A_inO</span> : <a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO"><span class="id" type="class">inO</span></a> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a>} {<span class="id" type="var">B_inO</span> : <span class="id" type="keyword">∀</span> <span class="id" type="var">a</span>, <a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO"><span class="id" type="class">inO</span></a> (<a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO"><span class="id" type="class">inO</span></a> (<a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">:</span></a><a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">&amp;</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <span class="id" type="var">x</span><a class="idref" href="Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'&'_x_'}'"><span class="id" type="notation">}</span></a>)))<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="class">Modality</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">pose</span> (<span class="id" type="var">K</span> := <a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" type="projection">fst</span></a> <a class="idref" href="HoTT.ReflectiveSubuniverse.html#inO_sigma_iff"><span class="id" type="definition">inO_sigma_iff</span></a> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="HoTT.Modality.html#Build_Modality"><span class="id" type="constructor">Build_Modality</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">B_inO</span> <span class="id" type="var">g</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" type="abbreviation">pr1</span></a> (<span class="id" type="var">K</span> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#B_inO"><span class="id" type="variable">B_inO</span></a> <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">B_inO</span> <span class="id" type="var">g</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#pr2"><span class="id" type="abbreviation">pr2</span></a> (<span class="id" type="var">K</span> <a class="idref" href="HoTT.Modality.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#B_inO"><span class="id" type="variable">B_inO</span></a> <a class="idref" href="HoTT.Modality.html#g"><span class="id" type="variable">g</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">_</span>).<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Finally, we give one nontrivial example of a modality.  This is Exercise 7.12 in the book. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="notnot_modality"><span class="id" type="definition">notnot_modality</span></a> `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" type="class">Funext</span></a>} : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="class">Modality</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Modality.html#Build_Modality_easy"><span class="id" type="definition">Build_Modality_easy</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:'~'_x"><span class="id" type="notation">~~</span></a><a class="idref" href="HoTT.Modality.html#X"><span class="id" type="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">X</span> <span class="id" type="var">x</span> <span class="id" type="var">nx</span> ⇒ <a class="idref" href="HoTT.Modality.html#nx"><span class="id" type="variable">nx</span></a> <a class="idref" href="HoTT.Modality.html#x"><span class="id" type="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">f</span> <span class="id" type="var">z</span> <span class="id" type="var">nBz</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Modality.html#z"><span class="id" type="variable">z</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" type="definition">transport</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#:type_scope:'~'_x"><span class="id" type="notation">¬</span></a><a class="idref" href="HoTT.Modality.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="HoTT.Modality.html#x"><span class="id" type="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Basics.Trunc.html#path_ishprop"><span class="id" type="lemma">path_ishprop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Modality.html#nBz"><span class="id" type="variable">nBz</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#path_ishprop"><span class="id" type="lemma">path_ishprop</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Trunc.html#isequiv_iff_hprop"><span class="id" type="definition">isequiv_iff_hprop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#path_ishprop"><span class="id" type="lemma">path_ishprop</span></a>.<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Of course, there is also the trivial example. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="identity_modality"><span class="id" type="definition">identity_modality</span></a> : <a class="idref" href="HoTT.Modality.html#Modality"><span class="id" type="class">Modality</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Modality.html#Build_Modality"><span class="id" type="constructor">Build_Modality</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.ReflectiveSubuniverse.html#Build_UnitSubuniverse"><span class="id" type="constructor">Build_UnitSubuniverse</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" type="inductive">Unit</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">T</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" type="abbreviation">idmap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">T</span> <span class="id" type="var">U</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">_</span> <span class="id" type="var">f</span> <span class="id" type="var">a</span> ⇒ <a class="idref" href="HoTT.Modality.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="HoTT.Modality.html#a"><span class="id" type="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">_</span> <span class="id" type="var">f</span> <span class="id" type="var">a</span> ⇒ 1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">A</span> <span class="id" type="var">_</span> <span class="id" type="var">z</span> <span class="id" type="var">z'</span> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#tt"><span class="id" type="constructor">tt</span></a>).<br/>

<br/>
</div>

<div class="doc">
For more examples of modalities, see hit/Truncations.v and hit/PropositionalFracture.v. 
</div>
<div class="code">
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>