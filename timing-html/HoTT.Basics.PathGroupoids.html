<html>
<head>
<title>PathGroupoids.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for PathGroupoids.v</h1>

<div class="code" title="File: PathGroupoids.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(** * The groupid structure of paths *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 2
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>Require Import Overture.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 2
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 4
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Naming conventions

   We need good naming conventions that allow us to name theorems without looking them up. The names should indicate the structure of the theorem, but they may sometimes be ambiguous, in which case you just have to know what is going on.    We shall adopt the following principles:

   - we are not afraid of long names
   - we are not afraid of short names when they are used frequently
   - we use underscores
   - name of theorems and lemmas are lower-case
   - records and other types may be upper or lower case

   Theorems about concatenation of paths are called [concat_XXX] where [XXX] tells us what is on the left-hand side of the equation. You have to guess the right-hand side. We use the following symbols in [XXX]:

   - [1] means the identity path
   - [p] means 'the path'
   - [V] means 'the inverse path'
   - [A] means '[ap]'
   - [M] means the thing we are moving across equality
   - [x] means 'the point' which is not a path, e.g. in [transport p x]
   - [2] means relating to 2-dimensional paths
   - [3] means relating to 3-dimensional paths, and so on

   Associativity is indicated with an underscore. Here are some examples of how the name gives hints about the left-hand side of the equation.

   - [concat_1p] means [1 * p]
   - [concat_Vp] means [p^ * p]
   - [concat_p_pp] means [p * (q * r)]
   - [concat_pp_p] means [(p * q) * r]
   - [concat_V_pp] means [p^ * (p * q)]
   - [concat_pV_p] means [(q * p^) * p] or [(p * p^) * q], but probably the former because for the latter you could just use [concat_pV].

   Laws about inverse of something are of the form [inv_XXX], and those about [ap] are of the form [ap_XXX], and so on. For example:

   - [inv_pp] is about [(p @ q)^]
   - [inv_V] is about [(p^)^]
   - [inv_A] is about [(ap f p)^]
   - [ap_V] is about [ap f (p^)]
   - [ap_pp] is about [ap f (p @ q)]
   - [ap_idmap] is about [ap idmap p]
   - [ap_1] is about [ap f 1]
   - [ap02_p2p] is about [ap02 f (p @@ q)]

   Then we have laws which move things around in an equation. The naming scheme here is [moveD_XXX]. The direction [D] indicates where to move to: [L] means that we move something to the left-hand side, whereas [R] means we are moving something to the right-hand side. The part [XXX] describes the shape of the side _from_ which we are moving where the thing that is getting moves is called [M].  The presence of 1 next to an [M] generally indicates an *implied* identity path which is inserted automatically after the movement.  Examples:

   - [moveL_pM] means that we transform [p = q @ r] to [p @ r^ = q]
     because we are moving something to the left-hand side, and we are
     moving the right argument of concat.

   - [moveR_Mp] means that we transform [p @ q = r] to [q = p^ @ r]
     because we move to the right-hand side, and we are moving the left
     argument of concat.

   - [moveR_1M] means that we transform [p = q] (rather than [p = 1 @ q]) to [p * q^ = 1].

   There are also cancellation laws called [cancelR] and [cancelL], which are inverse to the 2-dimensional 'whiskering' operations [whiskerR] and [whiskerL].

   We may now proceed with the groupoid structure proper.
*)

(** ** The 1-dimensional groupoid structure. *)

(** The identity path is a right unit. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 66
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>Definition concat_p1 {A : Type} {x y : A} (p : x = y) :
  p @ 1 = p
  :=
  match p with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 69
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The identity is a left unit. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 71
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>Definition concat_1p {A : Type} {x y : A} (p : x = y) :
  1 @ p = p
  :=
  match p with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Concatenation is associative. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 76
Time: 0.01s">
<div class="time" style="width: 22.727272727273%"></div>
<pre>Definition concat_p_pp {A : Type} {x y z t : A} (p : x = y) (q : y = z) (r : z = t) :
  p @ (q @ r) = (p @ q) @ r :=
  match r with idpath =&gt;
    match q with idpath =&gt;
      match p with idpath =&gt; 1
      end end end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 81
Time: 0.01s">
<div class="time" style="width: 22.727272727273%"></div>
<pre>

Definition concat_pp_p {A : Type} {x y z t : A} (p : x = y) (q : y = z) (r : z = t) :
  (p @ q) @ r = p @ (q @ r) :=
  match r with idpath =&gt;
    match q with idpath =&gt;
      match p with idpath =&gt; 1
      end end end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The left inverse law. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 90
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>Definition concat_pV {A : Type} {x y : A} (p : x = y) :
  p @ p^ = 1
  :=
  match p with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The right inverse law. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 95
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>Definition concat_Vp {A : Type} {x y : A} (p : x = y) :
  p^ @ p = 1
  :=
  match p with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 98
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Several auxiliary theorems about canceling inverses across associativity.  These are somewhat redundant, following from earlier theorems.  *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 101
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>Definition concat_V_pp {A : Type} {x y z : A} (p : x = y) (q : y = z) :
  p^ @ (p @ q) = q
  :=
  match q with idpath =&gt;
    match p with idpath =&gt; 1 end
  end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 106
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>

Definition concat_p_Vp {A : Type} {x y z : A} (p : x = y) (q : x = z) :
  p @ (p^ @ q) = q
  :=
  match q with idpath =&gt;
    match p with idpath =&gt; 1 end
  end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 113
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>

Definition concat_pp_V {A : Type} {x y z : A} (p : x = y) (q : y = z) :
  (p @ q) @ q^ = p
  :=
  match q with idpath =&gt;
    match p with idpath =&gt; 1 end
  end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 120
Time: 0.008s">
<div class="time" style="width: 18.181818181818%"></div>
<pre>

Definition concat_pV_p {A : Type} {x y z : A} (p : x = z) (q : y = z) :
  (p @ q^) @ q = p
  :=
  (match q as i return forall p, (p @ i^) @ i = p with
    idpath =&gt;
    fun p =&gt;
      match p with idpath =&gt; 1 end
  end) p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Inverse distributes over concatenation *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 131
Time: 0.007s">
<div class="time" style="width: 15.909090909091%"></div>
<pre>Definition inv_pp {A : Type} {x y z : A} (p : x = y) (q : y = z) :
  (p @ q)^ = q^ @ p^
  :=
  match q with idpath =&gt;
    match p with idpath =&gt; 1 end
  end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 136
Time: 0.006s">
<div class="time" style="width: 13.636363636364%"></div>
<pre>

Definition inv_Vp {A : Type} {x y z : A} (p : y = x) (q : y = z) :
  (p^ @ q)^ = q^ @ p
  :=
  match q with idpath =&gt;
    match p with idpath =&gt; 1 end
  end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 143
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition inv_pV {A : Type} {x y z : A} (p : x = y) (q : z = y) :
  (p @ q^)^ = q @ p^.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 147
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 148
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre> destruct q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 148
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 149
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition inv_VV {A : Type} {x y z : A} (p : y = x) (q : z = y) :
  (p^ @ q^)^ = q @ p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 153
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 154
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre> destruct q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 154
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 154
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Inverse is an involution. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 157
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>Definition inv_V {A : Type} {x y : A} (p : x = y) :
  p^^ = p
  :=
  match p with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


(* *** Theorems for moving things around in equations. *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 164
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Definition moveR_Mp {A : Type} {x y z : A} (p : x = z) (q : y = z) (r : y = x) :
  p = r^ @ q -&gt; r @ p = q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 165
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 166
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct r.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 167
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 168
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre> exact (concat_1p _ @ h @ concat_1p _).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 168
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 169
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveR_pM {A : Type} {x y z : A} (p : x = z) (q : y = z) (r : y = x) :
  r = q @ p^ -&gt; r @ p = q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 172
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 173
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 174
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 175
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre> exact (concat_p1 _ @ h @ concat_p1 _).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 175
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 176
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveR_Vp {A : Type} {x y z : A} (p : x = z) (q : y = z) (r : x = y) :
  p = r @ q -&gt; r^ @ p = q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 179
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 180
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct r.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 181
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 182
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre> exact (concat_1p _ @ h @ concat_1p _).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 182
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 183
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveR_pV {A : Type} {x y z : A} (p : z = x) (q : y = z) (r : y = x) :
  r = q @ p -&gt; r @ p^ = q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 186
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 187
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 189
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre> exact (concat_p1 _ @ h @ concat_p1 _).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 189
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 190
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveL_Mp {A : Type} {x y z : A} (p : x = z) (q : y = z) (r : y = x) :
  r^ @ q = p -&gt; q = r @ p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 193
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 194
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct r.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 195
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 196
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre> exact ((concat_1p _)^ @ h @ (concat_1p _)^).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 196
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 197
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveL_pM {A : Type} {x y z : A} (p : x = z) (q : y = z) (r : y = x) :
  q @ p^ = r -&gt; q = r @ p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 200
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 201
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 203
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre> exact ((concat_p1 _)^ @ h @ (concat_p1 _)^).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 203
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 204
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveL_Vp {A : Type} {x y z : A} (p : x = z) (q : y = z) (r : x = y) :
  r @ q = p -&gt; q = r^ @ p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 207
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 208
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct r.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 210
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre> exact ((concat_1p _)^ @ h @ (concat_1p _)^).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 210
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 211
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveL_pV {A : Type} {x y z : A} (p : z = x) (q : y = z) (r : y = x) :
  q @ p = r -&gt; q = r @ p^.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 214
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 215
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 216
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 217
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre> exact ((concat_p1 _)^ @ h @ (concat_p1 _)^).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 217
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 218
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveL_1M {A : Type} {x y : A} (p q : x = y) :
  p @ q^ = 1 -&gt; p = q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 221
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 222
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 223
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 224
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact ((concat_p1 _)^ @ h).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 224
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 225
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveL_M1 {A : Type} {x y : A} (p q : x = y) :
  q^ @ p = 1 -&gt; p = q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 228
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 229
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 230
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 231
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact ((concat_1p _)^ @ h).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 231
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 232
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveL_1V {A : Type} {x y : A} (p : x = y) (q : y = x) :
  p @ q = 1 -&gt; p = q^.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 236
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 237
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 238
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact ((concat_p1 _)^ @ h).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 238
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 239
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveL_V1 {A : Type} {x y : A} (p : x = y) (q : y = x) :
  q @ p = 1 -&gt; p = q^.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 242
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 243
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact ((concat_1p _)^ @ h).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 246
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveR_M1 {A : Type} {x y : A} (p q : x = y) :
  1 = p^ @ q -&gt; p = q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 249
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 250
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 251
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (h @ (concat_1p _)).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 253
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveR_1M {A : Type} {x y : A} (p q : x = y) :
  1 = q @ p^ -&gt; p = q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 256
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 257
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 258
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 259
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (h @ (concat_p1 _)).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 259
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 260
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveR_1V {A : Type} {x y : A} (p : x = y) (q : y = x) :
  1 = q @ p -&gt; p^ = q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 264
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 265
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 266
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (h @ (concat_p1 _)).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 266
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 267
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveR_V1 {A : Type} {x y : A} (p : x = y) (q : y = x) :
  1 = p @ q -&gt; p^ = q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 270
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 271
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 272
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 273
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (h @ (concat_1p _)).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 273
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 274
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveR_transport_p {A : Type} (P : A -&gt; Type) {x y : A}
  (p : x = y) (u : P x) (v : P y)
  : u = p^ # v -&gt; p # u = v.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 278
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 279
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 280
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact idmap.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 281
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 282
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveR_transport_V {A : Type} (P : A -&gt; Type) {x y : A}
  (p : y = x) (u : P x) (v : P y)
  : u = p # v -&gt; p^ # u = v.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 286
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 287
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 288
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact idmap.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 289
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 290
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveL_transport_V {A : Type} (P : A -&gt; Type) {x y : A}
  (p : x = y) (u : P x) (v : P y)
  : p # u = v -&gt; u = p^ # v.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 294
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 295
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 296
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact idmap.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 297
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 298
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition moveL_transport_p {A : Type} (P : A -&gt; Type) {x y : A}
  (p : y = x) (u : P x) (v : P y)
  : p^ # u = v -&gt; u = p # v.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 303
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 304
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact idmap.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 305
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 306
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** *** Functoriality of functions *)

(** Here we prove that functions behave like functors between groupoids, and that [ap] itself is functorial. *)

(** Functions take identity paths to identity paths. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 312
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Definition ap_1 {A B : Type} (x : A) (f : A -&gt; B) :
  ap f 1 = 1 :&gt; (f x = f x)
  :=
  1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 315
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>

Definition apD_1 {A B} (x : A) (f : forall x : A, B x) :
  apD f 1 = 1 :&gt; (f x = f x)
  :=
  1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 320
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Functions commute with concatenation. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 322
Time: 0.008s">
<div class="time" style="width: 18.181818181818%"></div>
<pre>Definition ap_pp {A B : Type} (f : A -&gt; B) {x y z : A} (p : x = y) (q : y = z) :
  ap f (p @ q) = (ap f p) @ (ap f q)
  :=
  match q with
    idpath =&gt;
    match p with idpath =&gt; 1 end
  end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 328
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Definition ap_p_pp {A B : Type} (f : A -&gt; B) {w x y z : A}
  (r : f w = f x) (p : x = y) (q : y = z) :
  r @ (ap f (p @ q)) = (r @ ap f p) @ (ap f q).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 332
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 333
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>
  destruct p, q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 334
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> simpl.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 334
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (concat_p_pp r 1 1).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 334
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 335
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Definition ap_pp_p {A B : Type} (f : A -&gt; B) {w x y z : A}
  (p : x = y) (q : y = z) (r : f z = f w) :
  (ap f (p @ q)) @ r = (ap f p) @ (ap f q @ r).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 339
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 340
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>
  destruct p, q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 341
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> simpl.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 341
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (concat_pp_p 1 1 r).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 341
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 342
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Functions commute with path inverses. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 344
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>Definition inverse_ap {A B : Type} (f : A -&gt; B) {x y : A} (p : x = y) :
  (ap f p)^ = ap f (p^)
  :=
  match p with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 347
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>

Definition ap_V {A B : Type} (f : A -&gt; B) {x y : A} (p : x = y) :
  ap f (p^) = (ap f p)^
  :=
  match p with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 352
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** [ap] itself is functorial in the first argument. *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 355
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>Definition ap_idmap {A : Type} {x y : A} (p : x = y) :
  ap idmap p = p
  :=
  match p with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 358
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>

Definition ap_compose {A B C : Type} (f : A -&gt; B) (g : B -&gt; C) {x y : A} (p : x = y) :
  ap (g o f) p = ap g (ap f p)
  :=
  match p with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 363
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Sometimes we don't have the actual function [compose]. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 365
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>Definition ap_compose' {A B C : Type} (f : A -&gt; B) (g : B -&gt; C) {x y : A} (p : x = y) :
  ap (fun a =&gt; g (f a)) p = ap g (ap f p)
  :=
  match p with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 368
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The action of constant maps. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 370
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>Definition ap_const {A B : Type} {x y : A} (p : x = y) (z : B) :
  ap (fun _ =&gt; z) p = 1
  :=
  match p with idpath =&gt; idpath end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 373
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Naturality of [ap]. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 375
Time: 0.007s">
<div class="time" style="width: 15.909090909091%"></div>
<pre>Definition concat_Ap {A B : Type} {f g : A -&gt; B} (p : forall x, f x = g x) {x y : A} (q : x = y) :
  (ap f q) @ (p y) = (p x) @ (ap g q)
  :=
  match q with
    | idpath =&gt; concat_1p _ @ ((concat_p1 _) ^)
  end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 380
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Naturality of [ap] at identity. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 382
Time: 0.007s">
<div class="time" style="width: 15.909090909091%"></div>
<pre>Definition concat_A1p {A : Type} {f : A -&gt; A} (p : forall x, f x = x) {x y : A} (q : x = y) :
  (ap f q) @ (p y) = (p x) @ q
  :=
  match q with
    | idpath =&gt; concat_1p _ @ ((concat_p1 _) ^)
  end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 387
Time: 0.007s">
<div class="time" style="width: 15.909090909091%"></div>
<pre>

Definition concat_pA1 {A : Type} {f : A -&gt; A} (p : forall x, x = f x) {x y : A} (q : x = y) :
  (p x) @ (ap f q) =  q @ (p y)
  :=
  match q as i in (_ = y) return (p x @ ap f i = i @ p y) with
    | idpath =&gt; concat_p1 _ @ (concat_1p _)^
  end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 394
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Naturality with other paths hanging around. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 396
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>Definition concat_pA_pp {A B : Type} {f g : A -&gt; B} (p : forall x, f x = g x)
  {x y : A} (q : x = y)
  {w z : B} (r : w = f x) (s : g y = z)
  :
  (r @ ap f q) @ (p y @ s) = (r @ p x) @ (ap g q @ s).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 400
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 401
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>
  destruct q, s; simpl.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 402
Time: 0.008s">
<div class="time" style="width: 18.181818181818%"></div>
<pre>
  repeat rewrite concat_p1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 403
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 404
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 405
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Definition concat_pA_p {A B : Type} {f g : A -&gt; B} (p : forall x, f x = g x)
  {x y : A} (q : x = y)
  {w : B} (r : w = f x)
  :
  (r @ ap f q) @ p y = (r @ p x) @ ap g q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 411
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 412
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct q; simpl.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 413
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>
  repeat rewrite concat_p1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 414
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 415
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 416
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Definition concat_A_pp {A B : Type} {f g : A -&gt; B} (p : forall x, f x = g x)
  {x y : A} (q : x = y)
  {z : B} (s : g y = z)
  :
  (ap f q) @ (p y @ s) = (p x) @ (ap g q @ s).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 422
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 423
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>
  destruct q, s; cbn.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 424
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>
  repeat rewrite concat_p1, concat_1p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 425
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 426
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 427
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Definition concat_pA1_pp {A : Type} {f : A -&gt; A} (p : forall x, f x = x)
  {x y : A} (q : x = y)
  {w z : A} (r : w = f x) (s : y = z)
  :
  (r @ ap f q) @ (p y @ s) = (r @ p x) @ (q @ s).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 433
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 434
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>
  destruct q, s; simpl.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 435
Time: 0.007s">
<div class="time" style="width: 15.909090909091%"></div>
<pre>
  repeat rewrite concat_p1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 436
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 437
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 438
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Definition concat_pp_A1p {A : Type} {g : A -&gt; A} (p : forall x, x = g x)
  {x y : A} (q : x = y)
  {w z : A} (r : w = x) (s : g y = z)
  :
  (r @ p x) @ (ap g q @ s) = (r @ q) @ (p y @ s).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 444
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 445
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>
  destruct q, s; simpl.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 446
Time: 0.007s">
<div class="time" style="width: 15.909090909091%"></div>
<pre>
  repeat rewrite concat_p1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 447
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 448
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 449
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>

Definition concat_pA1_p {A : Type} {f : A -&gt; A} (p : forall x, f x = x)
  {x y : A} (q : x = y)
  {w : A} (r : w = f x)
  :
  (r @ ap f q) @ p y = (r @ p x) @ q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 455
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 456
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct q; simpl.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 457
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>
  repeat rewrite concat_p1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 458
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 459
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 460
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>

Definition concat_A1_pp {A : Type} {f : A -&gt; A} (p : forall x, f x = x)
  {x y : A} (q : x = y)
  {z : A} (s : y = z)
  :
  (ap f q) @ (p y @ s) = (p x) @ (q @ s).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 466
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 467
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
  destruct q, s; cbn.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 468
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>
  repeat rewrite concat_p1, concat_1p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 469
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 470
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 471
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>

Definition concat_pp_A1 {A : Type} {g : A -&gt; A} (p : forall x, x = g x)
  {x y : A} (q : x = y)
  {w : A} (r : w = x)
  :
  (r @ p x) @ ap g q = (r @ q) @ p y.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 477
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 478
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct q; simpl.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 479
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>
  repeat rewrite concat_p1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 480
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 481
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 482
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>

Definition concat_p_A1p {A : Type} {g : A -&gt; A} (p : forall x, x = g x)
  {x y : A} (q : x = y)
  {z : A} (s : g y = z)
  :
  p x @ (ap g q @ s) = q @ (p y @ s).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 488
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 489
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>
  destruct q, s; simpl.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 490
Time: 0.024s">
<div class="time" style="width: 54.545454545455%"></div>
<pre>
  repeat rewrite concat_p1, concat_1p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 491
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 492
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 493
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** *** Action of [apD10] and [ap10] on paths. *)

(** Application of paths between functions preserves the groupoid structure *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 498
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Definition apD10_1 {A} {B:A-&gt;Type} (f : forall x, B x) (x:A)
  : apD10 (idpath f) x = 1
:= 1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 500
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition apD10_pp {A} {B:A-&gt;Type} {f f' f'' : forall x, B x}
  (h:f=f') (h':f'=f'') (x:A)
: apD10 (h @ h') x = apD10 h x @ apD10 h' x.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 504
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 505
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
  case h, h'; reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 506
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 507
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Definition apD10_V {A} {B:A-&gt;Type} {f g : forall x, B x} (h:f=g) (x:A)
  : apD10 (h^) x = (apD10 h x)^
:= match h with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 511
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition ap10_1 {A B} {f:A-&gt;B} (x:A) : ap10 (idpath f) x = 1
  := 1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 514
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>

Definition ap10_pp {A B} {f f' f'':A-&gt;B} (h:f=f') (h':f'=f'') (x:A)
  : ap10 (h @ h') x = ap10 h x @ ap10 h' x
:= apD10_pp h h' x.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 518
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition ap10_V {A B} {f g : A-&gt;B} (h : f = g) (x:A)
  : ap10 (h^) x = (ap10 h x)^
:= apD10_V h x.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 522
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** [apD10] and [ap10] also behave nicely on paths produced by [ap] *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 524
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>Definition apD10_ap_precompose {A B C} (f : A -&gt; B) {g g' : forall x:B, C x} (p : g = g') a
: apD10 (ap (fun h : forall x:B, C x =&gt; h oD f) p) a = apD10 p (f a).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 525
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 526
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p; reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 527
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 528
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Definition ap10_ap_precompose {A B C} (f : A -&gt; B) {g g' : B -&gt; C} (p : g = g') a
: ap10 (ap (fun h : B -&gt; C =&gt; h o f) p) a = ap10 p (f a)
:= apD10_ap_precompose f p a.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 532
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>

Definition apD10_ap_postcompose {A B C} (f : forall x, B x -&gt; C) {g g' : forall x:A, B x} (p : g = g') a
: apD10 (ap (fun h : forall x:A, B x =&gt; fun x =&gt; f x (h x)) p) a = ap (f a) (apD10 p a).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 535
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 536
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p; reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 537
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 538
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Definition ap10_ap_postcompose {A B C} (f : B -&gt; C) {g g' : A -&gt; B} (p : g = g') a
: ap10 (ap (fun h : A -&gt; B =&gt; f o h) p) a = ap f (ap10 p a)
:= apD10_ap_postcompose (fun a =&gt; f) p a.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 542
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** *** Transport and the groupoid structure of paths *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 545
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition transport_1 {A : Type} (P : A -&gt; Type) {x : A} (u : P x)
  : 1 # u = u
:= 1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 547
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>

Definition transport_pp {A : Type} (P : A -&gt; Type) {x y z : A} (p : x = y) (q : y = z) (u : P x) :
  p @ q # u = q # p # u :=
  match q with idpath =&gt;
    match p with idpath =&gt; 1 end
  end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 553
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Definition transport_pV {A : Type} (P : A -&gt; Type) {x y : A} (p : x = y) (z : P y)
  : p # p^ # z = z
  := (transport_pp P p^ p z)^
  @ ap (fun r =&gt; transport P r z) (concat_Vp p).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 558
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Definition transport_Vp {A : Type} (P : A -&gt; Type) {x y : A} (p : x = y) (z : P x)
  : p^ # p # z = z
  := (transport_pp P p p^ z)^
  @ ap (fun r =&gt; transport P r z) (concat_pV p).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 563
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** In the future, we may expect to need some higher coherence for transport:
  for instance, that transport acting on the associator is trivial. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 566
Time: 0.007s">
<div class="time" style="width: 15.909090909091%"></div>
<pre>Definition transport_p_pp {A : Type} (P : A -&gt; Type)
  {x y z w : A} (p : x = y) (q : y = z) (r : z = w)
  (u : P x)
  : ap (fun e =&gt; e # u) (concat_p_pp p q r)
    @ (transport_pp P (p@q) r u) @ ap (transport P r) (transport_pp P p q u)
  = (transport_pp P p (q@r) u) @ (transport_pp P q r (p#u))
  :&gt; ((p @ (q @ r)) # u = r # q # p # u) .</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 572
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 573
Time: 0.011s">
<div class="time" style="width: 25%"></div>
<pre>
  destruct p, q, r.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 574
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>  simpl.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 574
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>  exact 1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 574
Time: 0.008s">
<div class="time" style="width: 18.181818181818%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 575
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Here is another coherence lemma for transport. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 577
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Definition transport_pVp {A} (P : A -&gt; Type) {x y:A} (p:x=y) (z:P x)
  : transport_pV P p (transport P p z)
  = ap (transport P p) (transport_Vp P p z).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 579
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 580
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p; reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 581
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 582
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Dependent transport in a doubly dependent type. *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 585
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Definition transportD {A : Type} (B : A -&gt; Type) (C : forall a:A, B a -&gt; Type)
  {x1 x2 : A} (p : x1 = x2) (y : B x1) (z : C x1 y)
  : C x2 (p # y)
  :=
  match p with idpath =&gt; z end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 589
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** *** [ap] for multivariable functions *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 592
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Definition ap011 {A B C} (f : A -&gt; B -&gt; C) {x x' y y'} (p : x = x') (q : y = y')
: f x y = f x' y'
:= ap11 (ap f p) q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 594
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** It would be nice to have a consistent way to name the different ways in which this can be dependent.  The following are a sort of half-hearted attempt. *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 597
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Definition ap011D {A B C} (f : forall (a:A), B a -&gt; C)
           {x x'} (p : x = x') {y y'} (q : p # y = y')
: f x y = f x' y'.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 599
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 600
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p, q; reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 601
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 602
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition ap01D1 {A B C} (f : forall (a:A), B a -&gt; C a)
           {x x'} (p : x = x') {y y'} (q : p # y = y')
: transport C p (f x y) = f x' y'.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 606
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 607
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p, q; reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 608
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 609
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>

Definition apD011 {A B C} (f : forall (a:A) (b:B a), C a b)
           {x x'} (p : x = x') {y y'} (q : p # y = y')
: transport (C x') q (transportD B C p y (f x y)) = f x' y'.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 613
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 614
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
  destruct p, q; reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 615
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 616
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Transporting along higher-dimensional paths *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 619
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>Definition transport2 {A : Type} (P : A -&gt; Type) {x y : A} {p q : x = y}
  (r : p = q) (z : P x)
  : p # z = q # z
  := ap (fun p' =&gt; p' # z) r.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 622
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** An alternative definition. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 624
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>Definition transport2_is_ap10 {A : Type} (Q : A -&gt; Type) {x y : A} {p q : x = y}
  (r : p = q) (z : Q x)
  : transport2 Q r z = ap10 (ap (transport Q) r) z
  := match r with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 627
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>

Definition transport2_p2p {A : Type} (P : A -&gt; Type) {x y : A} {p1 p2 p3 : x = y}
  (r1 : p1 = p2) (r2 : p2 = p3) (z : P x)
  : transport2 P (r1 @ r2) z = transport2 P r1 z @ transport2 P r2 z.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 631
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 632
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
  destruct r1, r2; reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 633
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 634
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>

Definition transport2_V {A : Type} (Q : A -&gt; Type) {x y : A} {p q : x = y}
  (r : p = q) (z : Q x)
  : transport2 Q (r^) z = (transport2 Q r z)^
  := match r with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 639
Time: 0.009s">
<div class="time" style="width: 20.454545454545%"></div>
<pre>

Definition concat_AT {A : Type} (P : A -&gt; Type) {x y : A} {p q : x = y}
  {z w : P x} (r : p = q) (s : z = w)
  : ap (transport P p) s  @  transport2 P r w
    = transport2 P r z  @  ap (transport P q) s
  := match r with idpath =&gt; (concat_p1 _ @ (concat_1p _)^) end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 645
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* TODO: What should this be called? *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 647
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Lemma ap_transport {A} {P Q : A -&gt; Type} {x y : A} (p : x = y) (f : forall x, P x -&gt; Q x) (z : P x) :
  f y (p # z) = (p # (f x z)).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 648
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 649
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  by induction p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 650
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 651
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


(** *** Transporting in particular fibrations. *)

(** One frequently needs lemmas showing that transport in a certain dependent type is equal to some more explicitly defined operation, defined according to the structure of that dependent type.  For most dependent types, we prove these lemmas in the appropriate file in the types/ subdirectory.  Here we consider only the most basic cases. *)

(** Transporting in a constant fibration. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 658
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition transport_const {A B : Type} {x1 x2 : A} (p : x1 = x2) (y : B)
  : transport (fun x =&gt; B) p y = y.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 659
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 660
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 661
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>  exact 1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 661
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 662
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>

Definition transport2_const {A B : Type} {x1 x2 : A} {p q : x1 = x2}
  (r : p = q) (y : B)
  : transport_const p y = transport2 (fun _ =&gt; B) r y @ transport_const q y
  := match r with idpath =&gt; (concat_1p _)^ end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 667
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Transporting in a pulled back fibration. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 669
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Lemma transport_compose {A B} {x y : A} (P : B -&gt; Type) (f : A -&gt; B)
  (p : x = y) (z : P (f x))
  : transport (fun x =&gt; P (f x)) p z  =  transport P (ap f p) z.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 671
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 672
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p; reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 673
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 674
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Lemma transport_precompose {A B C} (f : A -&gt; B) (g g' : B -&gt; C) (p : g = g')
: transport (fun h : B -&gt; C =&gt; g o f = h o f) p 1 =
  ap (fun h =&gt; h o f) p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 678
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 679
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p; reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 680
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 681
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A special case of [transport_compose] which seems to come up a lot. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 683
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>Definition transport_idmap_ap A (P : A -&gt; Type) x y (p : x = y) (u : P x)
: transport P p u = transport idmap (ap P p) u
  := match p with idpath =&gt; idpath end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 685
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** *** The behavior of [ap] and [apD]. *)

(** In a constant fibration, [apD] reduces to [ap], modulo [transport_const]. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 689
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Lemma apD_const {A B} {x y : A} (f : A -&gt; B) (p: x = y) :
  apD f p = transport_const p (f x) @ ap f p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 690
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 691
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p; reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 692
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 693
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** The 2-dimensional groupoid structure *)

(** Horizontal composition of 2-dimensional paths. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 697
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>Definition concat2 {A} {x y z : A} {p p' : x = y} {q q' : y = z} (h : p = p') (h' : q = q')
  : p @ q = p' @ q'
:= match h, h' with idpath, idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 699
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "p @@ q" := (concat2 p q)%path (at level 20) : path_scope.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 701
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** 2-dimensional path inversion *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 703
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Definition inverse2 {A : Type} {x y : A} {p q : x = y} (h : p = q)
  : p^ = q^
:= match h with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 705
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** *** Whiskering *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 708
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Definition whiskerL {A : Type} {x y z : A} (p : x = y)
  {q r : y = z} (h : q = r) : p @ q = p @ r
:= 1 @@ h.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 710
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Definition whiskerR {A : Type} {x y z : A} {p q : x = y}
  (h : p = q) (r : y = z) : p @ r = q @ r
:= h @@ 1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 714
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** *** Unwhiskering, a.k.a. cancelling. *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 717
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Lemma cancelL {A} {x y z : A} (p : x = y) (q r : y = z)
  : (p @ q = p @ r) -&gt; (q = r).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 718
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 719
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct p, r.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 720
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro a.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 721
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact ((concat_1p q)^ @ a).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 722
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 723
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Lemma cancelR {A} {x y z : A} (p q : x = y) (r : y = z)
  : (p @ r = q @ r) -&gt; (p = q).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 726
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 727
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  destruct r, p.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 728
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro a.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 729
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (a @ concat_p1 q).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 730
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 731
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Whiskering and identity paths. *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 734
Time: 0.012s">
<div class="time" style="width: 27.272727272727%"></div>
<pre>Definition whiskerR_p1 {A : Type} {x y : A} {p q : x = y} (h : p = q) :
  (concat_p1 p) ^ @ whiskerR h 1 @ concat_p1 q = h
  :=
  match h with idpath =&gt;
    match p with idpath =&gt;
      1
    end end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 740
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Definition whiskerR_1p {A : Type} {x y z : A} (p : x = y) (q : y = z) :
  whiskerR 1 q = 1 :&gt; (p @ q = p @ q)
  :=
  match q with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 745
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>

Definition whiskerL_p1 {A : Type} {x y z : A} (p : x = y) (q : y = z) :
  whiskerL p 1 = 1 :&gt; (p @ q = p @ q)
  :=
  match q with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 750
Time: 0.011s">
<div class="time" style="width: 25%"></div>
<pre>

Definition whiskerL_1p {A : Type} {x y : A} {p q : x = y} (h : p = q) :
  (concat_1p p) ^ @ whiskerL 1 h @ concat_1p q = h
  :=
  match h with idpath =&gt;
    match p with idpath =&gt;
      1
    end end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 758
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>

Definition concat2_p1 {A : Type} {x y : A} {p q : x = y} (h : p = q) :
  h @@ 1 = whiskerR h 1 :&gt; (p @ 1 = q @ 1)
  :=
  match h with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 763
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>

Definition concat2_1p {A : Type} {x y : A} {p q : x = y} (h : p = q) :
  1 @@ h = whiskerL 1 h :&gt; (1 @ p = 1 @ q)
  :=
  match h with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 768
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


(** The interchange law for concatenation. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 771
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>Definition concat_concat2 {A : Type} {x y z : A} {p p' p'' : x = y} {q q' q'' : y = z}
  (a : p = p') (b : p' = p'') (c : q = q') (d : q' = q'') :
  (a @@ c) @ (b @@ d) = (a @ b) @@ (c @ d).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 773
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 774
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  case d.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 775
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  case c.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 776
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  case b.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 777
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  case a.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 778
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 779
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 780
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The interchange law for whiskering.  Special case of [concat_concat2]. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 782
Time: 0.012s">
<div class="time" style="width: 27.272727272727%"></div>
<pre>Definition concat_whisker {A} {x y z : A} (p p' : x = y) (q q' : y = z) (a : p = p') (b : q = q') :
  (whiskerR a q) @ (whiskerL p' b) = (whiskerL p b) @ (whiskerR a q')
  :=
  match b with
    idpath =&gt;
    match a with idpath =&gt;
      (concat_1p _)^
    end
  end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 790
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Structure corresponding to the coherence equations of a bicategory. *)

(** The "pentagonator": the 3-cell witnessing the associativity pentagon. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 794
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>Definition pentagon {A : Type} {v w x y z : A} (p : v = w) (q : w = x) (r : x = y) (s : y = z)
  : whiskerL p (concat_p_pp q r s)
      @ concat_p_pp p (q@r) s
      @ whiskerR (concat_p_pp p q r) s
  = concat_p_pp p q (r@s) @ concat_p_pp (p@q) r s.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 798
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 799
Time: 0.043s">
<div class="time" style="width: 97.727272727273%"></div>
<pre>
  case p, q, r, s.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 800
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>  reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 800
Time: 0.009s">
<div class="time" style="width: 20.454545454545%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 801
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The 3-cell witnessing the left unit triangle. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 803
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>Definition triangulator {A : Type} {x y z : A} (p : x = y) (q : y = z)
  : concat_p_pp p 1 q @ whiskerR (concat_p1 p) q
  = whiskerL p (concat_1p q).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 805
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 806
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>
  case p, q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 807
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>  reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 807
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 808
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The Eckmann-Hilton argument *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 810
Time: 0.044s">
<div class="time" style="width: 100%"></div>
<pre>Definition eckmann_hilton {A : Type} {x:A} (p q : 1 = 1 :&gt; (x = x)) : p @ q = q @ p :=
  (whiskerR_p1 p @@ whiskerL_1p q)^
  @ (concat_p1 _ @@ concat_p1 _)
  @ (concat_1p _ @@ concat_1p _)
  @ (concat_whisker _ _ _ _ p q)
  @ (concat_1p _ @@ concat_1p _)^
  @ (concat_p1 _ @@ concat_p1 _)^
  @ (whiskerL_1p q @@ whiskerR_p1 p).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 817
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The action of functions on 2-dimensional paths *)

</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 820
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Definition ap02 {A B : Type} (f:A-&gt;B) {x y:A} {p q:x=y} (r:p=q) : ap f p = ap f q
  := match r with idpath =&gt; 1 end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 821
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>

Definition ap02_pp {A B} (f:A-&gt;B) {x y:A} {p p' p'':x=y} (r:p=p') (r':p'=p'')
  : ap02 f (r @ r') = ap02 f r @ ap02 f r'.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 824
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 825
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
  case r, r'; reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 826
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 827
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>

Definition ap02_p2p {A B} (f:A-&gt;B) {x y z:A} {p p':x=y} {q q':y=z} (r:p=p') (s:q=q')
  : ap02 f (r @@ s) =   ap_pp f p q
                      @ (ap02 f r  @@  ap02 f s)
                      @ (ap_pp f p' q')^.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 832
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 833
Time: 0.01s">
<div class="time" style="width: 22.727272727273%"></div>
<pre>
  case r, s, p, q.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 834
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 834
Time: 0.007s">
<div class="time" style="width: 15.909090909091%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 835
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>

Definition apD02 {A : Type} {B : A -&gt; Type} {x y : A} {p q : x = y}
  (f : forall x, B x) (r : p = q)
  : apD f p = transport2 B r (f x) @ apD f q
  := match r with idpath =&gt; (concat_1p _)^ end.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 840
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* And now for a lemma whose statement is much longer than its proof. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 842
Time: 0.008s">
<div class="time" style="width: 18.181818181818%"></div>
<pre>Definition apD02_pp {A} (B : A -&gt; Type) (f : forall x:A, B x) {x y : A}
  {p1 p2 p3 : x = y} (r1 : p1 = p2) (r2 : p2 = p3)
  : apD02 f (r1 @ r2)
  = apD02 f r1
  @ whiskerL (transport2 B r1 (f x)) (apD02 f r2)
  @ concat_p_pp _ _ _
  @ (whiskerR (transport2_p2p B r1 r2 (f x))^ (apD f p3)).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 848
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 849
Time: 0.014s">
<div class="time" style="width: 31.818181818182%"></div>
<pre>
  destruct r1, r2.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 850
Time: 0.007s">
<div class="time" style="width: 15.909090909091%"></div>
<pre> destruct p1.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 850
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 850
Time: 0.021s">
<div class="time" style="width: 47.727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 851
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Tactics, hints, and aliases *)

(** [concat], with arguments flipped. Useful mainly in the idiom [apply (concatR (expression))]. Given as a notation not a definition so that the resultant terms are literally instances of [concat], with no unfolding required. *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 855
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation concatR := (fun p q =&gt; concat q p).</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 855
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Hint Resolve
  concat_1p concat_p1 concat_p_pp
  inv_pp inv_V
 : path_hints.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 860
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* First try at a paths db
We want the RHS of the equation to become strictly simpler *)</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 863
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>Hint Rewrite
@concat_p1
@concat_1p
@concat_p_pp (* there is a choice here !*)
@concat_pV
@concat_Vp
@concat_V_pp
@concat_p_Vp
@concat_pp_V
@concat_pV_p
(*@inv_pp*) (* I am not sure about this one *)
@inv_V
@moveR_Mp
@moveR_pM
@moveL_Mp
@moveL_pM
@moveL_1M
@moveL_M1
@moveR_M1
@moveR_1M
@ap_1
(* @ap_pp
@ap_p_pp ?*)
@inverse_ap
@ap_idmap
(* @ap_compose
@ap_compose'*)
@ap_const
(* Unsure about naturality of [ap], was absent in the old implementation*)
@apD10_1
:paths.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 893
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Ltac hott_simpl :=
  autorewrite with paths in * |- * ; auto with path_hints.</pre>
</div>
<div class="code" title="File: PathGroupoids.v
Line: 897
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

