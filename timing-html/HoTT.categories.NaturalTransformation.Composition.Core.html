<html>
<head>
<title>Core.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Core.v</h1>

<div class="code" title="File: Core.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(** * Composition of natural transformations *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 1
Time: 0.008s">
<div class="time" style="width: 24.242424242424%"></div>
<pre>Require Import Category.Core Functor.Core Functor.Composition.Core NaturalTransformation.Core.</pre>
</div>
<div class="code" title="File: Core.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Set Universe Polymorphism.</pre>
</div>
<div class="code" title="File: Core.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Set Implicit Arguments.</pre>
</div>
<div class="code" title="File: Core.v
Line: 4
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Generalizable All Variables.</pre>
</div>
<div class="code" title="File: Core.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Set Asymmetric Patterns.</pre>
</div>
<div class="code" title="File: Core.v
Line: 6
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 8
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope morphism_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope natural_transformation_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Vertical composition *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section composition.</pre>
</div>
<div class="code" title="File: Core.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (**
     We have the diagram
&lt;&lt;
          F
     C -------&gt; D
          |
          |
          | T
          |
          V
     C -------&gt; D
          F'
          |
          | T'
          |
          V
     C ------&gt; D
          F''
&gt;&gt;

     And we want the commutative diagram
&lt;&lt;
           F m
     F A -------&gt; F B
      |            |
      |            |
      | T A        | T B
      |            |
      V    F' m    V
     F' A -------&gt; F' B
      |            |
      |            |
      | T' A       | T' B
      |            |
      V    F'' m   V
     F'' A ------&gt; F'' B
&gt;&gt;
  *)

 </pre>
</div>
<div class="code" title="File: Core.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section compose.</pre>
</div>
<div class="code" title="File: Core.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Variable C : PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 53
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Variable D : PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 54
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Variables F F' F'' : Functor C D.</pre>
</div>
<div class="code" title="File: Core.v
Line: 55
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Variable T' : NaturalTransformation F' F''.</pre>
</div>
<div class="code" title="File: Core.v
Line: 57
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Variable T : NaturalTransformation F F'.</pre>
</div>
<div class="code" title="File: Core.v
Line: 58
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Local Notation CO c := (T' c o T c).</pre>
</div>
<div class="code" title="File: Core.v
Line: 60
Time: 0.031s">
<div class="time" style="width: 93.939393939394%"></div>
<pre>

    Definition compose_commutes s d (m : morphism C s d)
    : CO d o morphism_of F m = morphism_of F'' m o CO s
      := (associativity _ _ _ _ _ _ _ _)
           @ ap (fun x =&gt; _ o x) (commutes T _ _ m)
           @ (associativity_sym _ _ _ _ _ _ _ _)
           @ ap (fun x =&gt; x o _) (commutes T' _ _ m)
           @ (associativity _ _ _ _ _ _ _ _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 68
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** We define the symmetrized version separately so that we can get more unification in the functor [(C → D)ᵒᵖ → (Cᵒᵖ → Dᵒᵖ)] *)
   </pre>
</div>
<div class="code" title="File: Core.v
Line: 71
Time: 0.032s">
<div class="time" style="width: 96.969696969697%"></div>
<pre>Definition compose_commutes_sym s d (m : morphism C s d)
    : morphism_of F'' m o CO s = CO d o morphism_of F m
      := (associativity_sym _ _ _ _ _ _ _ _)
           @ ap (fun x =&gt; x o _) (commutes_sym T' _ _ m)
           @ (associativity _ _ _ _ _ _ _ _)
           @ ap (fun x =&gt; _ o x) (commutes_sym T _ _ m)
           @ (associativity_sym _ _ _ _ _ _ _ _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Global Arguments compose_commutes : simpl never.</pre>
</div>
<div class="code" title="File: Core.v
Line: 79
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Global Arguments compose_commutes_sym : simpl never.</pre>
</div>
<div class="code" title="File: Core.v
Line: 80
Time: 0.004s">
<div class="time" style="width: 12.121212121212%"></div>
<pre>

    Definition compose
    : NaturalTransformation F F''
      := Build_NaturalTransformation' F F''
                                      (fun c =&gt; CO c)
                                      compose_commutes
                                      compose_commutes_sym.</pre>
</div>
<div class="code" title="File: Core.v
Line: 87
Time: 0.004s">
<div class="time" style="width: 12.121212121212%"></div>
<pre>
  End compose.</pre>
</div>
<div class="code" title="File: Core.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** ** Whiskering *)
 </pre>
</div>
<div class="code" title="File: Core.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Local Ltac whisker_t :=
    simpl;
    repeat first [ apply commutes
                 | apply ap
                 | progress (etransitivity; try apply composition_of); []
                 | progress (etransitivity; try (symmetry; apply composition_of)); [] ].</pre>
</div>
<div class="code" title="File: Core.v
Line: 96
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Section whisker.</pre>
</div>
<div class="code" title="File: Core.v
Line: 98
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Variable C : PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 99
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Variable D : PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 100
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Variable E : PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Section L.</pre>
</div>
<div class="code" title="File: Core.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      Variable F : Functor D E.</pre>
</div>
<div class="code" title="File: Core.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      Variables G G' : Functor C D.</pre>
</div>
<div class="code" title="File: Core.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      Variable T : NaturalTransformation G G'.</pre>
</div>
<div class="code" title="File: Core.v
Line: 106
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

      Local Notation CO c := (morphism_of F (T c)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 108
Time: 0.006s">
<div class="time" style="width: 18.181818181818%"></div>
<pre>

      Definition whisker_l_commutes s d (m : morphism C s d)
      : F _1 (T d) o (F o G) _1 m = (F o G') _1 m o F _1 (T s).</pre>
</div>
<div class="code" title="File: Core.v
Line: 111
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 112
Time: 0.033s">
<div class="time" style="width: 100%"></div>
<pre>
        whisker_t.</pre>
</div>
<div class="code" title="File: Core.v
Line: 113
Time: 0.017s">
<div class="time" style="width: 51.515151515152%"></div>
<pre>
      Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 114
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

      Global Arguments whisker_l_commutes : simpl never.</pre>
</div>
<div class="code" title="File: Core.v
Line: 116
Time: 0.005s">
<div class="time" style="width: 15.151515151515%"></div>
<pre>

      Definition whisker_l
        := Build_NaturalTransformation
             (F o G) (F o G')
             (fun c =&gt; CO c)
             whisker_l_commutes.</pre>
</div>
<div class="code" title="File: Core.v
Line: 122
Time: 0.002s">
<div class="time" style="width: 6.0606060606061%"></div>
<pre>
    End L.</pre>
</div>
<div class="code" title="File: Core.v
Line: 123
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Section R.</pre>
</div>
<div class="code" title="File: Core.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      Variables F F' : Functor D E.</pre>
</div>
<div class="code" title="File: Core.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      Variable T : NaturalTransformation F F'.</pre>
</div>
<div class="code" title="File: Core.v
Line: 127
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      Variable G : Functor C D.</pre>
</div>
<div class="code" title="File: Core.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

      Local Notation CO c := (T (G c)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 130
Time: 0.006s">
<div class="time" style="width: 18.181818181818%"></div>
<pre>

      Definition whisker_r_commutes s d (m : morphism C s d)
      : T (G d) o (F o G) _1 m = (F' o G) _1 m o T (G s).</pre>
</div>
<div class="code" title="File: Core.v
Line: 133
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 134
Time: 0.003s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>
        whisker_t.</pre>
</div>
<div class="code" title="File: Core.v
Line: 135
Time: 0.003s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>
      Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

      Global Arguments whisker_r_commutes : simpl never.</pre>
</div>
<div class="code" title="File: Core.v
Line: 138
Time: 0.004s">
<div class="time" style="width: 12.121212121212%"></div>
<pre>

      Definition whisker_r
        := Build_NaturalTransformation
             (F o G) (F' o G)
             (fun c =&gt; CO c)
             whisker_r_commutes.</pre>
</div>
<div class="code" title="File: Core.v
Line: 144
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    End R.</pre>
</div>
<div class="code" title="File: Core.v
Line: 145
Time: 0.003s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>
  End whisker.</pre>
</div>
<div class="code" title="File: Core.v
Line: 146
Time: 0.013s">
<div class="time" style="width: 39.393939393939%"></div>
<pre>
End composition.</pre>
</div>
<div class="code" title="File: Core.v
Line: 147
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Module Export NaturalTransformationCompositionCoreNotations.</pre>
</div>
<div class="code" title="File: Core.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Infix "o" := compose : natural_transformation_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 150
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Infix "oL" := whisker_l (at level 40, left associativity) : natural_transformation_scope.
  Infix "oR" := whisker_r (at level 40, left associativity) : natural_transformation_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>End NaturalTransformationCompositionCoreNotations.</pre>
</div>
<div class="code" title="File: Core.v
Line: 153
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

