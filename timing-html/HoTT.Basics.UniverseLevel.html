<html>
<head>
<title>UniverseLevel.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for UniverseLevel.v</h1>

<div class="code" title="File: UniverseLevel.v
Line: 1
Time: 0.008s">
<div class="time" style="width: 100%"></div>
<pre>Require Import Overture.</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * Universe Levels *)

(** We provide casting definitions for raising universe levels. *)

(** Because we have cumulativity (that [T : U@{i}] gives us [T : U@{j}] when [i &lt; j]), we may define [Lift : U@{i} â†’ U@{j}] to be the identity function with a fancy type; the type says that [i &lt; j]. *)</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 7
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Lift (A : Type@{i}) : Type@{j}
  := Eval hnf in let enforce_lt := Type@{i} : Type@{j} in A.</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 8
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition lift {A} : A -&gt; Lift A := fun x =&gt; x.</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition lower {A} : Lift A -&gt; A := fun x =&gt; x.</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 12
Time: 0.004s">
<div class="time" style="width: 50%"></div>
<pre>

Global Instance isequiv_lift T : IsEquiv (@lift T)
  := @BuildIsEquiv
       _ _
       (@lift T)
       (@lower T)
       (fun _ =&gt; idpath)
       (fun _ =&gt; idpath)
       (fun _ =&gt; idpath).</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 21
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This version doesn't force strict containment, i.e. it allows the two universes to possibly be the same.  No fancy type is necessary here other than the universe annotations, because of cumulativity. *)

</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 24
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Lift' (A : Type@{i}) : Type@{j} := A.</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 24
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** However, if we don't give the universes as explicit arguments here, then Coq collapses them. *)</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 26
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition lift' {A : Type@{i}} : A -&gt; Lift'@{i j} A := fun x =&gt; x.</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 26
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition lower' {A : Type@{i}} : Lift'@{i j} A -&gt; A := fun x =&gt; x.</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 28
Time: 0.004s">
<div class="time" style="width: 50%"></div>
<pre>

Global Instance isequiv_lift' T : IsEquiv (@lift'@{i j} T)
  := @BuildIsEquiv
       _ _
       (@lift' T)
       (@lower' T)
       (fun _ =&gt; idpath)
       (fun _ =&gt; idpath)
       (fun _ =&gt; idpath).</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 37
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** We make [lift] and [lower] opaque so that typeclass resolution doesn't pick up [isequiv_lift] as an instance of [IsEquiv idmap] and wreck havok. *)</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Typeclasses Opaque lift lower lift' lower'.</pre>
</div>
<div class="code" title="File: UniverseLevel.v
Line: 40
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(*Fail Check Lift nat : Type0.
Check 1 : Lift nat.*)

</pre>
</div>
</body>
</html>

