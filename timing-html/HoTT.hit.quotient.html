<html>
<head>
<title>quotient.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for quotient.v</h1>

<div class="code" title="File: quotient.v
Line: 1
Time: 0.056s">
<div class="time" style="width: 100%"></div>
<pre>Require Import Overture types.Universe HSet PathGroupoids HProp Equivalences.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Open Local Scope path_scope.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Quotient of a Type by a set-valued relation
We aim to model:
&lt;&lt;
Inductive quotient : Type :=
   | class_of : A -&gt; quotient
   | class_of_path : forall x y, (R x y), class_of x = class_of y
&gt;&gt;
*)

(** This development should be further connected with the sections in the book;
see below.*)

(** We experiment with the unbundled approach to type classes. *)</pre>
</div>
<div class="code" title="File: quotient.v
Line: 17
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>Class setrel {A} (R:(relation A)):= issetrel:forall x y, IsHProp (R x y).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 17
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Module Export Quotient.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 19
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section Domain.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 21
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Context {A : Type} {R:relation A} {sR:setrel R}.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 23
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
(** We choose to let the definition of quotient depend on the proof that [R] is a set-relations.
Alternatively, we could have defined it for all relations and only develop the theory for set-relations.
The former seems more natural.

We do not require [R] to be an equivalence relation, but implicitly consider its transitive-reflexive closure. *)


(** Note: If we wanted to be really accurate, we'd need to put [@quotient A R sr] in the max [U_{sup(i, j)}] of the universes of [A : U_i] and [R : A -&gt; A -&gt; U_j].  But this requires some hacky code, at the moment, and the only thing we gain is avoiding making use of an implicit hpropositional resizing "axiom". *)</pre>
</div>
<div class="code" title="File: quotient.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Local Inductive quotient (sR:setrel R): Type :=
  | class_of : A -&gt; quotient sR.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 32
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
Axiom related_classes_eq : forall {x y : A}, R x y -&gt;
 class_of _ x = class_of _ y.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Axiom quotient_set : IsHSet (quotient _).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 36
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Global Existing Instance quotient_set.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 37
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>

Definition quotient_rect (P : (quotient _)-&gt; Type):
  forall dclass : forall x, P (class_of _ x),
  forall dequiv : (forall x y (H : R x y),
           transport _ (related_classes_eq H) (dclass x) = dclass y),
  forall q, P q.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 44
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
intros ? ? [a].</pre>
</div>
<div class="code" title="File: quotient.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply dclass.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 45
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 46
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>

Definition quotient_rect_compute : forall {P} dclass dequiv x,
  quotient_rect P dclass dequiv (class_of _ x) = dclass x.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 49
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 50
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
reflexivity.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 51
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Again equality of paths needs to be postulated *)</pre>
</div>
<div class="code" title="File: quotient.v
Line: 54
Time: 0.005s">
<div class="time" style="width: 8.9285714285714%"></div>
<pre>Axiom quotient_rect_compute_path : forall P dclass dequiv,
forall x y (H : R x y),
apD (quotient_rect P dclass dequiv) (related_classes_eq H)
 = dequiv x y H.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 57
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>

End Domain.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 59
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

End Quotient.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section Equiv.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Context {funext : Funext} {uni : Univalence}.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 65
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>

Context {A : Type} {R : relation A} {sR:setrel R}
 {Htrans : Transitive R} {Hsymm : Symmetric R}.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 68
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Hint Resolve sR : typeclass_instances.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 69
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>

Lemma quotient_path2 : forall {x y : quotient _} (p q : x=y), p=q.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 71
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 72
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
apply @set_path2.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 73
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre> apply _.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 73
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 74
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>

Definition in_class : quotient _ -&gt; A -&gt; Type.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 77
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
apply (@quotient_rect _ _ _ (fun _ =&gt; A -&gt; Type) R).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 79
Time: 0.007s">
<div class="time" style="width: 12.5%"></div>
<pre> eapply concat;[apply transport_const|].</pre>
</div>
<div class="code" title="File: quotient.v
Line: 79
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
apply funext.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 80
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro z.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 80
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre> apply uni.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 80
Time: 0.047s">
<div class="time" style="width: 83.928571428571%"></div>
<pre> apply @equiv_iff_hprop; eauto.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 80
Time: 0.007s">
<div class="time" style="width: 12.5%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Context {Hrefl : Reflexive R}.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 83
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>

Lemma in_class_pr : forall x y, in_class (class_of _ x) y = R x y.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 86
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
reflexivity.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 87
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 88
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>

Global Instance in_class_is_prop : forall q x, IsHProp (in_class q x).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 91
Time: 0.01s">
<div class="time" style="width: 17.857142857143%"></div>
<pre>
apply (@quotient_rect A R _
    (fun q : quotient sR =&gt; forall x, IsHProp (in_class q x)) (fun x y =&gt; transport _ (in_class_pr x y) (sR x y))).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 94
Time: 0.04s">
<div class="time" style="width: 71.428571428571%"></div>
<pre> apply allpath_hprop.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 94
Time: 0.016s">
<div class="time" style="width: 28.571428571429%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 95
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>

Require Import HProp.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 97
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>

Lemma quotient_rect_prop (P : quotient _ -&gt; hProp):
  forall dclass : forall x, P (class_of _ x),
  forall q, P q.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 102
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 103
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre> apply (quotient_rect P dclass).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 104
Time: 0.006s">
<div class="time" style="width: 10.714285714286%"></div>
<pre> apply allpath_hprop.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 104
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 105
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>

Lemma class_of_repr : forall q x, in_class q x -&gt; q = class_of _ x.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 107
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 108
Time: 0.008s">
<div class="time" style="width: 14.285714285714%"></div>
<pre>
apply (@quotient_rect A R _
 (fun q : quotient sR =&gt; forall x, in_class q x -&gt; q = class_of _ x)
  (fun x y H =&gt; related_classes_eq H)).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 111
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 112
Time: 0.01s">
<div class="time" style="width: 17.857142857143%"></div>
<pre>
apply funext.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 113
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro z.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 113
Time: 0.016s">
<div class="time" style="width: 28.571428571429%"></div>
<pre>
apply funext;intro H'.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 114
Time: 0.015s">
<div class="time" style="width: 26.785714285714%"></div>
<pre>
apply quotient_path2.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 115
Time: 0.032s">
<div class="time" style="width: 57.142857142857%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 116
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>

Lemma classes_eq_related : forall x y,
class_of _ x = class_of _ y -&gt; R x y.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 120
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros x y H.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
pattern (R x y).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 122
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
eapply transport.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 123
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre> apply in_class_pr.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 123
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
pattern (class_of _ x).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 124
Time: 0.005s">
<div class="time" style="width: 8.9285714285714%"></div>
<pre> apply (transport _ (H^)).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 124
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
apply Hrefl.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 125
Time: 0.005s">
<div class="time" style="width: 8.9285714285714%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Thm 10.1.8 *)</pre>
</div>
<div class="code" title="File: quotient.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Open Scope equiv_scope.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 128
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
Theorem sets_exact : forall x y, (class_of _ x = class_of _ y) &lt;~&gt; R x y.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros ??.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 130
Time: 0.01s">
<div class="time" style="width: 17.857142857143%"></div>
<pre> apply equiv_iff_hprop.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 130
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
 apply classes_eq_related.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 131
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
apply related_classes_eq.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 132
Time: 0.004s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 133
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>

Definition quotient_rect_nondep : forall {B : Type},
  forall dclass : (forall x : A, B),
  forall dequiv : (forall x y, R x y -&gt; dclass x = dclass y),
  quotient _ -&gt; B.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros ? ? ?.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 140
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
apply (quotient_rect (fun _ : quotient _ =&gt; B)) with dclass.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 141
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros ?? H.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 142
Time: 0.009s">
<div class="time" style="width: 16.071428571429%"></div>
<pre> destruct (related_classes_eq H).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 142
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre> by apply dequiv.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 142
Time: 0.004s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 143
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>

Definition quotient_rect_nondep2 {B : hSet} {dclass : (A -&gt; A -&gt; B)}:
  forall dequiv : (forall x x', R x x' -&gt; forall y y',  R y y' -&gt;
                  dclass x y = dclass x' y'),
  quotient _ -&gt; quotient _ -&gt; B.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intro.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 150
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
assert (dequiv0 : forall x x0 y : A, R x0 y -&gt; dclass x x0 = dclass x y)
 by (intros ? ? ? Hx; apply dequiv;[apply Hrefl|done]).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 152
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
refine (quotient_rect_nondep
  (fun x =&gt; quotient_rect_nondep (dclass x) (dequiv0 x)) _).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 154
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros x x' Hx.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 155
Time: 0.005s">
<div class="time" style="width: 8.9285714285714%"></div>
<pre>
apply funext.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 156
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> red.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 156
Time: 0.006s">
<div class="time" style="width: 10.714285714286%"></div>
<pre>
assert (dequiv1 : forall y : A,
  quotient_rect_nondep (dclass x) (dequiv0 x) (class_of _ y) =
  quotient_rect_nondep (dclass x') (dequiv0 x') (class_of _ y))
 by (intros; by apply dequiv).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 160
Time: 0.015s">
<div class="time" style="width: 26.785714285714%"></div>
<pre>
refine (quotient_rect (fun q =&gt;
quotient_rect_nondep (dclass x) (dequiv0 x) q =
quotient_rect_nondep (dclass x') (dequiv0 x') q) dequiv1 _).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 164
Time: 0.016s">
<div class="time" style="width: 28.571428571429%"></div>
<pre> apply iss.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 164
Time: 0.012s">
<div class="time" style="width: 21.428571428571%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 165
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>

Definition quotient_ind : forall P : quotient _ -&gt; Type,
forall (Hprop' : forall x, IsHProp (P (class_of _ x))),
(forall x, P (class_of _ x)) -&gt; forall y, P y.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 169
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 170
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros ? ? dclass.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 171
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre> apply quotient_rect with dclass.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 171
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 172
Time: 0.005s">
<div class="time" style="width: 8.9285714285714%"></div>
<pre> apply Hprop'.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 172
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 173
Time: 0.015s">
<div class="time" style="width: 26.785714285714%"></div>
<pre>

Require Import hit.epi minus1Trunc.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 175
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** From Ch6 *)</pre>
</div>
<div class="code" title="File: quotient.v
Line: 177
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>Theorem  quotient_surjective: issurj (class_of _).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 177
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
unfold issurj.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 178
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre> apply (quotient_ind (fun y =&gt; hexists (fun x : A =&gt; class_of sR x = y))).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 178
Time: 0.008s">
<div class="time" style="width: 14.285714285714%"></div>
<pre>
 apply _.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 179
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intro x.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 180
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre> apply min1.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 180
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre> by exists x.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 180
Time: 0.004s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 181
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** From Ch10 *)</pre>
</div>
<div class="code" title="File: quotient.v
Line: 183
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>Definition quotient_ump' (B:hSet): (quotient _ -&gt; B) -&gt;
  (sigT (fun f : A-&gt; B =&gt; (forall a a0:A, R a a0 -&gt; f a =f a0))).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intro f.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 185
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre> exists (compose f (class_of sR) ).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 185
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
intros.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 186
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> unfold compose.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 186
Time: 0.005s">
<div class="time" style="width: 8.9285714285714%"></div>
<pre> f_ap.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 186
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre> by apply related_classes_eq.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 186
Time: 0.004s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 187
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>

Definition quotient_ump'' (B:hSet): (sigT (fun f : A-&gt; B =&gt; (forall a a0:A, R a a0 -&gt; f a =f a0)))
 -&gt; quotient _ -&gt; B.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 190
Time: 0.003s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
intros [f H].</pre>
</div>
<div class="code" title="File: quotient.v
Line: 191
Time: 0.001s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
apply (quotient_rect_nondep _ H).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 192
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 193
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Require Import Misc.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 195
Time: 0.002s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
Theorem quotient_ump (B:hSet): (quotient _ -&gt; B) &lt;~&gt;
  (sigT (fun f : A-&gt; B =&gt; (forall a a0:A, R a a0 -&gt; f a =f a0))).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 197
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 198
Time: 0.008s">
<div class="time" style="width: 14.285714285714%"></div>
<pre>
refine (equiv_adjointify (quotient_ump' B) (quotient_ump'' B) _ _).</pre>
</div>
<div class="code" title="File: quotient.v
Line: 199
Time: 0.007s">
<div class="time" style="width: 12.5%"></div>
<pre>
intros [f Hf].</pre>
</div>
<div class="code" title="File: quotient.v
Line: 200
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
-</pre>
</div>
<div class="code" title="File: quotient.v
Line: 201
Time: 0.052s">
<div class="time" style="width: 92.857142857143%"></div>
<pre> by apply equiv_path_sigma_hprop.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 201
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
-</pre>
</div>
<div class="code" title="File: quotient.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 202
Time: 0.008s">
<div class="time" style="width: 14.285714285714%"></div>
<pre>
  apply funext.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  red.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 204
Time: 0.043s">
<div class="time" style="width: 76.785714285714%"></div>
<pre> apply quotient_ind;[apply _|reflexivity].</pre>
</div>
<div class="code" title="File: quotient.v
Line: 204
Time: 0.026s">
<div class="time" style="width: 46.428571428571%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 205
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Missing

The equivalence with VVquotient A//R.

This should lead to the unnamed theorem:
10.1.10. Equivalence relations are effective and there is an equivalence A/R&lt;~&gt;A//R. *)

(**
The theory of canonical quotients is developed by C.Cohen:
http://perso.crans.org/cohen/work/quotients/
*)

</pre>
</div>
<div class="code" title="File: quotient.v
Line: 218
Time: 0.021s">
<div class="time" style="width: 37.5%"></div>
<pre>End Equiv.</pre>
</div>
<div class="code" title="File: quotient.v
Line: 219
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

