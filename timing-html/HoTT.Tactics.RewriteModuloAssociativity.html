<html>
<head>
<title>RewriteModuloAssociativity.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for RewriteModuloAssociativity.v</h1>

<div class="code" title="File: RewriteModuloAssociativity.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(** * Tactics for rewriting modulo assciativity *)</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 1
Time: 0.013s">
<div class="time" style="width: 34.210526315789%"></div>
<pre>Require Import Overture PathGroupoids.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 1
Time: 0.001s">
<div class="time" style="width: 2.6315789473684%"></div>
<pre>
Require Import Tactics.BinderApply.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 2
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 4
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Throughout this file, we prefix with [idtac; ] all imperative tactics (those not returning constrs) which would otherwise start with [let] or [match].  This prevents them from being evaluated at the call site.  See https://coq.inria.fr/bugs/show_bug.cgi?id=3498 for more details on this difference between tactics and tactic expressions. *)

(** rewrite [lem] modulo associativity using:

    - [assoc_tac : unit] to associate the goal (in place)
    - [assoc_in_tac : hyp -&gt; unit] to associate the hypothesis (in place)
    - [prepostcompose_any_tac : constr -&gt; constr] to pre/post compose an arbitrary morphism onto the lemma
    - [rew_tac : hyp -&gt; unit] to do the actual rewriting (in place).  This tactic is called first with the non-associated version of  the lemma, then with the associated version.
 *)</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Ltac rewriteA_using_helper rew_tac lem prepostcompose_any_tac assoc_tac assoc_in_tac :=
  idtac;
  let lem' := prepostcompose_any_tac lem in
  let H := fresh in
  pose proof lem' as H;
    assoc_tac;
    match goal with
      | _ =&gt; rew_tac H
      | _ =&gt; assoc_in_tac H;
            rew_tac H
    end;
    clear H.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 25
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This tactic is similar to the above, except that it passes both the unassociated lemma and the associated lemma to [repeat_rew_tac], which may then contain optimizations over a manual [repeat] such as being [rewrite ?lem, ?lem']. *)</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 27
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Ltac repeat_rewriteA_using_helper repeat_rew_tac lem prepostcompose_any_tac assoc_tac assoc_in_tac :=
  idtac;
  let lem' := prepostcompose_any_tac lem in
  let H := fresh in
  pose proof lem' as H;
    assoc_in_tac H;
    assoc_tac;
    repeat_rew_tac lem' H;
    clear H.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 35
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Module Export Compose.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 37
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (** ** Rewriting modulo associativity of composition ([o]) *)
  (** Turns a lemma of type [f = g] into [forall h, h o f = h o g] *)
 </pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 40
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Ltac precompose_any H :=
    let ret := make_tac_under_binders_using_in ltac:(fun H =&gt; (let H' := fresh in
                                                               rename H into H';
                                                               pose proof (fun src (g : _ -&gt; src) =&gt; @ap _ _ (fun f =&gt; g o f) _ _ H') as H))
                                                      ltac:idtac H in
    let T := type of ret in
    let T' := (eval cbv beta in T) in
    constr:(ret : T').</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 47
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Associates a type fully to the left *)
 </pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 50
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Ltac left_associate_compose_type T :=
    let rec_tac := left_associate_compose_type in
    match T with
      | forall a : ?A, @?P a =&gt; let ret := constr:(forall a : A, let T' := P a in
                                                                 $(let T'' := (eval unfold T' in T') in
                                                                   let ret := rec_tac T'' in
                                                                   exact ret)$) in
                                eval cbv beta zeta in ret
      | context T'[?a o (?b o ?c)] =&gt; let T'' := context T'[(a o b) o c] in
                                      rec_tac T''
      | ?T' =&gt; constr:(T')
    end.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Ltac left_associate_compose_in_type_of H :=
    let T := type of H in
    let T' := left_associate_compose_type T in
    constr:(H : T').</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 66
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Ltac left_associate_compose :=
    idtac;
    (lazymatch goal with
    | [ |- ?G ] =&gt; let G' := left_associate_compose_type G in change G'
     end).</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Ltac left_associate_compose_in H :=
    idtac;
    (lazymatch type of H with
    | ?T =&gt; let T' := left_associate_compose_type T in change T' in H
     end).</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Tactic Notation "rewriteoA" constr(lem) :=
    rewriteA_using_helper ltac:(fun lem' =&gt; rewrite lem') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewriteoA" "-&gt;" constr(lem) :=
    rewriteA_using_helper ltac:(fun lem' =&gt; rewrite -&gt; lem') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 83
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewriteoA" "&lt;-" constr(lem) :=
    rewriteA_using_helper ltac:(fun lem' =&gt; rewrite &lt;- lem') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewriteoA" "!" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; progress rewrite ?lem', ?lem'') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewriteoA" "?" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; rewrite ?lem', ?lem'') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewriteoA" "-&gt;" "!" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; progress rewrite -&gt; ?lem', -&gt; ?lem'') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewriteoA" "&lt;-" "!" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; progress rewrite &lt;- ?lem', &lt;- ?lem'') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewriteoA" "-&gt;" "?" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; rewrite -&gt; ?lem', -&gt; ?lem'') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 95
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewriteoA" "&lt;-" "?" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; rewrite &lt;- ?lem', &lt;- ?lem'') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 97
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>



  Tactic Notation "erewriteoA" constr(lem) :=
    rewriteA_using_helper ltac:(fun lem' =&gt; erewrite lem') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 102
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewriteoA" "-&gt;" constr(lem) :=
    rewriteA_using_helper ltac:(fun lem' =&gt; erewrite -&gt; lem') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewriteoA" "&lt;-" constr(lem) :=
    rewriteA_using_helper ltac:(fun lem' =&gt; erewrite &lt;- lem') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 106
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewriteoA" "!" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; progress erewrite ?lem', ?lem'') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewriteoA" "?" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; erewrite ?lem', ?lem'') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewriteoA" "-&gt;" "!" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; progress erewrite -&gt; ?lem', -&gt; ?lem'') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 112
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewriteoA" "&lt;-" "!" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; progress erewrite &lt;- ?lem', &lt;- ?lem'') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 114
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewriteoA" "-&gt;" "?" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; erewrite -&gt; ?lem', -&gt; ?lem'') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 116
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewriteoA" "&lt;-" "?" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; erewrite &lt;- ?lem', &lt;- ?lem'') lem ltac:precompose_any ltac:left_associate_compose ltac:left_associate_compose_in.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


  Tactic Notation "rewrite∘A" constr(lem) := rewriteoA lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite∘A" "-&gt;" constr(lem) := rewriteoA -&gt; lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 122
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite∘A" "&lt;-" constr(lem) := rewriteoA &lt;- lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 123
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite∘A" "!" constr(lem) := rewriteoA !lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite∘A" "?" constr(lem) := rewriteoA ? lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite∘A" "-&gt;" "!" constr(lem) := rewriteoA -&gt; !lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite∘A" "&lt;-" "!" constr(lem) := rewriteoA &lt;- !lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 127
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite∘A" "-&gt;" "?" constr(lem) := rewriteoA -&gt; ? lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite∘A" "&lt;-" "?" constr(lem) := rewriteoA &lt;- ? lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


  Tactic Notation "erewrite∘A" open_constr(lem) := erewriteoA lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 132
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite∘A" "-&gt;" open_constr(lem) := erewriteoA -&gt; lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 133
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite∘A" "&lt;-" open_constr(lem) := erewriteoA &lt;- lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite∘A" "!" open_constr(lem) := erewriteoA !lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 135
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite∘A" "?" open_constr(lem) := erewriteoA ? lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite∘A" "-&gt;" "!" open_constr(lem) := erewriteoA -&gt; !lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 137
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite∘A" "&lt;-" "!" open_constr(lem) := erewriteoA &lt;- !lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite∘A" "-&gt;" "?" open_constr(lem) := erewriteoA -&gt; ? lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite∘A" "&lt;-" "?" open_constr(lem) := erewriteoA &lt;- ? lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 140
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
End Compose.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 141
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Module Export Concat.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 143
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (** ** Rewriting modulo associativity of concatenation ([@]) *)
  (** Turns a lemma of type [f = g] into [forall h, h @ f = h @ g] *)
 </pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Ltac preconcat_any H :=
    let ret := make_tac_under_binders_using_in ltac:(fun H =&gt; (let H' := fresh in
                                                               rename H into H';
                                                               pose proof (fun dst (g : dst = _) =&gt; @ap _ _ (fun f =&gt; g @ f) _ _ H') as H))
                                                      ltac:idtac H in
    let T := type of ret in
    let T' := (eval cbv beta in T) in
    constr:(ret : T').</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 153
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Associates a path fully to the left *)
 </pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 156
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Ltac left_associate_concat_in H :=
    let rec_tac := left_associate_concat_in in
    let T := type of H in
    match eval cbv beta in T with
      | forall a : ?A, @?P a =&gt; let ret := constr:(fun a : A =&gt; let H' := H a in
                                                                $(let H'' := (eval unfold H' in H') in
                                                                  let ret := rec_tac H'' in
                                                                  exact ret)$) in
                                let T := type of ret in
                                let T' := (eval cbv beta zeta in T) in
                                let ret' := (eval cbv beta zeta in ret) in
                                constr:(ret' : T')
      | context[?a @ (?b @?c)] =&gt;
        (lazymatch eval pattern (a @ (b @ c)) in T with
        | ?P _ =&gt; let H' := constr:(transport P (concat_p_pp a b c) H) in
                  rec_tac H'
         end)
      | ?T' =&gt; constr:(H : T')
    end.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 174
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** We really should just use [setoid_rewrite -&gt; !concat_p_pp] here, to take care of binders, but we threw away Setoids. *)
 </pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 177
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Ltac left_associate_concat :=
    repeat match goal with
             | _ =&gt; rewrite -&gt; !concat_p_pp
             | [ |- forall a : ?A, _ ] =&gt; let H := fresh in
                                          intro H;
                                            left_associate_concat;
                                            revert H
           end.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Ltac left_associate_concat_in_hyp H :=
    let H' := fresh in
    rename H into H';
      let H_rep := left_associate_concat_in H' in
      pose proof H_rep as H;
        clear H'.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Tactic Notation "rewrite@A" constr(lem) :=
    rewriteA_using_helper ltac:(fun lem' =&gt; rewrite lem') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 194
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite@A" "-&gt;" constr(lem) :=
    rewriteA_using_helper ltac:(fun lem' =&gt; rewrite -&gt; lem') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 196
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite@A" "&lt;-" constr(lem) :=
    rewriteA_using_helper ltac:(fun lem' =&gt; rewrite &lt;- lem') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 198
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite@A" "!" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; progress rewrite ?lem', ?lem'') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 200
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite@A" "?" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; rewrite ?lem', ?lem'') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite@A" "-&gt;" "!" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; progress rewrite -&gt; ?lem', -&gt; ?lem'') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 204
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite@A" "&lt;-" "!" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; progress rewrite &lt;- ?lem', &lt;- ?lem'') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 206
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite@A" "-&gt;" "?" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; rewrite -&gt; ?lem', -&gt; ?lem'') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 208
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite@A" "&lt;-" "?" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; rewrite &lt;- ?lem', &lt;- ?lem'') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 210
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>



  Tactic Notation "erewrite@A" constr(lem) :=
    rewriteA_using_helper ltac:(fun lem' =&gt; erewrite lem') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite@A" "-&gt;" constr(lem) :=
    rewriteA_using_helper ltac:(fun lem' =&gt; erewrite -&gt; lem') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 217
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite@A" "&lt;-" constr(lem) :=
    rewriteA_using_helper ltac:(fun lem' =&gt; erewrite &lt;- lem') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 219
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite@A" "!" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; progress erewrite ?lem', ?lem'') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 221
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite@A" "?" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; erewrite ?lem', ?lem'') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 223
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite@A" "-&gt;" "!" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; progress erewrite -&gt; ?lem', -&gt; ?lem'') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 225
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite@A" "&lt;-" "!" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; progress erewrite &lt;- ?lem', &lt;- ?lem'') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 227
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite@A" "-&gt;" "?" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; erewrite -&gt; ?lem', -&gt; ?lem'') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 229
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite@A" "&lt;-" "?" constr(lem) :=
    repeat_rewriteA_using_helper ltac:(fun lem' lem'' =&gt; erewrite &lt;- ?lem', &lt;- ?lem'') lem ltac:preconcat_any ltac:left_associate_concat ltac:left_associate_concat_in_hyp.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 231
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Tactic Notation "rewrite•A" constr(lem) := rewrite@A lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 233
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite•A" "-&gt;" constr(lem) := rewrite@A -&gt; lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 234
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite•A" "&lt;-" constr(lem) := rewrite@A &lt;- lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite•A" "!" constr(lem) := rewrite@A !lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 236
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite•A" "?" constr(lem) := rewrite@A ? lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 237
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite•A" "-&gt;" "!" constr(lem) := rewrite@A -&gt; !lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 238
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite•A" "&lt;-" "!" constr(lem) := rewrite@A &lt;- !lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 239
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite•A" "-&gt;" "?" constr(lem) := rewrite@A -&gt; ? lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 240
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "rewrite•A" "&lt;-" "?" constr(lem) := rewrite@A &lt;- ? lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 241
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


  Tactic Notation "erewrite•A" open_constr(lem) := erewrite@A lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite•A" "-&gt;" open_constr(lem) := erewrite@A -&gt; lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite•A" "&lt;-" open_constr(lem) := erewrite@A &lt;- lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 246
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite•A" "!" open_constr(lem) := erewrite@A !lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 247
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite•A" "?" open_constr(lem) := erewrite@A ? lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 248
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite•A" "-&gt;" "!" open_constr(lem) := erewrite@A -&gt; !lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 249
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite•A" "&lt;-" "!" open_constr(lem) := erewrite@A &lt;- !lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 250
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite•A" "-&gt;" "?" open_constr(lem) := erewrite@A -&gt; ? lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 251
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Tactic Notation "erewrite•A" "&lt;-" "?" open_constr(lem) := erewrite@A &lt;- ? lem.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
End Concat.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 253
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section examples.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 255
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Section compose.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 256
Time: 0.003s">
<div class="time" style="width: 7.8947368421053%"></div>
<pre>
    Example simple_01 {A} (f g h i j : A -&gt; A) : f o g = h -&gt; (i o f) o (g o j) = i o h o j.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 257
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 258
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intro H.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 259
Time: 0.011s">
<div class="time" style="width: 28.947368421053%"></div>
<pre>
      rewrite∘A H.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 260
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      reflexivity.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 261
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Abort.

    Example simple_02 {A} (f g h i j : A -&gt; A) : f o g = h -&gt; (i o f) o (g o f o g o j) = i o h o h o j.
   </pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 265
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Proof.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 265
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intro H.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 266
Time: 0.022s">
<div class="time" style="width: 57.894736842105%"></div>
<pre>
      rewrite∘A !H.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 267
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      reflexivity.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 268
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Abort.
  End compose.

 </pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 272
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section concat.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 272
Time: 0.003s">
<div class="time" style="width: 7.8947368421053%"></div>
<pre>
    Example simple_01 {A} {a : A} (f g h i j : a = a) : f @ g = h -&gt; (i @ f) @ (g @ j) = i @ h @ j.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 273
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 274
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intro H.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 275
Time: 0.024s">
<div class="time" style="width: 63.157894736842%"></div>
<pre>
      rewrite@A H.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 276
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      reflexivity.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 277
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Abort.

    Example simple_02 {A} {a : A} (f g h i j : A = A) : f @ g = h -&gt; (i @ f) @ (g @ f @ g @ j) = i @ h @ h @ j.
   </pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 281
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Proof.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 281
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intro H.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 282
Time: 0.038s">
<div class="time" style="width: 100%"></div>
<pre>
      rewrite@A !H.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 283
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      reflexivity.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 284
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Abort.
  End concat.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 286
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>End examples.</pre>
</div>
<div class="code" title="File: RewriteModuloAssociativity.v
Line: 287
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

