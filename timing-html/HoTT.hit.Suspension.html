<html>
<head>
<title>Suspension.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Suspension.v</h1>

<div class="code" title="File: Suspension.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(* -*- mode: coq; mode: visual-line -*- *)

(** * The suspension of a type *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 4
Time: 0.044s">
<div class="time" style="width: 100%"></div>
<pre>Require Import Overture PathGroupoids types.Paths Misc.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 4
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope equiv_scope.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 6
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Generalizable Variables X A B f g n.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 7
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* ** Definition of suspension. *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Module Export Suspension.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** We play games to ensure that [Susp X] does not live in a lower universe than [X] *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section hack_my_types.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Let U := Type.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Private Inductive Susp (X : U) : U :=
  | North : Susp X
  | South : Susp X.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 16
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
End hack_my_types.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 17
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Arguments North {X}.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 19
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Global Arguments South {X}.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 20
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>

Axiom merid : forall (X : Type) (x : X), North = South :&gt; Susp X.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 22
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Global Arguments merid {X} x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 23
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>

Definition Susp_rect {X : Type} (P : Susp X -&gt; Type)
  (H_N : P North) (H_S : P South)
  (H_merid : forall x:X, (merid x) # H_N = H_S)
: forall (y:Susp X), P y
:= fun y =&gt; (match y return (_ -&gt; P y)
     with North =&gt; (fun _ =&gt; H_N) | South =&gt; (fun _ =&gt; H_S) end) H_merid.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 30
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>

Axiom Susp_comp_merid : forall {X : Type} (P : Susp X -&gt; Type)
  (H_N : P North) (H_S : P South)
  (H_merid : forall x:X, (merid x) # H_N = H_S)
  (x:X),
apD (Susp_rect P H_N H_S H_merid) (merid x) = H_merid x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 36
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

End Suspension.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 38
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* ** Non-dependent eliminator. *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Susp_rect_nd {X Y : Type}
  (H_N H_S : Y) (H_merid : X -&gt; H_N = H_S)
: Susp X -&gt; Y.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (Susp_rect (fun _ =&gt; Y) H_N H_S).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (transport_const _ _ @ H_merid x).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 46
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 47
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>

Definition Susp_comp_nd_merid {X Y : Type}
  {H_N H_S : Y} {H_merid : X -&gt; H_N = H_S} (x:X)
: ap (Susp_rect_nd H_N H_S H_merid) (merid x) = H_merid x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 51
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 52
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
  apply (cancelL (transport_const (merid x) H_N)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 53
Time: 0.034s">
<div class="time" style="width: 77.272727272727%"></div>
<pre>
  path_via (apD (Susp_rect_nd H_N H_S H_merid) (merid x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 54
Time: 0.01s">
<div class="time" style="width: 22.727272727273%"></div>
<pre>
  symmetry; refine (apD_const (Susp_rect_nd H_N H_S H_merid) _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 55
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
  refine (Susp_comp_merid (fun _ : Susp X =&gt; Y) _ _ _ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 56
Time: 0.013s">
<div class="time" style="width: 29.545454545455%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 57
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Eta-rule. *)

(** The eta-rule for suspension states that any function out of a suspension is equal to one defined by [Susp_rect] in the obvious way. We give it first in a weak form, producing just a pointwise equality, and then turn this into an actual equality using [Funext]. *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 61
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>Definition Susp_eta_homot {X : Type} {P : Susp X -&gt; Type} (f : forall y, P y)
  : f == Susp_rect P (f North) (f South) (fun x =&gt; apD f (merid x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 62
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold pointwise_paths.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 64
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre> refine (Susp_rect _ 1 1 _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 64
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 65
Time: 0.006s">
<div class="time" style="width: 13.636363636364%"></div>
<pre>
  refine (transport_paths_FlFr_D
    (g := Susp_rect P (f North) (f South) (fun x : X =&gt; apD f (merid x)))
    _ _ @ _); simpl.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 68
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>
  apply moveR_pM.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 69
Time: 0.007s">
<div class="time" style="width: 15.909090909091%"></div>
<pre> apply (concat (concat_p1 _)), (concatR (concat_1p _)^).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 69
Time: 0.004s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>
  apply ap, inverse.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 70
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre> refine (Susp_comp_merid _ _ _ _ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 70
Time: 0.044s">
<div class="time" style="width: 100%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 71
Time: 0.006s">
<div class="time" style="width: 13.636363636364%"></div>
<pre>

Definition Susp_eta `{Funext}
  {X : Type} {P : Susp X -&gt; Type} (f : forall y, P y)
  : f = Susp_rect P (f North) (f South) (fun x =&gt; apD f (merid x))
:= path_forall _ _ (Susp_eta_homot f).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Nullhomotopies of maps out of suspensions *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 79
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>Definition nullhomot_susp_from_paths {X Z: Type} (f : Susp X -&gt; Z)
  (n : NullHomotopy (fun x =&gt; ap f (merid x)))
: NullHomotopy f.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 82
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exists (f North).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 83
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  refine (Susp_rect _ 1 n.1^ _); intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 84
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>
  refine (transport_paths_Fl _ _ @ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 85
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>
  apply (concat (concat_p1 _)), ap.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 86
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre> apply n.2.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 86
Time: 0.014s">
<div class="time" style="width: 31.818181818182%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 87
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre>

Definition nullhomot_paths_from_susp {X Z: Type} (H_N H_S : Z) (f : X -&gt; H_N = H_S)
  (n : NullHomotopy (Susp_rect_nd H_N H_S f))
: NullHomotopy f.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 92
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>
  exists (n.2 North @ (n.2 South)^).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 94
Time: 0.002s">
<div class="time" style="width: 4.5454545454545%"></div>
<pre> apply moveL_pV.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 94
Time: 0.042s">
<div class="time" style="width: 95.454545454545%"></div>
<pre>
  path_via (ap (Susp_rect_nd H_N H_S f) (merid x) @ n.2 South).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 95
Time: 0.005s">
<div class="time" style="width: 11.363636363636%"></div>
<pre>
  apply whiskerR, inverse, Susp_comp_nd_merid.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 96
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>
  refine (concat_Ap n.2 (merid x) @ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 97
Time: 0.008s">
<div class="time" style="width: 18.181818181818%"></div>
<pre>
  apply (concatR (concat_p1 _)), whiskerL.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 98
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre> apply ap_const.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 98
Time: 0.027s">
<div class="time" style="width: 61.363636363636%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 99
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Pointedness of [Susp] and path spaces thereof *)
(** We arbitrarily choose [North] to be the point. *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 102
Time: 0.001s">
<div class="time" style="width: 2.2727272727273%"></div>
<pre>Global Instance ispointed_susp {X : Type} : IsPointed (Susp X) | 0
  := North.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 103
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Global Instance ispointed_path_susp `{IsPointed X} : IsPointed (North = South :&gt; Susp X) | 0
  := merid (point X).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 106
Time: 0.003s">
<div class="time" style="width: 6.8181818181818%"></div>
<pre>

Global Instance ispointed_path_susp' `{IsPointed X} : IsPointed (South = North :&gt; Susp X) | 0
  := (merid (point X))^.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

