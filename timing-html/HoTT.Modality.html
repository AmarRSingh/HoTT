<html>
<head>
<title>Modality.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Modality.v</h1>

<div class="code" title="File: Modality.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(** * Modalities *)</pre>
</div>
<div class="code" title="File: Modality.v
Line: 1
Time: 0.039s">
<div class="time" style="width: 29.545454545455%"></div>
<pre>Require Import Overture types.Empty types.Arrow HProp Equivalences.</pre>
</div>
<div class="code" title="File: Modality.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Set Implicit Arguments.</pre>
</div>
<div class="code" title="File: Modality.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Quoting the HoTT Book: *)
(** Definition 7.7.5. A _modality_ is an operation [○ : Type → Type] for which there are

    (i) functions [η^○_A : A → ○(A)] for every type [A]

    (ii) for every [A : Type] and every type family [B : ○(A) → Type], a function

         [ind_○ : (∀ a : A, ○(B(η^○_A(a)))) → (∀ z : ○(A), ○(B(z)))]

    (iii) A path [ind_○(f)(η^○_A(a)) = f(a)] for each [f : ∀ a : A, ○(B(η^○_A(a)))].

    (iv) For any [z z' : ○(A)], the function [η^○_{z = z'} : (z = z') → ○(z = z')] is an equivalence. *)
</pre>
</div>
<div class="code" title="File: Modality.v
Line: 17
Time: 0.025s">
<div class="time" style="width: 18.939393939394%"></div>
<pre>Class IsModality (mod : Type -&gt; Type) :=
  { modality_eta : forall A, A -&gt; mod A;
    modality_ind : forall A (B : mod A -&gt; Type),
                     (forall a, mod (B (modality_eta a)))
                     -&gt; forall z, mod (B z);
    modality_ind_compute : forall A B (f : forall a : A, mod (B _)) a,
                             modality_ind _ f (modality_eta a) = f a;
    modality_isequiv_eta_path :&gt; forall A (z z' : mod A),
                                   IsEquiv (@modality_eta (z = z')) }.</pre>
</div>
<div class="code" title="File: Modality.v
Line: 25
Time: 0.001s">
<div class="time" style="width: 0.75757575757576%"></div>
<pre>

Instance ismodality_notnot `{Funext} : IsModality (fun X =&gt; ~~X).</pre>
</div>
<div class="code" title="File: Modality.v
Line: 27
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Modality.v
Line: 28
Time: 0.132s">
<div class="time" style="width: 100%"></div>
<pre>
  apply (@Build_IsModality
           (fun X =&gt; ~~X)
           (fun X x nx =&gt; match nx x with end)
           (fun A B H' z nBz =&gt;
              z (fun a =&gt; H' a (transport (fun x =&gt; ~B x)
                                          (allpath_hprop _ _)
                                          nBz))));
  abstract (
      repeat (intro || apply path_forall);
      try match goal with
            | [ |- appcontext[match ?x : Empty with end] ] =&gt; destruct x
          end;
      refine (isequiv_adjointify
                (fun x nx =&gt; match nx x : Empty with end)
                (fun _ =&gt; allpath_hprop z z')
                _
                _);
      repeat (intro || apply path_forall);
      apply allpath_hprop
    ).</pre>
</div>
<div class="code" title="File: Modality.v
Line: 48
Time: 0.012s">
<div class="time" style="width: 9.0909090909091%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Modality.v
Line: 50
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

