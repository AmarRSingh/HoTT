<html>
<head>
<title>ReflectiveSubuniverse.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for ReflectiveSubuniverse.v</h1>

<div class="code" title="File: ReflectiveSubuniverse.v
Line: 1
Time: 0.027s">
<div class="time" style="width: 8.0357142857143%"></div>
<pre>Require Import Overture PathGroupoids HProp Equivalences EquivalenceVarieties.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 1
Time: 0.009s">
<div class="time" style="width: 2.6785714285714%"></div>
<pre>
Require Import types.Empty types.Unit types.Arrow types.Sigma types.Paths
        types.Forall types.Prod types.Universe types.ObjectClassifier.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope equiv_scope.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 6
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * Reflective Subuniverses *)

</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section Reflective_Subuniverse.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context {ua : Univalence}.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context {fs : Funext}.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 11
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** A reflective subuniverse is the data of : *)

 </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 15
Time: 0.014s">
<div class="time" style="width: 4.1666666666667%"></div>
<pre>Record ReflectiveSubuniverse :=
    { 
      (** a predicate U -&gt; Prop *)
      subuniverse_HProp : Type -&gt; hProp ;
      (** we define the type of modal types *)
      SubuniverseType := {T : Type &amp; (subuniverse_HProp) T} ;
      (** for every type T, a type (O T) such that (subuniverse_HProp (O T)) *)
      to_O : Type -&gt; SubuniverseType ; 
      (** for every type T, a map A -&gt; O T *)
      O_unit : forall T, T -&gt; (to_O T).1; 
      (** an equivalence ((O P)-&gt;Q) &lt;~&gt; (P -&gt; Q) *)
      O_equiv : forall (P : Type) (Q : SubuniverseType), 
                  IsEquiv (fun f : (to_O P).1 -&gt; Q.1 =&gt; f o (@O_unit P)) 
    }.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Notation O := to_O.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 30
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>

  Coercion SubuniverseType_pr1 subU (T:SubuniverseType subU) := @pr1 Type subU.(subuniverse_HProp) T.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Some shortcuts to manipulate the above equivalence *)
 </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 35
Time: 0.006s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>Definition O_rec {subU} (P : Type) (Q : SubuniverseType subU) :
    (P -&gt; Q) -&gt; (subU.(O) P) -&gt; Q := 
    (@equiv_inv _ _ _ (subU.(O_equiv) _ _)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 37
Time: 0.009s">
<div class="time" style="width: 2.6785714285714%"></div>
<pre>

  Definition O_rec_retr {subU} (P : Type) (Q : SubuniverseType subU) f
  : O_rec _ _ f o subU.(O_unit) _ = f :=
    @eisretr _ _ _ (subU.(O_equiv) P Q) f.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 41
Time: 0.005s">
<div class="time" style="width: 1.4880952380952%"></div>
<pre>

  Definition O_rec_sect {subU} (P : Type) (Q : SubuniverseType subU) f :=
    @eissect _ _ _ (subU.(O_equiv) P Q) f.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Section Basic_facts.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Variable subU : ReflectiveSubuniverse.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 48
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** The second component of subunivere_Type is unique *)
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 51
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>Definition unique_subuniverse
    : forall (T T' : SubuniverseType subU), T.1 = T'.1 -&gt; T = T'.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 53
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intros T T' X.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 54
Time: 0.005s">
<div class="time" style="width: 1.4880952380952%"></div>
<pre> destruct T as [T h], T' as [T' h'].</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 54
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      eapply (path_sigma _ _ _ X).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 55
Time: 0.004s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
      simpl in X; destruct X.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 56
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      apply (allpath_hprop (H := isp (subuniverse_HProp subU T))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 57
Time: 0.007s">
<div class="time" style="width: 2.0833333333333%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 58
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** The subuniverse structure is transportable *)
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 61
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>Definition ReflectiveSubuniverse_transport T U (f : T &lt;~&gt; U)
    : (subU.(subuniverse_HProp) T) -&gt; (subU.(subuniverse_HProp) U).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 62
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply path_universe_uncurried in f.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 64
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> rewrite f.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 64
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intro x; exact x.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 65
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 66
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    
    (** Unit maps are equivalences iff they admit a retraction *)
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 69
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition O_unit_retract_equiv (T:Type) (mu : (subU.(O) T) -&gt; T) (eta := subU.(O_unit) T)
    : Sect eta mu -&gt; IsEquiv eta.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 70
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 71
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      unfold Sect; intros H.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 72
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre> apply isequiv_adjointify with (g:=mu).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 73
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre> assert (X : eta o mu o eta = idmap o eta).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        unfold compose at 3.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 74
Time: 0.008s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
        apply (ap (fun g =&gt; eta o g)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        apply path_forall; intro y.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        exact (H y).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 77
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
        apply ap10.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 78
Time: 0.012s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
        apply ((equiv_inv (IsEquiv := isequiv_ap (H := O_equiv subU T (O subU T))
                                                 (eta o mu)
                                                 idmap ))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 81
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
        exact X.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 82
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 83
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact H.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 83
Time: 0.018s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 84
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** A type is modal if and only if its unit map is an equivalence : *)

   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 88
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>Instance O_modal_equiv (P : SubuniverseType subU)
    : IsEquiv (subU.(O_unit) P).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 90
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      apply O_unit_retract_equiv with (mu := (O_rec P P idmap)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      pose (f := O_rec_retr P P idmap).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 92
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
      intro.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> eapply ap10 in f.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 93
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> exact (f x).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 93
Time: 0.006s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 94
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>

    Definition O_modal (T:SubuniverseType subU)
    : T = subU.(O) T.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 97
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 98
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply unique_subuniverse.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 99
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
      apply path_universe_uncurried.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 100
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      exact (BuildEquiv _ _ (subU.(O_unit) T) (O_modal_equiv _)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 101
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 102
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>

    Definition subuniverse_iff_O (T:Type)
    : IsEquiv (subU.(O_unit) T) = (subU.(subuniverse_HProp) T).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 106
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply path_universe_uncurried.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 107
Time: 0.005s">
<div class="time" style="width: 1.4880952380952%"></div>
<pre>
      exact (@equiv_iff_hprop
               (IsEquiv (O_unit subU T))
               _
               (subuniverse_HProp subU T)
               (isp (subuniverse_HProp subU T))
               (fun X =&gt; ReflectiveSubuniverse_transport _ _
                             (BuildEquiv _ _ _
                                         (isequiv_inverse (H:=X)))
                             ((subU.(O) T)).2)
               (fun X =&gt; O_modal_equiv (T;X))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 117
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** The modality is involutive *)
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 121
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>Definition O_invol
    : forall T, (O subU) (((O subU) T)) = O subU T.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 122
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 123
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
      intro T; symmetry; apply O_modal.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 124
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** A little commutation property between O_rec and eta *)
    
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 129
Time: 0.058s">
<div class="time" style="width: 17.261904761905%"></div>
<pre>Definition O_rec_O_unit (A : SubuniverseType subU) (B : Type)
               (f : B -&gt; A) (x : (O subU B))
    : O_unit subU A (O_rec B A f x) = O_rec B (O subU A) ((O_unit subU A) o f) x
      :=  (((fun U =&gt; (ap10 (O_rec_sect B (O subU A) U) x))
              (O_unit subU A o O_rec B A f))^)
            @ ((ap (fun u =&gt; O_rec B (O subU A)
                                   (O_unit subU A o u) x)
                   (inverse (O_rec_retr B A f)))^).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** The universal property commutes with eta *)
    
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 140
Time: 0.041s">
<div class="time" style="width: 12.202380952381%"></div>
<pre>Definition equal_fun_modal (A:Type) (B:SubuniverseType subU)
               (f g:(O subU A) -&gt; B) (eta := O_unit subU A)
    : ((f o eta = g o eta) -&gt; (f=g))
      := fun H =&gt; (((eissect _ (IsEquiv := (O_equiv subU A B)) f)^)
                     @ (ap equiv_inv H))
                     @ (eissect _ (IsEquiv := (O_equiv subU A B)) g).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 145
Time: 0.021s">
<div class="time" style="width: 6.25%"></div>
<pre>
    
    Lemma universality_unit_lemma (oA A B: Type) (eta : A -&gt; oA) (f g : oA -&gt; B)
          (inv : (A -&gt; B) -&gt; oA -&gt; B) (pi : f o eta = g o eta)
          (eisretr : forall x:A -&gt; B, (inv x) o eta = x)
          (eissect : forall x : oA -&gt; B, inv (x o eta) = x) a
    : ap10 (ap inv pi) (eta a)
      = (ap10 (eisretr (f o eta)) a @ ap10 pi a)
          @ (ap10 (eisretr (g o eta)) a)^.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 153
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 154
Time: 0.005s">
<div class="time" style="width: 1.4880952380952%"></div>
<pre>
      destruct pi.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 155
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre> simpl.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 155
Time: 0.007s">
<div class="time" style="width: 2.0833333333333%"></div>
<pre> rewrite concat_p1.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 155
Time: 0.004s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre> rewrite concat_pV.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact idpath.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 155
Time: 0.013s">
<div class="time" style="width: 3.8690476190476%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 156
Time: 0.006s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
    
    Definition universality_unit (A:Type) (B:SubuniverseType subU) (f g:(O subU A) -&gt; B)
               (eta := O_unit subU A) (pi : (f o eta = g o eta))
    : forall a, ap10 (equal_fun_modal A B _ _ pi) (eta a) = ap10 pi a.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 161
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intro a.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 162
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> unfold equal_fun_modal.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 162
Time: 0.062s">
<div class="time" style="width: 18.452380952381%"></div>
<pre> destruct (O_equiv subU A B).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 162
Time: 0.015s">
<div class="time" style="width: 4.4642857142857%"></div>
<pre> simpl.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 162
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre> unfold Sect in *.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 162
Time: 0.1s">
<div class="time" style="width: 29.761904761905%"></div>
<pre>
      repeat rewrite ap10_pp.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 163
Time: 0.014s">
<div class="time" style="width: 4.1666666666667%"></div>
<pre> rewrite ap10_V.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 163
Time: 0.011s">
<div class="time" style="width: 3.2738095238095%"></div>
<pre> rewrite concat_pp_p.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 163
Time: 0.004s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
      apply moveR_Mp.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 164
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> apply moveR_pM.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 164
Time: 0.024s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre> rewrite inv_V.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 164
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>
      assert (X : ap10 (eisretr (g o eta)) a = ap10 (eissect g) (eta a)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 165
Time: 0.023s">
<div class="time" style="width: 6.8452380952381%"></div>
<pre>
      apply (transport (fun U =&gt; ap10 U a = ap10 (eissect g) (eta a)) (eisadj g)^).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 166
Time: 0.008s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
      apply ap_ap10_L.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 167
Time: 0.014s">
<div class="time" style="width: 4.1666666666667%"></div>
<pre>
      apply (transport (fun U =&gt; _ = _ @ U^) X); clear X.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 168
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>
      assert (X : ap10 (eisretr (f o eta)) a =
              ap10 (eissect f) (eta a)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 170
Time: 0.021s">
<div class="time" style="width: 6.25%"></div>
<pre>
      apply (transport (fun U =&gt; ap10 U a = ap10 (eissect f) (eta a)) (eisadj f)^).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 171
Time: 0.009s">
<div class="time" style="width: 2.6785714285714%"></div>
<pre>
      apply ap_ap10_L.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 172
Time: 0.017s">
<div class="time" style="width: 5.0595238095238%"></div>
<pre>
      apply (transport (fun U =&gt; _ = (U @ _) @ _) X); clear X.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 173
Time: 0.018s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
      apply (universality_unit_lemma _ _ _ _ _ _ equiv_inv  pi eisretr eissect a).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 174
Time: 0.217s">
<div class="time" style="width: 64.583333333333%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 175
Time: 0.006s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>                                

  End Basic_facts.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 177
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Section Functions_lifts.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 179
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** In this section, we see how the ○ operator acts on maps *)
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 182
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Variable subU : ReflectiveSubuniverse.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 182
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
    
    Definition function_lift (A B : Type) (f : A -&gt; B)
    : (subU.(O) A) -&gt; (subU.(O) B).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 185
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 186
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      apply O_rec; intro x; apply subU.(O_unit); apply f; exact x.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 188
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>

    Definition function_lift_modal (A:Type) (B:SubuniverseType subU) (f : A -&gt; B)
    : (O subU A) -&gt; B.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 192
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply O_rec.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 193
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact f.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 193
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 194
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>

    Definition function_lift_modal_square (A : Type) (B : SubuniverseType subU) (f : A -&gt; B)
    : (@equiv_inv _ _ (subU.(O_unit) B) (O_modal_equiv _ B))
        o (function_lift A B f)
        o (subU.(O_unit) A)
      =  f.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 200
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 201
Time: 0.033s">
<div class="time" style="width: 9.8214285714286%"></div>
<pre>
      apply path_forall; intro x; unfold compose, function_lift; simpl.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 202
Time: 0.013s">
<div class="time" style="width: 3.8690476190476%"></div>
<pre>
      exact (transport (fun U =&gt; O_rec B B (fun x : B =&gt; x) U = f x)
                       ((ap10 ((O_rec_retr A (subU.(O) B)) ((O_unit subU B) o f)) x)^)
                       (ap10 (O_rec_retr B B idmap) (f x))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 205
Time: 0.012s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 206
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** Function lift is ok with composition *)
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 209
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>Definition function_lift_compose (A B C : Type) ( f : A -&gt; B) (g : B -&gt; C)
    : (function_lift A C (g o f)) = (function_lift B C g) o (function_lift A B f).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 210
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 211
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
      apply path_forall; intro x; simpl.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 212
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      unfold function_lift.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 213
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      fold ( (O_unit subU C) o g).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 214
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      fold ( (O_unit subU B) o f).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 215
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

      assert (P1 : O_rec A (O subU C) (fun x0 : A =&gt; O_unit subU C ((g o f) x0)) x
                   = O_rec A (O subU C) (((O_unit subU C) o g) o f) x) by (exact idpath).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 218
Time: 0.005s">
<div class="time" style="width: 1.4880952380952%"></div>
<pre>

      assert (P2 : O_rec A (O subU C) (((O_unit subU C) o g) o f) x
                   = O_rec A (O subU C)
                           (((O_rec B (O subU C) (O_unit subU C o g) o O_unit subU B) o f)) x).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 222
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply ap10.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 223
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre> apply ap.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 223
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply ap10.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 223
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> apply ap.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 223
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
      exact (inverse (O_rec_retr B (O subU C) (O_unit subU C o g))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 224
Time: 0.008s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>

      assert (P3 : O_rec A (O subU C)
                         (O_rec B (O subU C) (O_unit subU C o g) o O_unit subU B o f) x
                   = O_rec A (O subU C)
                           (O_rec B (O subU C) (O_unit subU C o g) o (O_unit subU B o f)) x)
        by (exact idpath).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 230
Time: 0.009s">
<div class="time" style="width: 2.6785714285714%"></div>
<pre>
      
      assert (P4 : O_rec A (O subU C)
                         (O_rec B (O subU C) (O_unit subU C o g) o (O_unit subU B o f)) x
                   = O_rec A (O subU C)
                           (O_rec B (O subU C) (O_unit subU C o g) o
                                  (O_rec A (O subU B) (O_unit subU B o f) o O_unit subU A)) x).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 236
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      apply ap10.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 237
Time: 0.004s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre> repeat apply ap.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 237
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
      exact (inverse (O_rec_retr A (O subU B) (O_unit subU B o f))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 238
Time: 0.015s">
<div class="time" style="width: 4.4642857142857%"></div>
<pre>
      exact (P1 @ P2 @ P3 @ P4 @
                (ap10 (O_rec_sect A (O subU C)
                                  (O_rec B (O subU C)
                                         (O_unit subU C o g)
                                         o O_rec A (O subU B) (O_unit subU B o f))) x)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 243
Time: 0.048s">
<div class="time" style="width: 14.285714285714%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** Hence function lift is ok with commutative squares *)

   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 248
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition function_lift_square (A B C X : Type) (pi1 : X -&gt; A) (pi2 : X -&gt; B)
               (f : A -&gt; C) (g : B -&gt; C) (comm : (f o pi1) = (g o pi2))
    : ( (function_lift A C f) o (function_lift X A pi1) )
      = ( (function_lift B C g) o (function_lift X B pi2) ).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 251
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 252
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>
      apply path_forall; intro x; simpl.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 253
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      pose (foo1 := ap10 (function_lift_compose X A C pi1 f) x).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 254
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      pose (foo2 := ap10 (function_lift_compose X B C pi2 g) x).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 255
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
      pose (foo3 := ap (fun u =&gt; O_rec X (O subU C) (fun x0 =&gt; O_unit subU C (u x0)) x)
                       (x:=f o pi1) (y:=g o pi2) comm).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 257
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
      exact (concat (concat (inverse foo1) foo3) foo2).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 258
Time: 0.008s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 259
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

  End Functions_lifts.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 261
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Section Types.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Variable subU : ReflectiveSubuniverse.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 265
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** ** The Unit type *)
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 268
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Lemma unit_subuniverse : (subU.(subuniverse_HProp) Unit).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 268
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 269
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      rewrite &lt;- subuniverse_iff_O.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 270
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      apply O_unit_retract_equiv with (mu := fun x:(subU.(O) Unit) =&gt; tt).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 271
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intro u.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 272
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      destruct u; exact idpath.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 273
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 274
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    
    (** ** Dependent product and arrows *)
    (** Theorem 7.7.2 *)
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 278
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition forall_subuniverse (A:Type) (B:A -&gt; Type) 
    : (forall x, (subU.(subuniverse_HProp) (B x)))
      -&gt; ((subU.(subuniverse_HProp)) (forall x:A, (B x))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 280
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 281
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intro H.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 282
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      pose (ev := fun x =&gt; (fun (f:(forall x, (B x))) =&gt; f x)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 283
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      pose (zz := fun x:A =&gt; O_rec (forall x0 : A, (B x0) ) (B x; H x) (ev x)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 284
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      pose (h := fun z =&gt; fun x =&gt; zz x z).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 285
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
      simpl in *.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 286
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      rewrite &lt;- (subuniverse_iff_O).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 287
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      set (eta := (O_unit subU (forall x : A, (B x)))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 288
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply O_unit_retract_equiv with (mu := h).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 289
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intro phi.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 290
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      unfold h, zz, ev; clear h; clear zz; clear ev.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 291
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply path_forall; intro x.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 292
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      pose (foo := @O_rec_retr subU (forall x0 : A, (B x0)) (B x; H x)
                               (fun f : forall x0 : A, (B x0) =&gt; f x)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 294
Time: 0.006s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
      exact (ap10 foo phi).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 295
Time: 0.005s">
<div class="time" style="width: 1.4880952380952%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 296
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Definition arrow_subuniverse (A : Type) (B : SubuniverseType subU)
    : (subuniverse_HProp subU (A -&gt; B)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 299
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 300
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply forall_subuniverse.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 301
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intro a.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact B.2.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 303
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** ** Product *)
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 306
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>Definition product_subuniverse (A B : SubuniverseType subU)
    : (subuniverse_HProp subU (A*B)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 307
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 308
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      rewrite &lt;- subuniverse_iff_O.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 309
Time: 0.004s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>

      pose (mu := fun (X : (O subU (A * B))) =&gt;
                   (O_rec (A * B) (A)
                          (fun x : (A * B) =&gt; (fst x)) X ,
                    O_rec (A * B) (B)
                          (fun x : (A * B) =&gt; (snd x)) X)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 315
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      apply O_unit_retract_equiv with (mu := mu).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 316
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      intro x; destruct x as [a b].</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 317
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      unfold mu; apply path_prod.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 318
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 319
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> simpl.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 319
Time: 0.004s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
        exact (ap10 (O_rec_retr (A * B) A (fun x : (A * B) =&gt; fst x)) (a,b)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 320
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
      -</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 321
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> simpl.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 321
Time: 0.004s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
        exact (ap10 (O_rec_retr (A * B) B (fun x : (A * B) =&gt; snd x)) (a,b)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 322
Time: 0.012s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre> 
    Qed.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 323
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** We show that ○A*○B has the same universal property as ○(A*B) *)
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 326
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Lemma product_universal (A B : Type) (C : SubuniverseType subU)
    : ((O subU A)*(O subU B) -&gt; C) &lt;~&gt; (A * B -&gt; C).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 327
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 328
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply (@equiv_compose' _ (A -&gt; B -&gt; C) _).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 329
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      {</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 330
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
        exists (fun u =&gt; fun x =&gt; u (fst x) (snd x)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 331
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
        apply isequiv_adjointify with (g:= (fun f =&gt; fun u v =&gt; f (u,v))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 332
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        -</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 333
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro x.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 333
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_forall; intro u.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 333
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre> rewrite eta_prod.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 333
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact idpath.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 333
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        -</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 334
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro x.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 334
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre> apply path_forall; intro u; apply path_forall; intro v.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 334
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact idpath.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 334
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      }</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 335
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      
      apply (@equiv_compose' _ ((O subU A) -&gt; B -&gt; C) _).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 337
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      {</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 338
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
        exists ((fun f : (O subU A)  -&gt;
                         (existT (fun T =&gt; subuniverse_HProp subU T)
                                 (B -&gt; C)
                                 (arrow_subuniverse B C)) .1
                 =&gt; f o O_unit subU A)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 343
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>
        exact (O_equiv subU A (( B -&gt; C) ; arrow_subuniverse B C)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 344
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      }</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 345
Time: 0.004s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
      
      apply (@equiv_compose' _ ((O subU A) -&gt; (O subU B) -&gt; C) _).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 347
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      {</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 348
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>
        apply equiv_postcompose'.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 349
Time: 0.009s">
<div class="time" style="width: 2.6785714285714%"></div>
<pre>
        exists (fun f : ((O subU B) )  -&gt; (C )  =&gt; f o O_unit subU B).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 350
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>
        exact (O_equiv subU B C).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 351
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      }</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 352
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

      {</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 354
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
        exists (fun f =&gt; fun u v =&gt; f (u,v)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 355
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
        apply isequiv_adjointify with (g := fun f =&gt; fun u =&gt; f (fst u) (snd u)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 356
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        -</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 357
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro x.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 357
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre> apply path_forall; intro u.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 357
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre> apply path_forall; intro v.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 357
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact idpath.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 357
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        -</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 358
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro x.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 358
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre> apply path_forall; intro u.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 358
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> rewrite eta_prod.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 358
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact idpath.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 358
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      }</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 359
Time: 0.018s">
<div class="time" style="width: 5.3571428571429%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 360
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** TODO : ○(A*B) = ○A * ○B *)

    (** ** Dependent sums *)
    (** Theorem 7.7.4 *)
   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 366
Time: 0.005s">
<div class="time" style="width: 1.4880952380952%"></div>
<pre>Definition sigma_subuniverse
    : (forall (A:SubuniverseType subU) (B:A -&gt; SubuniverseType subU),
         (subuniverse_HProp subU ({x:A &amp; B x})))
      &lt;-&gt;
      (forall (A:Type) (B: (O subU A) -&gt; SubuniverseType subU)
              (g : forall (a:A), (B (O_unit subU A a))),
         {f : forall (z:(O subU A)), (B z) &amp; forall a:A, f (O_unit subU A a) = g a}).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 372
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 373
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      split.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 374
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 375
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro H.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 375
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros A B g.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 375
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>
        pose (Z := (existT (fun T =&gt; (subuniverse_HProp subU T))
                          ({z:(O subU A).1 &amp; (B z)})
                          (H (O subU A) B)) : SubuniverseType subU).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 378
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
        pose (g' := (fun a:A =&gt; (O_unit subU A a ; g a)) : A -&gt; Z).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 379
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        pose (f' := O_rec _ _ g').</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 380
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
        pose (eqf :=fun a:A =&gt; (ap10 (O_rec_retr _ _ g') a)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 381
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
        pose (g'' := fun x =&gt; (f' x).1).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 382
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
        pose (f'' := fun x:(O subU A) =&gt; x).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 383
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>
        pose (eq'' := path_forall _ _ (fun x =&gt; @ap _ _ pr1 _ _ (eqf x))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 384
Time: 0.004s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
        assert (X : g'' o (O_unit subU A) = f'' o (O_unit subU A)) by (exact eq'').</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 385
Time: 0.005s">
<div class="time" style="width: 1.4880952380952%"></div>
<pre>
        pose (eq''' := ap10 (equal_fun_modal _ A (O subU A) (g'') (f'') (eq''))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 386
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
        pose (f := fun z =&gt; (f' z).2).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 387
Time: 0.005s">
<div class="time" style="width: 1.4880952380952%"></div>
<pre> simpl in f.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 387
Time: 0.013s">
<div class="time" style="width: 3.8690476190476%"></div>
<pre>
        set (eta := O_unit subU A) in *.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 388
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

        exists (fun z =&gt; transport (fun u =&gt; (B u)) (eq''' z) (f z)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 390
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        intro a.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 391
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

        pose (p := pr1_path (eqf a)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 393
Time: 0.009s">
<div class="time" style="width: 2.6785714285714%"></div>
<pre> simpl in p.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 393
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>
        pose (q := pr2_path (eqf a)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 394
Time: 0.023s">
<div class="time" style="width: 6.8452380952381%"></div>
<pre> simpl in q.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 394
Time: 0.004s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>

        rewrite &lt;- q.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 396
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre> 
        assert (X0 : (eq''' (eta a)) =  (eqf a) ..1).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 397
Time: 0.302s">
<div class="time" style="width: 89.880952380952%"></div>
<pre>
        unfold eq''', pr1_path, eqf, q, p, f, eq''', eq'', f'', g'', eqf, f', g', Z, eta in *;
          simpl in *.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 399
Time: 0.049s">
<div class="time" style="width: 14.583333333333%"></div>
<pre>
        rewrite universality_unit.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 400
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>
        unfold path_forall.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 401
Time: 0.073s">
<div class="time" style="width: 21.72619047619%"></div>
<pre> rewrite eisretr.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 401
Time: 0.006s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre> exact idpath.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 401
Time: 0.01s">
<div class="time" style="width: 2.9761904761905%"></div>
<pre>
        exact (ap (fun v =&gt; transport (fun u =&gt; B u) v (f' (eta a)) .2) X0).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 402
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 403
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros H A B.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 403
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
        pose (h := fun x =&gt; O_rec ({x:A &amp; B x}) A pr1 x).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 404
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
        pose (p := fun z =&gt; ap10 (O_rec_retr ({x : A &amp; B x}) A pr1) z).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 405
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
        pose (C := fun w =&gt; B(h w)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 406
Time: 0.003s">
<div class="time" style="width: 0.89285714285714%"></div>
<pre>
        pose (g := fun z =&gt; (transport (fun u =&gt; B u) (inverse (p z)) z.2)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 407
Time: 0.016s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>
        simpl in *.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 408
Time: 0.006s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
        specialize (H ({x:A &amp; B x}) C g).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 409
Time: 0.009s">
<div class="time" style="width: 2.6785714285714%"></div>
<pre>
        destruct H as [f q].</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 410
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre> simpl in q.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 410
Time: 0.006s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
        pose (k := (fun w =&gt; (h w; f w))
                   : (O subU ({x:A &amp; B x})) -&gt; ({x:A &amp; B x})); simpl in k.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 412
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

        rewrite &lt;- subuniverse_iff_O.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 414
Time: 0.002s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
        apply O_unit_retract_equiv with (mu := k).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 415
Time: 0.006s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>

        intro x; destruct x as [x1 x2].</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 417
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> unfold k.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 417
Time: 0.026s">
<div class="time" style="width: 7.7380952380952%"></div>
<pre>
        apply (path_sigma _ (O_rec {x : A &amp; B x} A pr1
                                   (O_unit subU {x : A &amp; B x} (x1; x2));
                             f (O_unit subU {x : A &amp; B x} (x1; x2)))
                          (x1;x2) (p (x1;x2))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 421
Time: 0.012s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
        rewrite (q (x1;x2)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 422
Time: 0.012s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre> unfold g; simpl.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 422
Time: 0.011s">
<div class="time" style="width: 3.2738095238095%"></div>
<pre> rewrite &lt;- transport_pp.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 422
Time: 0.007s">
<div class="time" style="width: 2.0833333333333%"></div>
<pre> rewrite concat_Vp.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 422
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        exact idpath.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 423
Time: 0.336s">
<div class="time" style="width: 100%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 424
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    (** ** Paths *)

   </pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 428
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>Definition paths_subuniverse_fun (S:SubuniverseType subU) (x y:S)
    : (O subU (x=y)) -&gt; x=y.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 429
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intros u.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 430
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      assert (p : (fun _:(O subU (x=y)) =&gt; x) = (fun _=&gt; y)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 431
Time: 0.013s">
<div class="time" style="width: 3.8690476190476%"></div>
<pre> 
      apply (equiv_inv (IsEquiv := isequiv_ap (H:=O_equiv subU (x=y) S) (fun _ : (O subU (x = y))  =&gt; x) (fun _ : (O subU (x = y))  =&gt; y))).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 432
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      apply path_forall; intro v.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 433
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact v.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 433
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (ap10 p u).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 434
Time: 0.012s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 435
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>

    Definition paths_subuniverse (S:SubuniverseType subU) (x y:S)
    : (subuniverse_HProp subU (x=y)).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 438
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      rewrite &lt;- subuniverse_iff_O.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 439
Time: 0.001s">
<div class="time" style="width: 0.29761904761905%"></div>
<pre>
      apply O_unit_retract_equiv with (mu := paths_subuniverse_fun S x y).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 440
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intro u.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 441
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      etransitivity.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 442
Time: 0.017s">
<div class="time" style="width: 5.0595238095238%"></div>
<pre>
      exact ((ap_ap10_L
                ((fun _ : (O subU (x = y))  =&gt; x))
                ((fun _ : (O subU (x = y))  =&gt; y))
                (O_unit subU (x = y))
                (equiv_inv (IsEquiv := isequiv_ap (H:=O_equiv subU (x=y) S)
                                                  (fun _ : (O subU (x = y))  =&gt; x)
                                                  (fun _ : (O subU (x = y))  =&gt; y))
                           (path_forall
                              ((fun _ : (O subU (x = y))  =&gt; x) o O_unit subU (x = y))
                              ((fun _ : (O subU (x = y))  =&gt; y) o O_unit subU (x = y))
                              idmap))
                u)^).</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 454
Time: 0.029s">
<div class="time" style="width: 8.6309523809524%"></div>
<pre>
      rewrite eisretr.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 455
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      unfold path_forall, ap10.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 456
Time: 0.016s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>
      rewrite eisretr.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 457
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact idpath.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 457
Time: 0.126s">
<div class="time" style="width: 37.5%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 458
Time: 0.008s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
    
  End Types.</pre>
</div>
<div class="code" title="File: ReflectiveSubuniverse.v
Line: 460
Time: 0.223s">
<div class="time" style="width: 66.369047619048%"></div>
<pre>
End Reflective_Subuniverse.</pre>
</div>
</body>
</html>

