<html>
<head>
<title>Fibrations.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Fibrations.v</h1>

<div class="code" title="File: Fibrations.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(** * Basic facts about fibrations *)

</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 2
Time: 0.009s">
<div class="time" style="width: 6.5217391304348%"></div>
<pre>Require Import Overture PathGroupoids.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 2
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 3
Time: 0.002s">
<div class="time" style="width: 1.4492753623188%"></div>
<pre>

Definition base_path {A} {P : A -&gt; Type} {u v : sigT P} :
  (u = v) -&gt; (pr1 u = pr1 v) :=
  ap (@pr1 _ _).</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 7
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* *** Homotopy fibers *)

(** Homotopy fibers are homotopical inverse images of points.  *)

</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition hfiber {A B : Type} (f : A -&gt; B) (y : B) := { x : A &amp; f x = y }.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This lemma tells us how to extract a commutative triangle in the *)
(*    base from a path in the homotopy fiber. *)

</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 16
Time: 0.002s">
<div class="time" style="width: 1.4492753623188%"></div>
<pre>Lemma hfiber_triangle {A B} {f : A -&gt; B} {z : B} {x y : hfiber f z} (p : x = y) :
  (ap f (base_path p)) @ (y.2) = (x.2).</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 17
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 18
Time: 0.002s">
<div class="time" style="width: 1.4492753623188%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 19
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> simpl.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 19
Time: 0.001s">
<div class="time" style="width: 0.72463768115942%"></div>
<pre> auto with path_hints.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 19
Time: 0.003s">
<div class="time" style="width: 2.1739130434783%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 20
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The action of map on a function of two variables, one dependent on the other. *)

</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 23
Time: 0.001s">
<div class="time" style="width: 0.72463768115942%"></div>
<pre>Lemma map_twovar {A : Type} {P : A-&gt;Type} {B : Type} {x y : A} {a : P x} {b : P y}
  (f : forall x : A, P x -&gt; B) (p : x = y) (q : p # a = b) :
  f x a = f y b.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 25
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 26
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  induction p.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 27
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  simpl in q.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  by induction q.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 29
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 30
Time: 0.002s">
<div class="time" style="width: 1.4492753623188%"></div>
<pre>

Definition fiber_path {A} {P : A -&gt; Type} {u v : sigT P}
  (p : u = v) : (transport _ (ap (@pr1 _ _) p) (u.2) = v.2).</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 34
Time: 0.001s">
<div class="time" style="width: 0.72463768115942%"></div>
<pre>
  by path_induction.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 35
Time: 0.001s">
<div class="time" style="width: 0.72463768115942%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 36
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
(** 2-Paths in a total space. *)

</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 38
Time: 0.001s">
<div class="time" style="width: 0.72463768115942%"></div>
<pre>Definition total_path {A} {P : A -&gt; Type} {x y : sigT P} (p : x.1 = y.1) :
  (transport _ p (x.2) = y.2) -&gt; (x = y).</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 40
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros q.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 41
Time: 0.001s">
<div class="time" style="width: 0.72463768115942%"></div>
<pre>
  destruct x as [x H].</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 42
Time: 0.002s">
<div class="time" style="width: 1.4492753623188%"></div>
<pre>
  destruct y as [y G].</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  simpl in * |- *.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 44
Time: 0.001s">
<div class="time" style="width: 0.72463768115942%"></div>
<pre>
  induction p.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  simpl in q.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 46
Time: 0.001s">
<div class="time" style="width: 0.72463768115942%"></div>
<pre>
  by path_induction.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 47
Time: 0.003s">
<div class="time" style="width: 2.1739130434783%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 48
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


(** And these operations are inverses.  See [total_paths_equiv], later
   on, for a more precise statement. *)

</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 53
Time: 0.002s">
<div class="time" style="width: 1.4492753623188%"></div>
<pre>Lemma total_path_reconstruction {A} {P:A-&gt;Type} {x y : sigT P} (p : x = y) :
  total_path (base_path p) (fiber_path p) = p.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 54
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 55
Time: 0.001s">
<div class="time" style="width: 0.72463768115942%"></div>
<pre>
  induction p.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 56
Time: 0.002s">
<div class="time" style="width: 1.4492753623188%"></div>
<pre>
  by induction x.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 57
Time: 0.002s">
<div class="time" style="width: 1.4492753623188%"></div>
<pre> 
Defined.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 58
Time: 0.005s">
<div class="time" style="width: 3.6231884057971%"></div>
<pre>

Lemma total_path2 {A} (P : A-&gt; Type) (x y : sigT P)
  (p q : x = y) (r : base_path p = base_path q) :
  (transport (fun s =&gt; s # (x.2) = (y.2)) r (fiber_path p) = fiber_path q) -&gt; (p = q).</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 62
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro H.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 64
Time: 0.021s">
<div class="time" style="width: 15.217391304348%"></div>
<pre>
  path_via (total_path _ (fiber_path p)) ;
  [ apply inverse, total_path_reconstruction | ].</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 66
Time: 0.026s">
<div class="time" style="width: 18.840579710145%"></div>
<pre>
  path_via (total_path _ (fiber_path q)) ;
  [ | apply total_path_reconstruction ].</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 68
Time: 0.003s">
<div class="time" style="width: 2.1739130434783%"></div>
<pre>
  by apply @map_twovar with
    (f := @total_path A P x y)
    (p := r).</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 71
Time: 0.006s">
<div class="time" style="width: 4.3478260869565%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Transporting along a path between paths. *)

(* I cannot find trans_trans_opp 
Lemma trans_trans_opp2 {A : Type} {P : A -&gt; Type} {x y : A} {p q : x = y}
  (r : p = q) (z : P y) :
  trans_trans_opp p z =
  map (transport p) (trans2 (opposite2 r) z)
  @ trans2 r (q^ #  z)
  @ trans_trans_opp q z.
Proof.
  path_induction.
Defined. *)

(** Transporting in a sigT of paths. *)

</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 88
Time: 0.002s">
<div class="time" style="width: 1.4492753623188%"></div>
<pre>Lemma trans_paths A B (f g : A -&gt; B) (x y : A) (p : x = y) (q : f x = g x) :
  transport (fun a =&gt; f a = g a) p q
  =
  (ap f p)^ @ q @ ap g p.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 92
Time: 0.003s">
<div class="time" style="width: 2.1739130434783%"></div>
<pre>
  path_induction.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 93
Time: 0.138s">
<div class="time" style="width: 100%"></div>
<pre> hott_simpl.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 93
Time: 0.004s">
<div class="time" style="width: 2.8985507246377%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Fibrations.v
Line: 95
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

